(this["webpackJsonpdstar-client"]=this["webpackJsonpdstar-client"]||[]).push([[0],{101:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","history-pane":"notBar_history-pane___J1JY","success-pane":"notBar_success-pane__3Ex3j","warning-pane":"notBar_warning-pane__3W2_p","error-pane":"notBar_error-pane__1MhU7","title-bar":"notBar_title-bar__2a5j2",closeIcon:"notBar_closeIcon__1Nb9e","hr-history-pane":"notBar_hr-history-pane__2__r1","each-toast":"notBar_each-toast__39f8p"}},107:function(e,t,n){e.exports={mainContainer:"landingPage_mainContainer__1-HFz",content:"landingPage_content__1hjNX",imageContainer:"landingPage_imageContainer__36-WM",titlesContainer:"landingPage_titlesContainer__1mvIe",titles:"landingPage_titles__3xnE0",subTitle:"landingPage_subTitle__33KxK",mainTitle:"landingPage_mainTitle__2tEkN",buttonsContainer:"landingPage_buttonsContainer__2JAQH",buttonsStyle:"landingPage_buttonsStyle__10jNx",image:"landingPage_image__3m7te"}},119:function(e,t,n){e.exports={panelContent:"DStarMenu_panelContent__2hMGJ",userItem:"DStarMenu_userItem__l4kZL",circle:"DStarMenu_circle__2CS3r",initials:"DStarMenu_initials__3kwCT",projectTitle:"DStarMenu_projectTitle__3D99U",projectName:"DStarMenu_projectName__2pMc0",homeLink:"DStarMenu_homeLink__HW1dR",projectLink:"DStarMenu_projectLink__2G-Cy"}},126:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","right-click-menu":"header_right-click-menu__2S5co","right-click-icon":"header_right-click-icon__37C9J",settingsIcon:"header_settingsIcon__2obQn",logoStyle:"header_logoStyle__1NLRS"}},136:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",alternative:"alternative_alternative__3Zy-8","alternative-selected":"alternative_alternative-selected___Q7JJ","alternative-selected-related":"alternative_alternative-selected-related__3wbOR","alternative-hovered":"alternative_alternative-hovered__oSW0r","alternative-hovered-related":"alternative_alternative-hovered-related__2W0bk","alternative-hovered-selected":"alternative_alternative-hovered-selected__1aOBB","alternative-image":"alternative_alternative-image__3KXF5","alternative-toggle1":"alternative_alternative-toggle1__-DgHH","alternative-toggle2":"alternative_alternative-toggle2__3c9Qg"}},137:function(e,t,n){e.exports={"panel-textField":"searchPanel_panel-textField__1_qbA","panel-buttons-container":"searchPanel_panel-buttons-container__2xQeD","panel-content":"searchPanel_panel-content__9j_IE","panel-form":"searchPanel_panel-form__3OuE6","action-button":"searchPanel_action-button__3SF9F","panel-button":"searchPanel_panel-button__1UyXR"}},138:function(e,t,n){e.exports={contextMenuContainer:"projectContextMenu_contextMenuContainer___nezp",openContainer:"projectContextMenu_openContainer__1o2ck",editContainer:"projectContextMenu_editContainer__3McaB",deleteContainer:"projectContextMenu_deleteContainer__2xqRS",listItemText:"projectContextMenu_listItemText__31Fso"}},150:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","panel-content":"settingsPanel_panel-content__3RBWA",projectLabel:"settingsPanel_projectLabel__CNhJT",projectTitle:"settingsPanel_projectTitle__3XhgY",inputLabel:"settingsPanel_inputLabel__16XdQ",textColor:"settingsPanel_textColor__2B2Rk",containerForProjectAndName:"settingsPanel_containerForProjectAndName__Aq05i",button:"settingsPanel_button__2WW_8",copyInput:"settingsPanel_copyInput__3hUU3"}},177:function(e,t,n){e.exports={navigation:"navigation_navigation__hqASe",logo:"navigation_logo__29Y6Y",nav:"navigation_nav__hAati",logoContainer:"navigation_logoContainer__1ENn0",logoStyle:"navigation_logoStyle__3pxZB"}},202:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","list-container":"listView_list-container__jCeoU","alternative-image":"listView_alternative-image__3mYX7"}},203:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",infobar:"infoBar_infobar__3pdfJ","infopar-a":"infoBar_infopar-a__1uRfG","infopar-s":"infoBar_infopar-s__-eoDB","infopar-r":"infoBar_infopar-r__2YaiL"}},204:function(e,t,n){e.exports={panelContent:"collectionMenu_panelContent__27I8x",reagraneCollection:"collectionMenu_reagraneCollection__1qhzs"}},276:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",App:"App_App__uQezi",canvas:"App_canvas__Kxp-h",container:"App_container__1L_HV"}},278:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","sink-list-menu":"sinkList_sink-list-menu__2RzZT","hr-sinkList":"sinkList_hr-sinkList__1AF4p","items-list":"sinkList_items-list__274Oj"}},279:function(e,t,n){e.exports={navigationItems:"navigationItems_navigationItems__1u2op",name:"navigationItems_name__b0lHH",logoutItem:"navigationItems_logoutItem__1MMtF"}},31:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",collection:"collection_collection__1tUl8","collection-selected":"collection_collection-selected__1OrOQ","collection-related":"collection_collection-related__1-3Q0","collection-name-div":"collection_collection-name-div__3AYzm","collection-title-div":"collection_collection-title-div__2oFFN","collection-input-div":"collection_collection-input-div__1fQbi",textInputStyle:"collection_textInputStyle__3YorQ","collection-titleView-div":"collection_collection-titleView-div__1JDFz","collection-name":"collection_collection-name__1V28t","collection-name-view":"collection_collection-name-view__3b7wU",tagEdit:"collection_tagEdit__1Y-kx",arrow:"collection_arrow__140E2",down:"collection_down__1UOD-",up:"collection_up__Up4CA","toggle-button":"collection_toggle-button__pwTPt","icon-handle":"collection_icon-handle__17Uy-",pointer:"collection_pointer__3MDXc",pointer2:"collection_pointer2__1bJnG","start-drag":"collection_start-drag__1PNHd",dragging:"collection_dragging__36Z3L",multiValueLabel:"collection_multiValueLabel__1LNPT",arrowIconsContainer:"collection_arrowIconsContainer__2VwdR",arrowIconStyle:"collection_arrowIconStyle__rB-wG"}},322:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",tagBar:"tagBar_tagBar__1H-mN","tagBar-span":"tagBar_tagBar-span__37aJj"}},325:function(e,t,n){e.exports={"file-input":"projectBox_file-input__12dau"}},326:function(e,t,n){e.exports={navigationItem:"navigationItem_navigationItem__2VEr0",name:"navigationItem_name__1nIdw",active:"navigationItem_active__2-FdT"}},34:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",gridLayout:"collections_gridLayout__3NxWr",container:"collections_container__1xvP7"}},450:function(e,t,n){e.exports={"alternative-container":"alternatives_alternative-container__1QqUy"}},457:function(e,t,n){e.exports={loader:"loader_loader__1NnqQ",load5:"loader_load5__YxR7_"}},53:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","button-div":"parallel_button-div__ZpGrv",button:"parallel_button__32awR",selectStyle:"parallel_selectStyle__1sART",inputBox:"parallel_inputBox__v5_xI"}},54:function(e,t,n){e.exports={mainContainer:"auth_mainContainer__3b9bM",content:"auth_content__16JSt",authContainer:"auth_authContainer__3Yq8n",titleContainer:"auth_titleContainer__1JVWQ",signupBox:"auth_signupBox__f8KWQ",formStyle:"auth_formStyle__26AA5",inputContainer:"auth_inputContainer__21FZB",buttonContainer:"auth_buttonContainer__1F7aB",inputStyle:"auth_inputStyle__ycit0",textInput:"auth_textInput__2wVm5",submitInput:"auth_submitInput__1JQUc",titleBox:"auth_titleBox__26H6x",title:"auth_title__2Ic2H"}},59:function(e,t,n){e.exports={mainsContainer:"projects_mainsContainer__1SnSK",controlsContainer:"projects_controlsContainer__1D-R2",controlsContent:"projects_controlsContent__1ESIx",initials:"projects_initials__1tHW1",userContainer:"projects_userContainer__2LtrM",userName:"projects_userName__3GORV",circle:"projects_circle__2Ge2Z",projectsContainer:"projects_projectsContainer__1jTl5",projectsRow:"projects_projectsRow__3Id5q",addProjectContainer:"projects_addProjectContainer__3IT8-",plusIcon:"projects_plusIcon__2STRv",logoutContainer:"projects_logoutContainer__1bsg7",logoutText:"projects_logoutText__1nLNj",addProjectText:"projects_addProjectText__2tbx9",homeContainer:"projects_homeContainer__gTYkx",homeText:"projects_homeText__ZHYU2"}},648:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/DStarBlackLogo.e06b7ae5.png"},654:function(e,t,n){},655:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=n(27),s=n.n(r),a=n(20),c=n(99),l=n(448),d=n(15),u=n.n(d),p=new u.a.Map({FETCH_ALTERNATIVES:"FETCH_ALTERNATIVES",FETCH_COLLECTIONS:"FETCH_COLLECTIONS",FETCH_LAYOUT:"FETCH_LAYOUT",FETCH_PROJECT:"FETCH_PROJECT",FETCHING_PROJECT:"FETCHING_PROJECT",OPEN_WEB_SOCKET_CONNECTION:"OPEN_WEB_SOCKET_CONNECTION",SET_NEW_WEBSOCKET:"SET_NEW_WEBSOCKET",ADD_NEW_ALTERNATIVES:"ADD_NEW_ALTERNATIVES",CREATE_COLLECTION:"CREATE_COLLECTION",UPDATE_ALTERNATIVE:"UPDATE_ALTERNATIVE",UPDATE_MAX_COLUMNS:"UPDATE_MAX_COLUMNS",ADD_ALTERNATIVE_TO_COLLEECTION:"ADD_ALTERNATIVE_TO_COLLEECTION",DELETE_COLLECTION:"DELETE_COLLECTION",TOGGLE_DRAGGING:"TOGGLE_DRAGGING",SELECT_COLLECTION:"SELECT_COLLECTION",DESELECT_COLLECTION:"DESELECT_COLLECTION",SELECT_ALTERNATIVE:"SELECT_ALTERNATIVE",DESELECT_ALTERNATIVE:"DESELECT_ALTERNATIVE",HOVER_ALTERNATIVE:"HOVER_ALTERNATIVE",DEHOVER_ALTERNATIVE:"DEHOVER_ALTERNATIVE",DEHOVER_ALL_ALTERNATIVES:"DEHOVER_ALL_ALTERNATIVES",INSERT_LAYOUT:"INSERT_LAYOUT",CLIP_ALTERNATIVE:"CLIP_ALTERNATIVE",CLIP_COLLECTION:"CLIP_COLLECTION",CLEAR_ALTS_CLIPBOARD:"CLEAR_ALTS_CLIPBOARD",CLEAR_COLS_CLIPBOARD:"CLEAR_COLS_CLIPBOARD",CHANGE_COLLECTION_NAME:"CHANGE_COLLECTION_NAME",SHOW_HEADER:"SHOW_HEADER",HIDE_HEADER:"HIDE_HEADER",SHOW_SINK_LIST:"SHOW_SINK_LIST",HIDE_SINK_LIST:"HIDE_SINK_LIST",TOGGLE_SINK:"TOGGLE_SINK",SAVE_LAYOUT:"SAVE_LAYOUT",HANDLE_SUCCESS:"HANDLE_SUCCESS",HANDLE_WARNING:"HANDLE_WARNING",HANDLE_ERROR:"HANDLE_ERROR",DESELECT_ALL_ALTERNATIVES:"DESELECT_ALL_ALTERNATIVES",DESELECT_ALL_COLLECTIONS:"DESELECT_ALL_COLLECTIONS",TOGGLE_HISTORY:"TOGGLE_HISTORY",TOGGLE_VIEW_MODE:"TOGGLE_VIEW_MODE",TOGGLE_ALT_VIEW:"TOGGLE_ALT_VIEW",ALTER_ALTERNATIVE:"ALTER_ALTERNATIVE",SELECT_PATH:"SELECT_PATH",DESELECT_PATH:"DESELECT_PATH",ADD_DATA_FIELD:"ADD_DATA_FIELD",REMOVE_DATA_FIELD:"REMOVE_DATA_FIELD",UPDATE_PATH:"UPDATE_PATH",FETCH_KEY_SETS:"FETCH_KEY_SETS",FETCH_VALUE_BANDS:"FETCH_VALUE_BANDS",FETCH_SETTINGS:"FETCH_SETTINGS",ORDER_ALTERNATIVES:"ORDER_ALTERNATIVES",ADD_ALTERNATIVE_TO_COLLECTION:"ADD_ALTERNATIVE_TO_COLLECTION",ORDER_COLLECTION_DIMENSIONS:"ORDER_COLLECTION_DIMENSIONS",SET_LOADING_STATE:"SET_LOADING_STATE",REMOVE_ALTERNATIVE:"REMOVE_ALTERNATIVE",TOGGLE_SETTINGS:"TOGGLE_SETTINGS",SET_ALTERNATIVE_SIZE:"SET_ALTERNATIVE_SIZE",SET_COMPACTION_TYPE:"SET_COMPACTION_TYPE",GATHER_ALL_COLLECTIONS:"GATHER_ALL_COLLECTIONS",SET_COLLISION_PREVENTION:"SET_COLLISION_PREVENTION",SET_VALUE_BANDS:"SET_VALUE_BANDS",SHOULD_COMMIT_QUERY:"SHOULD_COMMIT_QUERY",ADD_QUERY:"ADD_QUERY",REMOVE_QUERY:"REMOVE_QUERY",CLEAR_ALL_QUERIES:"CLEAR_ALL_QUERIES",SET_COLLECTION_DESTINATION:"SET_COLLECTION_DESTINATION",SET_COLLECTION_MODE:"SET_COLLECTION_MODE",UPDATE_COLLECTION_TAGS:"UPDATE_COLLECTION_TAGS",ADD_BRUSH:"ADD_BRUSH",REMOVE_BRUSH:"REMOVE_BRUSH",CLEAR_ALL_BRUSHES:"CLEAR_ALL_BRUSHES",TOGGLE_SEARCH:"TOGGLE_SEARCH",SEARCHED_COLLECTION:"SEARCHED_COLLECTION",SEARCH_COLLECTION_FALID:"SEARCH_COLLECTION_FALID",EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH:"EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH",UPDATE_LAYOUTS:"UPDATE_LAYOUTS",HANDLE_EDIT_NAME_START:"HANDLE_EDIT_NAME_START",EDIT_COLLECTION_NAME:"EDIT_COLLECTION_NAME",REMOVE_FOCUS:"REMOVE_FOCUS",SELECT_PROJECT:"SELECT_PROJECT",CREATING_PROJECT:"CREATING_PROJECT",FETCH_USER:"FETCH_USER",NOT_FETCH_USER:"NOT_FETCH_USER",PROJECT_ID:"PROJECT_ID",USER_ID:"USER_ID",LOGOUT_USER:"LOGOUT_USER",DELETE_PROJECT:"DELETE_PROJECT",PROJECT_EDIT_BOX:"PROJECT_EDIT_BOX",UPDATE_PROJECT:"UPDATE_PROJECT",SHOW_PROJECT_CONTEXT_MENU:"SHOW_PROJECT_CONTEXT_MENU",HIDE_PROJECT_CONTEXT_MENU:"HIDE_PROJECT_CONTEXT_MENU",RESET_STATE_ON_BACK_ARROW:"RESET_STATE_ON_BACK_ARROW",EDITTING:"EDITTING",UPDATE_SHOW_DSTAR_MENU:"UPDATE_SHOW_DSTAR_MENU",UPDATE_SHOW_COLLECTION_MENU:"UPDATE_SHOW_COLLECTION_MENU",SET_SORT_PARAMS:"SET_SORT_PARAMS",GET_COLLECTION_ALTERNATIVES_LAYOUT:"GET_COLLECTION_ALTERNATIVES_LAYOUT"}),h=new u.a.Map({ID:"viewId",REF:"refId",NAME:"collectionName",ALTERNATIVE_IDS:"altsid"}),g=n(105),f=new u.a.Map({UNTITLED_COLLECTION_NAME:"untitled"}),v=n(58),m=n.n(v),b=n(65),j=n.n(b),S=m()((function(e,t){return e.find((function(e){return e.get(h.get("NAME"))===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),O=m()((function(e,t){return e.find((function(e){return e.get("viewId")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),y=m()((function(e,t){return e.filter((function(e){return e.get(h.get("ID"))!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),C=function(e){var t=f.get("UNTITLED_COLLECTION_NAME");return e.get(h.get("NAME"))&&(t=e.get(h.get("NAME"))),t},_=m()((function(e,t){return t.filter((function(t){return e.get("altsid").includes(t.get("viewId"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),x=m()((function(e,t,n,o){return n*e+t*e+o}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),E=(m()((function(e,t,n,o){return n*e+t*e+o}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),function(e,t){return{x:Math.round(e/200),y:Math.round(t/60)}}),w=function(e){if(!(e&&e.length>0))return e;if(e.includes("View(")){var t=e.indexOf("-View(");return e.slice(0,t)}},N=function(e){if(e.includes("-View(")){var t=e.indexOf("-View(");return e.slice(0,t)}return e},A=u.a.fromJS({collections:[],collectionsFetched:!1,clippedCollections:[],showHelp:!1,shouldRemoveFocus:!1,altSize:0}),I=n(14),k=new u.a.Map({ID:"viewId",REF:"refId",IMAGE:"image"}),T=new u.a.Map({MARGIN:10,CELL_DIM:200,BUFFER:10,ROW_HEIGHT:130,DEFAULT_ALT_HEIGHT:1,DEFAULT_ALT_WIDTH:1,DEFAULT_MAX_COLUMNS:81,LAYOUT_UPDATE_MESSAGE_TYPE:"layout"}),L="http://",P=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_host||"127.0.0.1:5050",M=new u.a.Map({getHost:"".concat(L).concat(P,"/"),alternatives_fetch:"".concat(L).concat(P,"/alternatives"),collections_fetch:"".concat(L).concat(P,"/collections"),layout_fetch:"".concat(L).concat(P,"/layout"),project_fetch:"".concat(L).concat(P,"/project"),project_select:"".concat(L).concat(P,"/project/select"),project_create:"".concat(L).concat(P,"/project"),delete_project:"".concat(L).concat(P,"/project"),update_project:"".concat(L).concat(P,"/project"),user_register:"".concat(L).concat(P,"/user/register"),user_login:"".concat(L).concat(P,"/user/login"),user_fetch:"".concat(L).concat(P,"/user"),settings_fetch:"".concat(L).concat(P,"/settings"),cartesian_product:"".concat(L).concat(P,"/computeCP"),parameter_spectra:"".concat(L).concat(P,"/computePS"),sampling:"".concat(L).concat(P,"/computeSample"),spectral_cartesian_product:"".concat(L).concat(P,"/computeSCP"),sensitivity_analysis:"".concat(L).concat(P,"/computeSA"),websocketURL:"".concat("ws://").concat(P,"/delta"),collections:"".concat(L).concat(P,"/collections"),collectionCopyWithRef:"".concat(L).concat(P,"/collections/copy/ref"),newCollection:"".concat(L).concat(P,"/new-collection"),alternativeCopy:"".concat(L).concat(P,"/alternatives/ref/copy"),alternativeClone:"".concat(L).concat(P,"/alternatives/clone"),collectionClone:"".concat(L).concat(P,"/collections/clone"),collectionDeepClone:"".concat(L).concat(P,"/collections/clone/deep"),cloneAltInNewCollection:"".concat(L).concat(P,"/collections/alt/clone"),alternativeEdit:"".concat(L).concat(P,"/alternatives/edit"),alternativeCloneEdit:"".concat(L).concat(P,"/alternatives/edit/clone"),alternativesRemove:"".concat(L).concat(P,"/alternatives"),alternativeRestore:"".concat(L).concat(P,"/alternatives/restore"),alternative_sketching:"".concat(L).concat(P,"/alternatives/sketching"),deleteCollection:"".concat(L).concat(P,"/collections"),sinkCollection:"".concat(L).concat(P,"/collections/sink")}),R=m()((function(e,t){return e.find((function(e){return e.get("viewId")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),D=function(e,t){var n=e.find((function(e){return e.get("viewId")===t})),o=n.get("refId");return e.filter((function(e){return e.get("refId")===o})).filter((function(e){return e.get("viewId")!==n.get("viewId")}))},B=(m()((function(e,t){return e.filter((function(e){return e.get(k.get("ID"))!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),m()((function(e){return M.get("getHost")+e.get(k.get("IMAGE"))}))),H=(m()((function(e,t){return e.filter((function(e){return t.includes(e.get("viewId"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),m()((function(e,t){return e.filter((function(e){return e!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")}))),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0,o=0,i=T.get("DEFAULT_ALT_WIDTH"),r=T.get("DEFAULT_ALT_HEIGHT"),s=0;return e.map((function(e){var a={x:n,y:o,w:i,h:r,i:e};return(s+=1)%t===0?(s=0,o+=1,n=0):n+=1,a}))},F=m()((function(e){return e.map((function(e){return e.get(k.get("ID"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),W=n(329),V=n(330),U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?t:n},G=function(e,t){e[t];return Object(W.a)(e,[t].map(V.a))},z=function(e,t,n){return e[t]=n[t],e},K=function(e,t,n){var o={};return o=e.params?Object.assign(o,e.params):Object.assign(o,t),o=e.outputs?Object.assign(o,e.outputs):Object.assign(o,n),{viewId:e.viewId,refId:e.refId,collectionName:N(e.collectionName),collectionRefId:e.collectionRefId,collectionViewId:e.collectionViewId,params:e.params?e.params:t,outputs:e.outputs?e.outputs:n,parallelData:o,gltf:e.gltf,image:e.image,altView:!1,isSelected:!1,isHovered:!1,isLoading:!1}},Y=function(e,t,n){return{viewId:e.viewId,refId:e.refId,collectionName:N(e.collectionName),collectionNameView:e.collectionNameView,altsid:e.altsid,isSinked:e.isSinked,tags:e.tags,viewType:e.viewType,dimOrder:e.keySets,inputs:t,outputs:n,isSelected:!1,isEditingName:!1,destinations:[],sortParams:[],layoutsForAlts:[],currentMode:{isAltering:!1,isEditing:!1,isLiveEditing:!1,isCloning:!1,isToggling:!1,isSampling:!1,isSketching:!1,isBrushing:!1,isCPing:!1,isPSing:!1,isSAing:!1}}},Q=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))},q=u.a.fromJS({alternatives:[],alternativesFetched:!1,clippedAlternatives:[]}),X=m()((function(e,t){return e.get("gridLayout").find((function(e){return e.get("i")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),Z=m()((function(e,t){return e.get("layoutClipboard").find((function(e){return e.get("i")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),$=m()((function(e,t){return e.filter((function(e){return e.get("i")!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j()(t).join("_")})),ee=function(e){for(var t=0,n=0,o=e.toJS(),i=0;i<o.length;i++)o[i].w=3,o[i].h=5,t<8?(o[i].x=t,o[i].y=n,t+=o[i].w):(t=0,o[i].x=t,o[i].y=n,t+=o[i].w,n+=o[i].h);return o},te=u.a.fromJS({gridLayout:[],layoutClipboard:[],layoutsFetched:!1,maxColumns:T.get("DEFAULT_MAX_COLUMNS")}),ne=u.a.fromJS({projects:[],projectFetched:!1,projectLoaded:!1,isCreating:!1,showContextMenu:!1,showEditBox:!1,editProject:null,selectedProject:null,contextMenuPosX:0,contextMenuPosY:0,showProjectContextMenu:!1,contextMenuSelectedProject:null,editing:!1}),oe=u.a.fromJS({user:{},user_fechted:!1}),ie=u.a.fromJS({connected:!1,websocket:null}),re=u.a.fromJS({headerShow:!1,listShow:!1,headerX:0,headerY:0,showDStarMenu:!1,showCollectionList:!1}),se=u.a.fromJS({successes:[],warnings:[],errors:[],showHistory:!1}),ae=u.a.fromJS({showSettings:!1,alternativeImageSize:180,collectionCompactionType:"none",preventCollision:!0}),ce=function(e,t){return e.filter((function(e){return e.get("id")!==t}))},le=function(e,t){return e.filter((function(e){return e.get("id")!=t}))},de=u.a.fromJS({queries:[],brushes:[]}),ue=u.a.fromJS({keySets:[],valueBands:[]}),pe=u.a.fromJS({showSearch:!1,showValidation:!1,missMatchCollectionNames:[]}),he=u.a.fromJS({user:{},userFetched:!1,userLoggedIn:!1}),ge=Object(c.c)({collections:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(o.type){case p.get("RESET_STATE_ON_BACK_ARROW"):case p.get("FETCHING_PROJECT"):return n.set("collectionsFetched",!1).set("collections",u.a.fromJS([])).set("shouldRemoveFocus",!1).set("showHelp",!1).set("clippedCollections",u.a.fromJS([]));case p.get("FETCH_COLLECTIONS"):return n.set("collections",u.a.fromJS(o.payload)).set("collectionsFetched",!0);case p.get("CREATE_COLLECTION"):return n.update("collections",(function(e){return e.push(u.a.fromJS(o.payload))}));case p.get("DELETE_COLLECTION"):return n.set("collections",y(n.get("collections"),o.payload));case p.get("SELECT_COLLECTION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"isSelected"],!0)}));case p.get("DESELECT_COLLECTION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"isSelected"],!1)}));case p.get("DESELECT_ALL_COLLECTIONS"):return n.update("collections",(function(e){return e.map((function(e){return e.set("isSelected",!1)}))}));case p.get("CLIP_COLLECTION"):return n.update("clippedCollections",(function(e){return e.push(u.a.fromJS(o.payload))}));case p.get("CLEAR_COLS_CLIPBOARD"):return n.update("clippedCollections",(function(e){return e.clear()}));case p.get("CHANGE_COLLECTION_NAME"):return e=O(n.get("collections"),o.payload.collectionId).set(h.get("NAME"),o.payload.collectionName).set("isEditingName",!1),t=y(n.get("collections"),o.payload.collectionId).push(e),n.set("collections",t);case p.get("HANDLE_EDIT_NAME_START"):return n.update("collections",(function(e){return e.map((function(e){return e.get("refId")===o.payload?e.set("isEditingName",!e.get("isEditingName")):e}))}));case p.get("EDIT_COLLECTION_NAME"):return n.update("collections",(function(e){return e.map((function(e){return e.get("isEditingName")?e.set("collectionName",o.payload.name):e}))}));case p.get("TOGGLE_SINK"):return n.update("collections",(function(e){var t=e.findIndex((function(e){return e.get("viewId")===o.payload}));return e.setIn([t,"isSinked"],!e.get(t).get("isSinked"))}));case p.get("TOGGLE_VIEW_MODE"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collectionId})),"viewType"],o.payload.viewType)}));case p.get("ADD_ALTERNATIVE_TO_COLLECTION"):return n.update("collections",(function(e){return e.map((function(e){if(e.get("viewId")===o.payload.collectionId){var t=e.get("altsid").push(u.a.fromJS(o.payload.alternativeId));return e.set("altsid",t).set("dimOrder",u.a.fromJS(o.payload.dimOrder)).set("inputs",u.a.fromJS(o.payload.collectionInputs)).set("outputs",u.a.fromJS(o.payload.collectionOutputs))}return e}))}));case p.get("ORDER_COLLECTION_DIMENSIONS"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"dimOrder"],u.a.fromJS(o.payload.dimOrder))}));case p.get("SET_COLLECTION_DESTINATION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"destinations"],u.a.fromJS(o.payload.destinations))}));case p.get("SET_COLLECTION_MODE"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"currentMode"],u.a.fromJS(o.payload.mode))}));case p.get("UPDATE_COLLECTION_TAGS"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collectionId})),"tags"],u.a.fromJS(o.payload.tags))}));case p.get("REMOVE_FOCUS"):return n.set("shouldRemoveFocus",!n.get("shouldRemoveFocus"));case p.get("SET_SORT_PARAMS"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"sortParams"],u.a.fromJS(o.payload.sortParams))}));case p.get("GET_COLLECTION_ALTERNATIVES_LAYOUT"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"layoutsForAlts"],u.a.fromJS(o.payload.layouts))}));default:return n}},alternatives:function(){var e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(i.type){case p.get("RESET_STATE_ON_BACK_ARROW"):case p.get("FETCHING_PROJECT"):return o.set("alternativesFetched",!1).set("alternatives",u.a.fromJS([])).set("clippedAlternatives",u.a.fromJS([]));case p.get("FETCH_ALTERNATIVES"):return o.set("alternatives",u.a.fromJS(i.payload)).set("alternativesFetched",!0);case p.get("ADD_NEW_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.push(u.a.fromJS(i.payload))}));case p.get("UPDATE_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.viewId?e.mergeDeepWith((function(e,t,n){return"isSelected"===n?e:t}),u.a.fromJS(i.payload.alternative)):e}))}));case p.get("SELECT_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isSelected"],!0)}));case p.get("DESELECT_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isSelected"],!1)}));case p.get("HOVER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.viewId?e.set("isHovered",!0):e.set("isHovered",!1)}))}));case p.get("DEHOVER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isHovered"],!1)}));case p.get("DEHOVER_ALL_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.map((function(e){return e.set("isHovered",!1)}))}));case p.get("DESELECT_ALL_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.map((function(e){return e.set("isSelected",!1)}))}));case p.get("CLIP_ALTERNATIVE"):return o.update("clippedAlternatives",(function(e){return e.push(u.a.fromJS(i.payload))}));case p.get("REMOVE_ALTERNATIVE"):return o.set("alternatives",H(o.get("alternatives"),i.payload));case p.get("CLEAR_ALTS_CLIPBOARD"):return o.update("clippedAlternatives",(function(e){return e.clear()}));case p.get("TOGGLE_ALT_VIEW"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload?e.set("altView",!e.get("altView")):e}))}));case p.get("SET_LOADING_STATE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isLoading"],i.payload.isLoading)}));case p.get("ALTER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternativeID?e.setIn(["parallelData",i.payload.parameter],i.payload.newValue):e}))}));case p.get("ADD_DATA_FIELD"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternative.get("viewId")?(t=i.payload.alternative.get("parallelData").toJS(),e.setIn(["parallelData"],u.a.fromJS(z(t,i.payload.field,Object.assign(e.get("params").toJS(),e.get("outputs").toJS()))))):e}))}));case p.get("REMOVE_DATA_FIELD"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternative.get("viewId")?(t=i.payload.alternative.get("parallelData").toJS(),e.setIn(["parallelData"],u.a.fromJS(G(t,i.payload.field)))):e}))}));case p.get("ORDER_ALTERNATIVES"):return o.update("alternatives",(function(t){return n=t.findIndex((function(e){return e.get("viewId")===i.payload})),e=t[n],t.delete(n).push(e)}));default:return o}},layouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("RESET_STATE_ON_BACK_ARROW"):case p.get("FETCHING_PROJECT"):return e.set("layoutsFetched",!1).set("gridLayout",u.a.fromJS([])).set("layoutClipboard",u.a.fromJS([])).set("maxColumns",u.a.fromJS(T.get("DEFAULT_MAX_COLUMNS")));case p.get("FETCH_LAYOUT"):return e.set("gridLayout",u.a.fromJS(t.payload)).set("layoutsFetched",!0);case p.get("UPDATE_MAX_COLUMNS"):return e.set("gridLayout",u.a.fromJS(t.layout)).set("maxColumns",t.width);case p.get("TOGGLE_DRAGGING"):return e.set("dragging",!e.get("dragging"));case p.get("DELETE_COLLECTION"):return e.set("gridLayout",$(e.get("gridLayout"),t.payload));case p.get("INSERT_LAYOUT"):return e.update("gridLayout",(function(e){return e.push(u.a.fromJS(t.payload))}));case p.get("SAVE_LAYOUT"):return e.update("layoutClipboard",(function(e){return e.push(u.a.fromJS(t.payload))}));case p.get("GATHER_ALL_COLLECTIONS"):return e.set("gridLayout",u.a.fromJS(ee(e.get("gridLayout"))));case p.get("UPDATE_LAYOUTS"):default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("RESET_STATE_ON_BACK_ARROW"):return e.set("projectLoaded",!1).set("selectedProject",null);case p.get("FETCH_PROJECT"):return e.set("projects",u.a.fromJS(t.payload.projects)).set("projectLoaded",t.payload.db_loaded).set("projectFetched",!0);case p.get("SELECT_PROJECT"):return e.set("projectLoaded",!0).set("selectedProject",t.payload);case p.get("CREATING_PROJECT"):return e.set("isCreating",!e.get("isCreating"));case p.get("DELETE_PROJECT"):return e.set("projects",e.get("projects").filter((function(e){return e.get("id")!==t.payload})));case p.get("PROJECT_EDIT_BOX"):return e.set("showEditBox",!e.get("showEditBox")).set("editProject",t.payload);case p.get("UPDATE_PROJECT"):var n=e.get("projects").findIndex((function(e){return e.get("id")===t.payload.projectId}));return e.set("showEditBox",!1).setIn(["projects",n,"name"],t.payload.projectName).setIn(["projects",n,"description"],t.payload.projectDescription);case p.get("SHOW_PROJECT_CONTEXT_MENU"):return e.set("contextMenuPosX",t.payload.xPos).set("contextMenuPosY",t.payload.yPos).set("showProjectContextMenu",!0).set("contextMenuSelectedProject",t.payload.project);case p.get("HIDE_PROJECT_CONTEXT_MENU"):return e.set("contextMenuPosX",0).set("contextMenuPosY",0).set("showProjectContextMenu",!1).set("contextMenuSelectedProject",null);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCH_USER"):return e.set("user",u.a.fromJS(t.payload));case p.get("NOT_FETCH_USER"):return e.set("user_fechted",!e.get("user_fechted"));default:return e}},websocket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("OPEN_WEB_SOCKET_CONNECTION"):return u.a.fromJS({connected:!0});case p.get("SET_NEW_WEBSOCKET"):return u.a.fromJS({websocket:t.payload});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("RESET_STATE_ON_BACK_ARROW"):return e.set("headerShow",!1).set("headerX",0).set("headerY",0);case p.get("SHOW_HEADER"):return e.set("headerShow",!0).set("headerX",t.headerX).set("headerY",t.headerY);case p.get("HIDE_HEADER"):return e.set("headerShow",!1).set("headerX",0).set("headerY",0);case p.get("SHOW_SINK_LIST"):return e.set("listShow",!0);case p.get("HIDE_SINK_LIST"):return e.set("listShow",!1);case p.get("UPDATE_SHOW_DSTAR_MENU"):return e.set("showDStarMenu",!e.get("showDStarMenu"));case p.get("UPDATE_SHOW_COLLECTION_MENU"):return e.set("showCollectionList",!e.get("showCollectionList"));default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("RESET_STATE_ON_BACK_ARROW"):return e.set("successes",u.a.fromJS([])).set("warnings",u.a.fromJS([])).set("errors",u.a.fromJS([])).set("showHistory",!1);case p.get("FETCHING_PROJECT"):return e;case p.get("HANDLE_SUCCESS"):return e.update("successes",(function(e){return e.push(u.a.fromJS(t.payload))}));case p.get("HANDLE_WARNING"):return e.update("warnings",(function(e){return e.push(u.a.fromJS(t.payload)).set("cursorChange",!0)}));case p.get("HANDLE_ERROR"):return e.update("errors",(function(e){return e.push(u.a.fromJS(t.payload)).set("cursorChange",!0).set("freezeApp",!0)}));case p.get("TOGGLE_HISTORY"):return e.set("showHistory",!e.get("showHistory"));default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("showSettings",!1);case p.get("FETCH_SETTINGS"):return e.set("alternativeImageSize",u.a.fromJS(t.payload.alternativeImageSize)).set("collectionCompactionType",u.a.fromJS(t.payload.collectionCompactionType)).set("preventCollision",u.a.fromJS(t.payload.preventCollision));case p.get("TOGGLE_SETTINGS"):return e.set("showSettings",!e.get("showSettings"));case p.get("SET_ALTERNATIVE_SIZE"):return e.set("alternativeImageSize",t.payload);case p.get("SET_COMPACTION_TYPE"):return e.set("collectionCompactionType",t.payload);case p.get("SET_COLLISION_PREVENTION"):return e.set("preventCollision",t.payload);default:return e}},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("queries",u.a.fromJS([])).set("brushes",u.a.fromJS([]));case p.get("ADD_QUERY"):return e.update("queries",(function(e){return e.push(u.a.fromJS(t.payload))}));case p.get("REMOVE_QUERY"):return e.set("queries",ce(e.get("queries"),t.payload.queryId));case p.get("CLEAR_ALL_QUERIES"):return e.update("queries",(function(e){return e.clear()}));case p.get("ADD_BRUSH"):return e.update("brushes",(function(e){return e.push(u.a.fromJS(t.payload))}));case p.get("REMOVE_BRUSH"):return e.set("brushes",le(e.get("brushes"),t.payload.queryId));case p.get("CLEAR_ALL_BRUSHES"):return e.update("brushes",(function(e){return e.clear()}));default:return e}},scales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("keySets",u.a.fromJS([])).set("valueBands",u.a.fromJS([]));case p.get("FETCH_KEY_SETS"):return e.set("keySets",u.a.fromJS(t.payload));case p.get("FETCH_VALUE_BANDS"):return e.set("valueBands",u.a.fromJS(t.payload));case p.get("SET_VALUE_BANDS"):return e.setIn(["valueBands",t.payload.dim,t.payload.end],u.a.fromJS(t.payload.val));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("showSearch",!1).set("showValidation",!1).set(" missMatchCollectionNames",u.a.fromJS([]));case p.get("TOGGLE_SEARCH"):return e.set("showSearch",!e.get("showSearch")).set("showValidation",!1);case p.get("SEARCH_COLLECTION_FALID"):return e.set("showValidation",!0).set("missMatchCollectionNames",u.a.fromJS(t.payload));case p.get("EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH"):return e.set("missMatchCollectionNames",[]);case p.get("SEARCHED_COLLECTION"):return e.set("showValidation",!1);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCH_USER"):return e.set("user",u.a.fromJS(t.payload)).set("userFetched",!0).set("userLoggedIn",!0);case p.get("NOT_FETCH_USER"):return e.set("userFetched",!1);case p.get("LOGOUT_USER"):return e.set("userLoggedIn",!1).set("user",u.a.fromJS({})).set("userFetched",!1);default:return e}}}),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d;var ve=n(6),me=n(11),be=n(9),je=n(10),Se=n(51),Oe=n(270),ye=n(276),Ce=n.n(ye),_e=n(93),xe=n(249),Ee=n.n(xe),we=n(449),Ne=n.n(we),Ae=n(80),Ie=n.n(Ae),ke=n(38),Te=n(455),Le=n(323),Pe=n(409),Me=n(456),Re=n(0),De=n(450),Be=n.n(De),He=n(136),Je=n.n(He),Fe=n(408),We=n(89),Ve=n(451),Ue=n(2),Ge=n(583)(We),ze=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).initializeOrbits=function(){e.controls.rotateSpeed=1,e.controls.zoomSpeed=1.2,e.controls.panSpeed=.8},e.initializeCamera=function(){var t=e.scene.children[1].children[0],n=new We.Box3;n.setFromObject(t);var o=n.getSize(),i=Math.max(o.x,o.y,o.z),r=e.camera.fov*(Math.PI/180),s=Math.abs(i/4*Math.tan(2*r));s*=20,e.camera.position.z=s;var a=n.min.z,c=a<0?-a+s:s-a;e.camera.far=3*c,e.camera.updateProjectionMatrix()},e.animate=function(){e.frameId=window.requestAnimationFrame(e.animate),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.gammaOutput=!0,e.renderer.gammaFactor=2.2,e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.type=We.PCFSoftShadowMap,e.renderer.render(e.scene,e.camera)},e.handleControls=function(e){e.stopPropagation()},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.scene=new We.Scene,this.scene.background=new We.Color(15592941),this.camera=new We.PerspectiveCamera(80,1,.001,1e3),this.scene.add(this.camera),this.renderer=new We.WebGLRenderer({antialias:!0}),this.controls=new Ge(this.camera,this.renderer.domElement),this.renderer.setSize(this.props.width,this.props.height),this.renderer.toneMapping=We.ReinhardToneMapping,this.mount.appendChild(this.renderer.domElement),this.renderer.domElement.setAttribute("style",this.props.customStyle),this.initializeOrbits(),this.loader=new Ve,this.loader.load(M.get("getHost")+this.props.gltf,(function(t){e.scene.add(t.scene),e.scene.add(new We.AmbientLight(14024704)),e.scene.traverse((function(t){t instanceof We.Mesh&&(t.geometry.center(),t.material=new We.MeshPhongMaterial({color:5178115,emissive:0,shading:We.FlatShading,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1})),e.initializeCamera()}))})),this.animate(),window.onresize=function(){var t=window.innerWidth,n=window.innerHeight;e.camera.aspect=t/n,e.camera.updateProjectionMatrix(),e.renderer.setSize(t,n)}}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return Object(Ue.jsx)("div",{onMouseDownCapture:this.handleControls,className:"boardCanvas",ref:function(t){e.mount=t}})}}]),n}(o.PureComponent),Ke=n(144),Ye=n.n(Ke),Qe=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={transform:null,left:0,top:0,wasDragged:!1},e.toggleAltView=function(t){t.stopPropagation(),t.preventDefault(),e.props.toggleAltView(e.props.alternative.get("viewId"))},e.handleDoubleClick=function(t){t.stopPropagation(),e.props.restoreAlternative(e.props.alternative.get("viewId"))},e.handleHover=function(t,n){t?e.props.hoverAlternative(e.props.alternative.get("viewId"),e.props.alternative.get("refId")):e.props.dehoverAlternative(e.props.alternative.get("viewId"),e.props.alternative.get("refId"))},e.handleDeleteClick=function(t){t.stopPropagation(),t.preventDefault(),e.props.removeAlternativesFromCollection(Object(d.fromJS)([e.props.alternative.toJS()]))},e.handleDragStart=function(e){e.preventDefault()},e.move=function(t){var n=document.getElementById(e.props.alternative.get("viewId"));if(null!=n&&e.state.top&&e.state.left&&(e.state.left!==n.style.left||e.state.top!==n.style.top)){var o=e.state.top.replace("px",""),i=e.state.left.replace("px",""),r=n.style.top.replace("px",""),s=n.style.left.replace("px","");o=parseInt(o),i=parseInt(i),r=parseInt(r),s=parseInt(s),((o>=r?o-r:r-o)>=6||(i>=s?i-s:s-i)>=6)&&(e.state.wasDragged||e.setState({wasDragged:!0}))}},e.handleMouseDown=function(t){var n=t.target,o=document.getElementById(e.props.alternative.get("viewId"));e.setState({transform:o.style.transform,left:o.style.left,top:o.style.top}),n.addEventListener("mousemove",e.move,!0)},e.handleMouseUp=function(t){t.stopPropagation();var n=t.target;!1!==e.props.alternative.get("altView")||e.state.wasDragged?(e.setState({top:0,left:0,wasDragged:!1}),n.removeEventListener("mousemove",e.move,!0)):e.props.alternative.get("isSelected")?e.props.deselectAlternative(e.props.alternative.get("viewId")):e.props.selectAlternative(e.props.alternative.get("viewId"))},e}return Object(me.a)(n,[{key:"render",value:function(){var e="C";this.props.alternative.get("isSelected")?e="A":!this.props.alternative.get("isSelected")&&this.props.selectedAlts.includes(this.props.alternative.get("refId"))&&(e="B");var t=Ie()({[Je.a.alternative]:"C"===e,[Je.a["alternative-selected"]]:"A"===e,[Je.a["alternative-selected-related"]]:"B"===e}),n=this.props.layoutForAlt?this.props.layoutForAlt.w:1,o=this.props.layoutForAlt?this.props.layoutForAlt.h:1,i={width:(this.props.alternativeImageSize-12)*n,height:(this.props.alternativeImageSize-20)*o},r={width:(this.props.alternativeImageSize-22)*n,height:(this.props.alternativeImageSize-30)*o};return Object(Ue.jsxs)("div",{id:this.props.alternative.get("viewId"),className:"alt alt-ref-"+this.props.alternative.get("refId")+" alt-view-"+this.props.alternative.get("viewId")+" "+t,style:i,onDoubleClick:this.handleDoubleClick,onMouseEnter:Ye()(this.handleHover.bind(this,!0)),onMouseLeave:Ye()(this.handleHover.bind(this,!1)),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,children:["A"!==e&&"E"!==e||!1!==this.props.alternative.get("isLoading")?null:Object(Ue.jsx)(ke.q,{className:Je.a["alternative-toggle1"],onMouseUp:this.toggleAltView}),"A"!==e&&"E"!==e||!1!==this.props.alternative.get("isLoading")?null:Object(Ue.jsx)(ke.d,{className:Je.a["alternative-toggle2"],onMouseUp:this.handleDeleteClick}),Object(Ue.jsx)("div",{children:!this.props.alternative.get("altView")||"A"!==e&&"E"!==e?!0===this.props.alternative.get("isLoading")?Object(Ue.jsx)("div",{children:Object(Ue.jsx)(Fe.a,{style:{marginTop:"37.5%",marginLeft:"37.5%"}})}):Object(Ue.jsx)("img",{onDragStart:this.handleDragStart,src:B(this.props.alternative),style:r,className:Je.a["alternative-image"],alt:"img-"+this.props.alternative.get("viewId")}):Object(Ue.jsx)(ze,{width:r.width,height:r.height,customStyle:"padding: 5px",className:Je.a["alternative-image"],gltf:this.props.alternative.get("gltf"),id:this.props.alternative.get("altView")})})]})}}]),n}(o.PureComponent),qe=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).renderAlternatives=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return Object(Ue.jsx)("div",{"data-grid":o.props.layoutsForAlts.toJS().find((function(t){return t.i===e.get("viewId")})),children:Object(Ue.jsx)(Qe,Object(I.a)({isResizable:!0,alternative:e,layoutForAlt:o.props.layoutsForAlts.toJS().find((function(t){return t.i===e.get("viewId")}))},t),e.get("viewId"))},e.get("viewId"))}))},o.onLayoutChange=function(e){o.setState({layouts:e})},o.state={layouts:[]},o}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=x(this.props.layoutForCollection.get("w"),5,T.get("CELL_DIM"),0),t=Math.floor((e-40)/170),n=J(this.props.altsId,t);this.props.handleAltsLayout(n.toJS())}},{key:"componentDidUpdate",value:function(e){if(this.props.layoutForCollection.get("w")!=e.layoutForCollection.get("w")){var t=x(this.props.layoutForCollection.get("w"),5,T.get("CELL_DIM"),0),n=Math.floor((t-40)/170),o=J(this.props.altsId,n);this.props.handleAltsLayout(o.toJS())}}},{key:"render",value:function(){var e=x(this.props.layoutForCollection.get("w"),5,T.get("CELL_DIM"),0),t=Math.floor((e-40)/170);J(this.props.altsInCollection.map((function(e){return e.get("viewId")})),t);return Object(Ue.jsx)(Ee.a,{width:t*this.props.alternativeImageSize,rowHeight:this.props.alternativeImageSize-20,isResizable:!0,cols:t,onLayoutChange:this.onLayoutChange,className:Be.a["alternative-container"],item:this.props.altsInCollection.size,compactType:"horizontal",margin:[10,10],containerPadding:this.margin,layout:this.props.layoutsForAlts.toJS(),useCSSTransforms:!1,children:this.renderAlternatives(this.props.altsInCollection,{alternativeImageSize:this.props.alternativeImageSize,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,toggleAltView:this.props.toggleAltView,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts})})}}]),n}(o.PureComponent),Xe=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return U(this.props.alternativeImageSize,Object(Ue.jsx)(qe,Object(I.a)({},this.props)))}}]),n}(o.Component),Ze=Object(a.c)((function(e){return{alternativeImageSize:e.settings.get("alternativeImageSize")}}),null)(Xe),$e=n(31),et=n.n($e),tt=n(42),nt=n.n(tt),ot=n(88),it=n(84),rt=n(13),st=n(53),at=n.n(st),ct=n(260),lt=n(678),dt=n(683),ut=n(681),pt=n(682),ht=n(680),gt=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleOk=function(){null!=o.props.confirmAction&&o.props.confirmAction(),o.setState({open:!1})},o.handleCancel=function(){o.setState({open:!1}),null!=o.props.confirmAction&&o.props.handleDeleteCancel()},o.state={open:!0,pressedOk:!1,pressedcancel:!1},o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)(lt.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ue.jsx)(ht.a,{id:"alert-dialog-title",children:"Warning"}),Object(Ue.jsx)(ut.a,{children:Object(Ue.jsx)(pt.a,{id:"alert-dialog-description",children:this.props.message})}),Object(Ue.jsxs)(dt.a,{children:[Object(Ue.jsx)(Pe.a,{onClick:this.handleCancel,color:"primary",children:"Cancel"}),Object(Ue.jsx)(Pe.a,{onClick:this.handleOk,color:"primary",autoFocus:!0,children:"OK"})]})]})})}}]),n}(o.PureComponent),ft=n(66),vt=n.n(ft),mt=n(452),bt=n.n(mt);n(223);var jt=function(e){return Object(Ue.jsx)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 22 22"},e),{},{children:Object(Ue.jsxs)("g",{transform:"translate(-27.925 -195.133)",children:[Object(Ue.jsx)("circle",{cy:206.133,cx:38.925,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74}),Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{d:"M33.685 201.132v2.023h1.12v-.97h1.141v-1.053zm4.262 0v1.053h1.955v-1.053zm3.956 0v1.053h1.202v.97h1.06v-2.023zm-8.218 4.023v1.956h1.12v-1.956zm9.42 0v1.956h1.06v-1.956zm-9.42 3.956v2.023h2.261v-.888h-1.142v-1.135zm9.42 0v1.135h-1.202v.888h2.261v-2.023zm-5.158 1.135v.888h1.955v-.888zM37.31 203.251l4.497 4.497-1.267 1.266-4.496-4.496z"}),Object(Ue.jsx)("path",{d:"M41.807 204.518l-4.497 4.496-1.266-1.266 4.496-4.497z"})]})}))};var St=function(e){return Object(Ue.jsx)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 22 22"},e),{},{children:Object(Ue.jsxs)("g",{transform:"translate(-215.4 -82.496)",children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("circle",{cx:226.401,cy:93.496,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74}),Object(Ue.jsx)("circle",{cy:93.496,cx:226.401,r:6.032,fill:"none",stroke:"#020008",strokeWidth:.936,strokeMiterlimit:.1,strokeOpacity:.99}),Object(Ue.jsx)("text",{y:97.29,x:223.67,style:{lineHeight:1.25,InkscapeFontSpecification:"'Avenir Next, Medium'",fontVariantLigatures:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantEastAsian:"normal"},fontWeight:500,fontSize:10.583,fontFamily:"Avenir Next",strokeWidth:.265,children:Object(Ue.jsx)("tspan",{style:{InkscapeFontSpecification:"'Avenir Next, Medium'",fontVariantLigatures:"normal",fontVariantCaps:"normal",fontVariantNumeric:"normal",fontVariantEastAsian:"normal"},y:97.29,x:223.67,children:"?"})})]})}))};var Ot=function(e){return Object(Ue.jsx)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",height:"2em",width:"2em"},e),{},{children:Object(Ue.jsxs)("g",{transform:"translate(-215.4 -82.496)",children:[Object(Ue.jsx)("circle",{cy:93.496,cx:226.401,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74}),Object(Ue.jsxs)("g",{transform:"matrix(1.18675 0 0 1.21002 -43.534 -19.636)",children:[Object(Ue.jsx)("path",{d:"M223.522 92.396v.014a1.1 1.1 0 01.172-.014zm.176 0a1.1 1.1 0 011.1 1.1 1.1 1.1 0 01-1.096 1.1h8.82v-.002a1.1 1.1 0 00.071.002 1.1 1.1 0 001.1-1.1 1.1 1.1 0 00-1.1-1.1 1.1 1.1 0 00-.071.003v-.003zm-.176 2.186v.014h.176a1.1 1.1 0 01-.176-.014z"}),Object(Ue.jsx)("circle",{r:1.1,cy:93.496,cx:222.323})]}),Object(Ue.jsxs)("g",{transform:"matrix(1.18675 0 0 1.21002 -43.534 -23.466)",children:[Object(Ue.jsx)("path",{d:"M223.522 92.396v.014a1.1 1.1 0 01.172-.014zm.176 0a1.1 1.1 0 011.1 1.1 1.1 1.1 0 01-1.096 1.1h8.82v-.002a1.1 1.1 0 00.071.002 1.1 1.1 0 001.1-1.1 1.1 1.1 0 00-1.1-1.1 1.1 1.1 0 00-.071.003v-.003zm-.176 2.186v.014h.176a1.1 1.1 0 01-.176-.014z"}),Object(Ue.jsx)("circle",{cx:222.323,cy:93.496,r:1.1})]}),Object(Ue.jsxs)("g",{transform:"matrix(1.18675 0 0 1.21002 -43.534 -15.807)",children:[Object(Ue.jsx)("path",{d:"M223.522 92.396v.014a1.1 1.1 0 01.172-.014zm.176 0a1.1 1.1 0 011.1 1.1 1.1 1.1 0 01-1.096 1.1h8.82v-.002a1.1 1.1 0 00.071.002 1.1 1.1 0 001.1-1.1 1.1 1.1 0 00-1.1-1.1 1.1 1.1 0 00-.071.003v-.003zm-.176 2.186v.014h.176a1.1 1.1 0 01-.176-.014z"}),Object(Ue.jsx)("circle",{cx:222.323,cy:93.496,r:1.1})]})]})}))};var yt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",height:"2em",width:"2em"},e),{},{children:[Object(Ue.jsx)("defs",{children:Object(Ue.jsxs)("marker",{id:"sink_svg__a",refX:0,refY:0,orient:"auto",overflow:"visible",children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{d:"M-5.231-2.42L1.324-.01-5.23 2.401c1.047-1.423 1.041-3.37 0-4.821z",fillRule:"evenodd",stroke:"#000",strokeWidth:.375,strokeLinejoin:"round"})]})}),Object(Ue.jsxs)("g",{transform:"translate(-95.204 -137.68)",children:[Object(Ue.jsx)("circle",{cy:148.681,cx:106.204,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74}),Object(Ue.jsx)("path",{d:"M100.173 153.911h12.062v.898h-12.062z"}),Object(Ue.jsx)("path",{d:"M105.827 141.12v9.316",fill:"none",stroke:"#000",strokeWidth:.72,strokeMiterlimit:3.7,markerEnd:"url(#sink_svg__a)",transform:"translate(.371 1.431)"})]})]}))};var Ct=function(e){return Object(Ue.jsx)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",height:"2em",width:"2em"},e),{},{children:Object(Ue.jsxs)("g",{transform:"translate(-138.277 -17.627)",children:[Object(Ue.jsxs)("g",{stroke:"#1d1d1b",strokeWidth:.2,children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{fill:"none",d:"M137.583 17.198h2.646v2.646h-2.646zM141.552 17.198h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",d:"M145.521 17.198h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"none",d:"M137.583 21.167h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",d:"M141.552 21.167h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"none",d:"M145.521 21.167h2.646v2.646h-2.646zM137.583 25.135h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",d:"M141.552 25.135h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"}),Object(Ue.jsx)("path",{fill:"none",d:"M145.521 25.135h2.646v2.646h-2.646z",transform:"matrix(1.11029 0 0 1.18728 -9.356 1.926)"})]}),Object(Ue.jsx)("circle",{cx:149.277,cy:28.627,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74})]})}))};var _t=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"1 1 18 18",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"brush_svg__cls-15",fill:"none",stroke:"#1d1d1b",strokeWidth:2.381,strokeMiterlimit:10,d:"M5.704 6.757h6.876"}),Object(Ue.jsx)("path",{className:"brush_svg__cls-1",d:"M12.924 6.754h.688a.69.69 0 01.688.688v1.374a.69.69 0 01-.688.688h-3.313a1.445 1.445 0 00-1.5 1.373v1.378",fill:"none",stroke:"#1d1d1b",strokeWidth:.265,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"brush_svg__cls-16",fill:"none",stroke:"#1d1d1b",strokeWidth:1.587,strokeLinecap:"round",strokeMiterlimit:10,d:"M8.799 12.599v2.408"})]}))};var xt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"CartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M3.825 8.042L7.94 3.928"}),Object(Ue.jsx)("path",{className:"CartesianProduct_svg__cls-7",d:"M4.145 7.722l-.251-1.028h-.038l-.629 1.459-.85 1.33 1.33-.85 1.46-.629V7.97zM7.62 4.244l-1.029-.248v-.038l1.46-.629 1.333-.853-.853 1.333-.618 1.46H7.88z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"CartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M7.94 8.042L3.825 3.928"}),Object(Ue.jsx)("path",{className:"CartesianProduct_svg__cls-7",d:"M7.62 7.722l-1.029.252v.034l1.46.633 1.333.85-.853-1.33-.618-1.448H7.88zM4.145 4.248l-.251 1.028H3.86l-.633-1.459-.85-1.333 1.33.853 1.46.629V4z",fill:"#1d1d1b"})]}))};var Et=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"2 0 18 18",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,d:"M6.104 4.858v7.885M7.958 4.858v7.885"}),Object(Ue.jsx)("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,strokeDasharray:"1.6,1.6",d:"M9.813 4.858v7.885M11.67 4.858v7.885"}),Object(Ue.jsx)("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,d:"M13.525 4.858v7.885"})]}))};var wt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-7",d:"M11.488 5.336h-1.265v-.87h1.265V3.16h.895v1.307h1.265v.869h-1.265v1.306h-.895z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.28575,strokeMiterlimit:10,d:"M6.355 1.499H1.734v5.57"}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-7",d:"M5.86 1.495l-.644 1.021.035.023 1.68-.667 1.752-.38-1.752-.382L5.25.444l-.035.019z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.28575,strokeMiterlimit:10,d:"M5.677 13.649h4.618v-5.57"}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-7",d:"M6.192 13.649l.624-1.029-.034-.023-1.684.667-1.752.381 1.752.381 1.68.667h.035z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M8.554 11.824V3.233"}),Object(Ue.jsx)("circle",{className:"directEditRef_svg__cls-9",cx:8.554,cy:6.673,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M5.868 11.824V3.233"}),Object(Ue.jsx)("circle",{className:"directEditRef_svg__cls-9",cx:5.868,cy:9.092,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.25 3.233v8.591"}),Object(Ue.jsx)("circle",{className:"directEditRef_svg__cls-9",cx:3.25,cy:8.216,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10})]}))};var Nt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M8.839 10.432V1.841"}),Object(Ue.jsx)("circle",{className:"edirRef_svg__cls-11",cx:8.839,cy:5.281,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M6.153 10.432V1.841"}),Object(Ue.jsx)("circle",{className:"edirRef_svg__cls-11",cx:6.153,cy:7.7,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M3.536 1.841v8.591"}),Object(Ue.jsx)("circle",{className:"edirRef_svg__cls-11",cx:3.536,cy:6.824,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10})]}))};var At=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"editClone_svg__cls-7",d:"M9.474 4.236H8.213v-.873h1.26V2.06h.896v1.303h1.261v.873h-1.26v1.303h-.9z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M6.54 10.724V2.129"}),Object(Ue.jsx)("circle",{className:"editClone_svg__cls-9",cx:6.54,cy:5.573,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.858 10.724V2.129"}),Object(Ue.jsx)("circle",{className:"editClone_svg__cls-9",cx:3.858,cy:7.989,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M1.237 2.129v8.595"}),Object(Ue.jsx)("circle",{className:"editClone_svg__cls-9",cx:1.237,cy:7.116,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10})]}))};var It=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"parameterSpecturm_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10,d:"M3.187 1.471v8.892M5.903 1.398v8.897M8.677 1.471v8.892"}),Object(Ue.jsx)("path",{className:"parameterSpecturm_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.21 7.841l2.712-4.157M8.715 6.031L5.922 3.684M5.907 8.531l2.808-2.5M5.93 6.187l2.785-.156M3.29 7.845l2.61.663M5.93 6.187L3.21 7.841"}),Object(Ue.jsx)("circle",{className:"parameterSpecturm_svg__cls-9",cx:5.903,cy:6.218,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"parameterSpecturm_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.21 7.841l2.724-5.867M5.903 2.134l2.812 3.897M8.715 6.031L5.903 9.944M3.21 7.841l2.693 2.103"}),Object(Ue.jsx)("circle",{className:"parameterSpecturm_svg__cls-9",cx:3.187,cy:7.845,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"parameterSpecturm_svg__cls-9",cx:8.677,cy:6.012,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10})]}))};var kt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"1 2 18 18",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("g",{children:Object(Ue.jsxs)("g",{transform:"translate(14.848 10.218)",children:[Object(Ue.jsx)("path",{fill:"none",stroke:"#1d1d1b",strokeMiterlimit:"10",strokeWidth:"0.265",d:"M-1.565-2.42h.688a.69.69 0 01.688.687v1.376a.69.69 0 01-.688.688h-3.312a1.447 1.447 0 00-1.5 1.376V3.08",className:"cls-1"}),Object(Ue.jsx)("path",{fill:"none",stroke:"#1d1d1b",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"1.587",d:"M-5.689 3.424L-5.689 5.832",className:"cls-18"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",stroke:"#1d1d1b",strokeMiterlimit:"10",strokeWidth:"0.265",d:"M-5.893-3.524h.45a2.291 2.291 0 010 2.178h-.45z",className:"cls-21"}),Object(Ue.jsx)("path",{fill:"#fff",stroke:"#1d1d1b",strokeMiterlimit:"10",strokeWidth:"0.661",d:"M-7.433-4.701a2.26 2.26 0 011.852.957.513.513 0 00.415.22h1.453v2.178h-1.453a.513.513 0 00-.415.22 2.265 2.265 0 11-1.852-3.575z",className:"cls-22"}),Object(Ue.jsx)("path",{fill:"none",stroke:"#1d1d1b",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"0.529",d:"M-3.073 -1.256L-3.073 -3.614",className:"cls-23"}),Object(Ue.jsx)("path",{fill:"none",stroke:"#1d1d1b",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"0.529",d:"M-2.528 -1.256L-2.528 -3.614",className:"cls-23"}),Object(Ue.jsx)("path",{fill:"none",stroke:"#1d1d1b",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"0.529",d:"M-1.985 -1.256L-1.985 -3.614",className:"cls-23"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"0.198",d:"M-1.723 -1.166L-1.723 -3.704",className:"cls-24"}),Object(Ue.jsx)("path",{fill:"#1d1d1b",stroke:"#1d1d1b",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"0.397",d:"M-1.408-2.889h.044a.455.455 0 110 .908h-.044z",className:"cls-25"})]})})]}))};var Tt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"perturbation_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10,d:"M1.413 1.431v8.897M4.13 1.363v8.892M10.451 1.431v8.897M7.121 1.229v8.897M4.168 6.194l2.953-.145M1.413 5.439l2.743.682M7.185 6.022l3.266.347"}),Object(Ue.jsx)("circle",{className:"perturbation_svg__cls-15",cx:1.413,cy:5.439,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"perturbation_svg__cls-15",cx:10.451,cy:6.369,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"perturbation_svg__cls-15",cx:4.13,cy:6.182,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"perturbation_svg__cls-15",cx:7.121,cy:6.049,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"perturbation_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M4.084 3.569l2.953-.149M1.329 2.81l2.74.682M7.102 3.393l3.265.347M4.084 8.967l2.953-.144M1.329 8.213l2.74.682M7.102 8.796l3.265.347"})]}))};var Lt=function(e){return Object(Ue.jsx)("svg",Object(I.a)(Object(I.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",height:"2em",width:"2em"},e),{},{children:Object(Ue.jsxs)("g",{transform:"translate(-103.852 -146.283)",children:[Object(Ue.jsxs)("g",{transform:"matrix(1.20813 0 0 1.2049 114.852 157.283)",strokeWidth:.497,strokeMiterlimit:.1,stroke:"#000",children:[Object(Ue.jsx)("path",{d:"M2.884-.798l1.266-.35.185-.014 1.634.73v.864l-1.634.73-.185-.014-1.266-.35-.751 1.3.936.922.105.154.185 1.779-.75.432-1.447-1.05-.081-.167-.33-1.272H-.751l-.33 1.272-.08.167-1.449 1.05-.749-.432.185-1.78.105-.153.936-.921-.75-1.301-1.267.35-.185.014-1.634-.73v-.864l1.634-.73.185.014 1.266.35.751-1.3-.936-.922-.105-.154-.185-1.779.75-.432 1.447 1.05.081.167.33 1.272H.751l.33-1.272.08-.167 1.449-1.05.749.432-.185 1.78-.105.153-.936.921z"}),Object(Ue.jsx)("circle",{r:2.1})]}),Object(Ue.jsx)("circle",{cx:114.852,cy:157.283,fill:"none",stroke:"#a0a0a0",strokeWidth:.521,strokeMiterlimit:.1,strokeOpacity:.99,r:10.74}),Object(Ue.jsx)("circle",{r:2.5,cy:157.283,cx:114.852,fill:"#fffffe"})]})}))};var Pt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M9.203 10.33V1.738"}),Object(Ue.jsx)("circle",{className:"sketch_svg__cls-9",cx:9.203,cy:5.179,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M6.136 10.33V1.738"}),Object(Ue.jsx)("circle",{className:"sketch_svg__cls-9",cx:6.136,cy:7.598,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.137 1.738v8.592"}),Object(Ue.jsx)("circle",{className:"sketch_svg__cls-9",cx:3.137,cy:6.722,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),Object(Ue.jsx)("path",{className:"sketch_svg__cls-16",d:"M1.754 4.238a.1.1 0 01.107 0l.076.038.149.072.3.13.576.251a3.429 3.429 0 003.43-.38c.17-.111.342-.226.51-.351.167-.126.316-.282.48-.404a6.096 6.096 0 00.472-.43 1.749 1.749 0 00.248-.275 1.273 1.273 0 01.335-.21 1.989 1.989 0 011.444 0 4.282 4.282 0 01.633.275c.099.053.194.114.29.175l.136.1.065.049.034.026v.08c0 .057-.06.046-.072.038h-.038l-.072-.034-.153-.065-.297-.13a3.147 3.147 0 00-.606-.178 1.375 1.375 0 00-1.337.316.518.518 0 00-.21.206c-.125.171-.251.38-.404.552a3.764 3.764 0 01-.499.488 5.608 5.608 0 01-.548.434 4.012 4.012 0 01-2.728.762 3.383 3.383 0 01-1.353-.465 2.362 2.362 0 01-.556-.43 4.972 4.972 0 01-.225-.27l-.103-.142c-.053-.106-.118-.122-.084-.228z",fill:"#e30613"})]}))};var Mt=function(e){return Object(Ue.jsxs)("svg",Object(I.a)(Object(I.a)({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),{},{children:[Object(Ue.jsx)("title",{id:"title",children:e.title}),Object(Ue.jsx)("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M4.175 8.196l4.114-4.119"}),Object(Ue.jsx)("path",{className:"spectralCartesianProduct_svg__cls-7",d:"M4.495 7.876l-.252-1.033h-.038L3.576 8.33l-.853 1.334 1.333-.854 1.46-.628v-.035zM7.97 4.397l-1.03-.251v-.038l1.46-.629 1.333-.85-.85 1.33-.628 1.46h-.034z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M8.289 8.192L4.175 4.081"}),Object(Ue.jsx)("path",{className:"spectralCartesianProduct_svg__cls-7",d:"M7.97 7.872l-1.03.251v.038l1.46.63 1.33.853-.846-1.315-.629-1.46h-.034zM4.495 4.397l-.252 1.029h-.038l-.629-1.46-.85-1.352 1.33.85 1.46.632v.03z",fill:"#1d1d1b"}),Object(Ue.jsx)("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M1.275 1.688v8.897M10.895 10.585V1.688"}),Object(Ue.jsx)("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:1.275,cy:8.062,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:1.275,cy:3.247,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:10.895,cy:4.21,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),Object(Ue.jsx)("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:10.895,cy:9.026,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10})]}))};var Rt=vt.a.colorCurrentCommand,Dt=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleClick=function(e){switch(e){case"search":o.setState({showSearch:!o.state.showSearch,showEdit:!1,showGenerate:!1,showSettings:!1});break;case"edit":o.setState({showEdit:!o.state.showEdit,showSearch:!1,showGenerate:!1,showSettings:!1});break;case"generate":o.setState({showGenerate:!o.state.showGenerate,showSearch:!1,showEdit:!1,showSettings:!1});break;case"settings":o.setState({showSettings:!o.state.showSettings,showSearch:!1,showGenerate:!1,showEdit:!1});break;case"unlock":o.setState({showUnlock:!1});break;case"lock":o.setState({showUnlock:!0})}},o.handleUnlockclick=function(){o.props.lockAspectRatio(!0),o.handleClick("unlock")},o.handleLockClick=function(){o.props.lockAspectRatio(!1),o.handleClick("lock")},o.samplingCheckboxChanged=function(e){o.setState({createOnlyInTheRange:e.target.checked}),o.props.samplingCheckboxChanged(e)},o.state={showSearch:!1,showEdit:!1,showGenerate:!1,showSettings:!1,showUnlock:!0,createOnlyInTheRange:o.props.createOnlyInTheRange},o}return Object(me.a)(n,[{key:"render",value:function(){var e=Ie()({[vt.a["button-visible"]]:!0===this.state.showSearch,[vt.a["button-hidden"]]:!1===this.state.showSearch}),t=Ie()({[vt.a["button-visible"]]:!0===this.state.showEdit,[vt.a["button-hidden"]]:!1===this.state.showEdit}),n=Ie()({[vt.a["button-visible"]]:!0===this.state.showGenerate,[vt.a["button-hidden"]]:!1===this.state.showGenerate}),o=Ie()({[vt.a["button-visible"]]:!0===this.state.showSettings,[vt.a["button-hidden"]]:!1===this.state.showSettings}),i=this.state.showSearch||this.props.isBrushing||this.props.isSampling?{backgroundColor:Rt}:{},r=this.state.showEdit||this.props.isSketching||this.props.isAltering||this.props.isLiveEditing||this.props.isCloning?{backgroundColor:Rt}:{},s=this.state.showGenerate||this.props.isCPing||this.props.isPSing||this.props.isSAing||this.props.isSCPing?{backgroundColor:Rt}:{},a=this.state.showSettings||this.props.isToggling?{backgroundColor:Rt}:{},c=(this.state.showUnlock,this.props.isBrushing?{border:"4px solid",borderColor:Rt}:{}),l=this.props.isSketching?{border:"4px solid",borderColor:Rt}:{},d=this.props.isAltering?{border:"4px solid",borderColor:Rt}:{},u=this.props.isSampling?{border:"4px solid",borderColor:Rt}:{},p=this.props.isLiveEditing?{border:"4px solid",borderColor:Rt}:{},h=this.props.isCloning?{border:"4px solid",borderColor:Rt}:{},g=this.props.isToggling?{border:"4px solid",borderColor:Rt}:{},f=this.props.isCPing?{border:"4px solid",borderColor:Rt}:{},v=this.props.isPSing?{border:"4px solid",borderColor:Rt}:{},m=this.props.isSAing?{border:"4px solid",borderColor:Rt}:{},b=this.props.isSCPing?{border:"4px solid",borderColor:Rt}:{},j=[0,1,2,3,4,5,6],S=j[0];return Object(Ue.jsxs)("div",{className:vt.a["button-div"],children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.80em"},children:Object(Ue.jsx)(ke.r,{title:"search",className:vt.a.button,style:i,onClick:this.handleClick.bind(this,"search")})}),Object(Ue.jsx)(_t,{height:"12mm",width:"12mm",title:"brush axis",className:e,style:c,onClick:this.props.handleBrushAxisClick}),Object(Ue.jsx)(kt,{height:"12mm",width:"12mm",title:"sample axis",className:e,style:u,onClick:this.props.handleSampleAxisClick}),this.props.isSampling?Object(Ue.jsxs)("label",{children:[Object(Ue.jsx)("input",{type:"checkbox",onChange:this.samplingCheckboxChanged,checked:this.state.createOnlyInTheRange,placeholder:"delta"}),"Create in the range"]}):null,Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.80em"},children:Object(Ue.jsx)(ke.g,{title:"edit",className:vt.a.button,style:r,onClick:this.handleClick.bind(this,"edit")})}),Object(Ue.jsx)(Pt,{height:"12mm",width:"12mm",title:"sketch alternative",className:t,style:l,onClick:this.props.handleSketchAlternativeClick}),Object(Ue.jsx)(Nt,{height:"12mm",width:"12mm",title:"edit alternative",className:t,style:d,onClick:this.props.toggleAlterMode}),Object(Ue.jsx)(At,{height:"12mm",width:"12mm",title:"clone-edit alternative",className:t,style:h,onClick:this.props.handleCloneEditAlternativeClick}),Object(Ue.jsx)(wt,{height:"12mm",width:"12mm",title:"live-edit alternative",className:t,style:p,onClick:this.props.toggleLiveEditMode}),Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.80em"},children:Object(Ue.jsx)(ke.l,{title:"generate",className:vt.a.button,style:s,onClick:this.handleClick.bind(this,"generate")})}),Object(Ue.jsx)(xt,{height:"12mm",width:"12mm",title:"cartesian product",className:n,style:f,onClick:this.props.handleCartesianProductClick}),Object(Ue.jsx)(Mt,{height:"12mm",width:"12mm",title:"spectral cartesian product",className:n,style:b,onClick:this.props.handleSpectralCartesianProductClick}),Object(Ue.jsx)(Tt,{height:"12mm",width:"12mm",title:"perturbation",className:n,style:m,onClick:this.props.handleSensitivityAnalysisClick}),this.props.isSAing?Object(Ue.jsx)("input",{type:"text",onChange:this.props.onSensitivityAnalysisDeltaChange,placeholder:"delta"}):null,Object(Ue.jsx)(It,{height:"12mm",width:"12mm",title:"parameter spectra/sensitivity analysis",className:n,style:v,onClick:this.props.handleParameterSpectraClick}),this.props.isPSing?Object(Ue.jsxs)("div",{children:[Object(Ue.jsx)(bt.a,{options:j,onChange:this.props.onParameterSpectraSelect,value:S,placeholder:"arity"}),Object(Ue.jsx)("input",{type:"text",onChange:this.props.onParameterSpectraDeltaChange,placeholder:"delta"})]}):null,Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.80em"},children:Object(Ue.jsx)(ke.s,{title:"settings",className:vt.a.button,style:a,onClick:this.handleClick.bind(this,"settings")})}),Object(Ue.jsx)(Et,{height:"12mm",width:"12mm",title:"toggle dimension",className:o,style:g,onClick:this.props.selectParameter}),Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.80em"},children:this.state.showUnlock?Object(Ue.jsx)(ke.m,{title:"lock aspect ratio",className:vt.a.button,onClick:this.handleUnlockclick}):Object(Ue.jsx)(ke.n,{title:"lock aspect ratio",className:vt.a.button,onClick:this.handleLockClick,style:{backgroundColor:Rt}})})]})}}]),n}(o.PureComponent),Bt=n(12),Ht=function(e){for(var t=[],n=0;n<e;n++)t[n]=[];return t},Jt=function(e){return new Set(e).size},Ft=function(e,t){var n=new Map;return e.forEach((function(e){var o=t(e),i=n.get(o);i?i.push(e):n.set(o,[e])})),n},Wt=function(e,t){for(var n=0;n<e.length-1;n+=2)t(e[n],e[n+1])};var Vt=20,Ut=20,Gt=145,zt=40,Kt=at.a.colorWhite,Yt=at.a.colorUnselected,Qt=at.a.colorHovered,qt=at.a.colorSelected,Xt=at.a.colorSelectedRelated,Zt=(at.a.colorHoveredRelated,at.a.colorHoveredSelected,at.a.colorSketch),$t=at.a.colorSketchPath,en=at.a.colorBrush,tn=(at.a.colorBrushSelected,at.a.colorBrushed),nn=at.a.colorQuerySelected,on=at.a.colorQueryNotSelected,rn=at.a.colorSelectedCoordinate,sn=(at.a.colorCurrentCommand,at.a.opacity0),an=at.a.opacityMid1,cn=at.a.opacityMid2,ln=at.a.opacity1,dn=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;Object(ve.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){o.drawChart(o.props.width,o.props.height,o.state.inputParams,o.state.outputParams,o.state.dimensions,o.state.isBrushing,o.state.isSampling,o.state.sketchData)},o.componentDidUpdate=function(){o.queryEngine.advMode&&(o.queryEngine={current:o.queryEngine.memo.current,temp:o.queryEngine.memo.temp,total:o.queryEngine.memo.total,advMode:o.queryEngine.memo.advMode,memo:{}}),o.drawChart(o.props.width,o.props.height,o.state.inputParams,o.state.outputParams,o.state.dimensions,o.state.isBrushing,o.state.isSampling,o.state.sketchData)},o.drawChart=function(e,t,n,i,r,s,a,c){var l=o.brushes,d=o.brushSelections,u=Object.assign([],o.state.selectedDimensions),p=o.commitChanges,h=o.changeEditingState,g=o.submitChanges,f=o.findNonEmptyBrushes,v=o.findNonEmptyOutputBrushes,m=o.findNonEmptyInputBrushes,b=o.commitDimensions,j=o.commitValueBands,S=o.commitBrushSelections,O=o.commitSketch,y=o.reOrderDefaultOptions,C=o.updateBrushes,_=o.alreadySelected,x=o.toggleAdjustInputBrushes,E=o.state.adjustInputBrushes,w=o.samples,N={},A=o.props.alternatives.get("alternatives"),I=o.props.scales.get("valueBands").toJS(),k=o.props.altsInCollection,T=k.map((function(e){return e.get("parallelData")})).toJS(),L=k.map((function(e){return e.get("viewId")})).toJS(),P=k.filter((function(e){return!0===e.get("isSelected")})).map((function(e){return e.get("parallelData")})).toJS(),M=o.state.shiftKeyDown,R=o.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(o.props.collection.get("collectionNameView"))[1],B=o.props.collection.get("collectionName"),H=o.props.collection.get("viewId"),J=o.brushEngine,F=o.queryEngine,W={};r.map((function(e){var n=e;W[n]=rt.h().domain([I[e].min,I[e].max]).range([t-200,50]).nice();var o=W[n].domain();o[0]===o[1]&&W[n].domain([o[0],o[0]+10]).nice()}));var V=rt.i().range([0,e-30]).padding(2).domain(r),U=rt.j(o.svgEl),G=rt.j("body").select("#textField").style("display","none").style("z-index","10").style("position","absolute").style("width","28px").style("background-color",Kt).style("border","solid").style("border-width","0.5px").on("keypress",(function(){13===rt.e.keyCode&&(isNaN(rt.e.target.value)?j("NaN"):"min"===this.getAttribute("which")&&rt.e.target.value<=this.getAttribute("bound")||"max"===this.getAttribute("which")&&rt.e.target.value>=this.getAttribute("bound")?j("OK",this.getAttribute("dim"),this.getAttribute("which"),rt.e.target.value):j("OoB"),rt.e.target.value=null)})),z=rt.j("body").select("#myTooltip").style("position","absolute").style("z-index","10").style("background-color",Kt).style("border","solid").style("border-width","0.25px").style("border-radius","6px").style("box-shadow","1px 1px 2px 1px").style("padding","5px").style("visibility","hidden"),K=U.selectAll(".myPath").data(T).attr("d",ne).style("fill","none").style("stroke-width",(function(){return s||a?2.2:3.1})).style("pointer-events",(function(){return s?"none":"stroke"})),Y=(U.selectAll(".myPoint").data(P).selectAll("circle").data((function(e){return Object.entries(e)})).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return W[e[0]](e[1])})).enter().append("circle").attr("class","data-points-"+R).attr("id",(function(e,t){return"data-point-"+t+"-on-"+e[0]+"-"+R})).attr("r",5.5).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return W[e[0]](e[1])})).style("fill",qt).style("stroke",Yt).style("stroke-width",1.9).on("mouseover",(function(e){z.style("visibility","visible").style("left",rt.e.pageX+"px").style("top",rt.e.pageY-28+"px").text(Math.round(e[1]))})).on("mouseout",(function(e){z.style("visibility","hidden")})),U.selectAll(".myAxis").data(r).attr("transform",(function(e){return"translate("+V(e)+")"})).style("cursor",(function(){return o.state.isSketching?"pointer":"move"})).style("fill",(function(e){if(u.includes(e))return rn})).style("stroke-width",(function(e){return i.includes(e)?2.6:1.4})).each((function(e){rt.j(this).call(rt.a().scale(W[e]))})));Y.each((function(e){if(i.includes(e)){var t=T.map((function(t){return t[e]})),n=Math.max.apply(Math,Object(_e.a)(t)),o=Math.min.apply(Math,Object(_e.a)(t));rt.j(this.childNodes[1].childNodes[1]).on("dblclick",(function(){G.node().focus(),G.attr("dim",this.parentNode.parentNode.getAttribute("dim")).attr("which","min").attr("value",rt.j(this).text()).attr("bound",o).style("display","inline-block").style("left",rt.e.pageX-40+"px").style("top",rt.e.pageY-7+"px").property("value",rt.j(this).text())})),rt.j(this.childNodes[this.childNodes.length-1].childNodes[1]).on("dblclick",(function(){G.node().focus(),G.attr("dim",this.parentNode.parentNode.getAttribute("dim")).attr("which","max").attr("value",rt.j(this).text()).attr("bound",n).style("display","inline-block").style("left",rt.e.pageX-40+"px").style("top",rt.e.pageY-7+"px").property("value",rt.j(this).text())}))}}));U.selectAll(".myBrushText").attr("font-family","sans-serif").attr("font-size","12px").attr("fill","black");var Q,q,X=U.select("#myBrushTextN"),Z=U.select("#myBrushTextS"),$=U.selectAll(".myClickAxis").data(r).attr("transform",(function(e){return"translate("+V(e)+")"})).style("cursor",(function(){return o.state.isSketching?"pointer":"move"})).style("opacity",sn).each((function(e,t){rt.j(this).call(rt.a().scale(W[e]))})),ee=($.selectAll("path.domain").data(r).style("stroke-width",20).style("opacity",sn),Y.append("text").attr("class","myText").style("text-anchor","start").style("text-shadow","0 1px 0"+Kt).style("cursor","move").attr("y",33).attr("x",-20).text((function(e){return e})).style("fill",(function(e){return u.includes(e)?qt:"black"})).style("font-weight",(function(e){return i.includes(e)||u.includes(e)?"bold":"normal"})).attr("transform","rotate(-22)"));(o.state.isSampling&&m(l).then((function(e){e&&e.map((function(e,t){rt.j("body").select("[name=inputBox-"+B+"-"+e.dimension+"]").style("display","inline-block").style("z-index","10").style("position","absolute").style("width","24px").style("background-color",Kt).style("border","solid").style("border-radius","4px").style("border-width","0.5px").on("input",(function(){isNaN(rt.e.target.value)||(o.samples[e.dimension]=rt.e.target.value)}))}))})).catch((function(e){return console.log(e)})),o.state.isSketching&&$.on("click",(function(e){Object.keys(c).includes(e)?(c[e]=W[e].invert(rt.g(this)[1]),U.selectAll(".mySketchPoint").select("#"+e).attr("cy",W[e](W[e].invert(rt.g(this)[1])))):n.includes(e)&&(Object.assign(c,{[e]:W[e].invert(rt.g(this)[1])}),O(c)),te(c)})),o.state.isCPing||o.state.isAltering||o.state.isLiveEditing||o.state.isCloning||o.state.isPSing||o.state.isSCPing)&&ee.style("cursor","pointer").on("click",(function(e){if(u.includes(e)){var t=u.indexOf(e);u.splice(t,1)}else n.includes(e)&&u.push(e);b(u)})).on("mouseover",(function(e){Q=rt.j(this).style("fill"),q=rt.j(this).style("font-weight"),rt.j(this).style("fill",Qt).style("font-weight","bold")})).on("mouseout",(function(e){rt.j(this).style("fill",Q).style("font-weight",q)}));function te(e){var t=U.selectAll(".mySketchPoint").data([e]).selectAll("circle").data((function(e){return Object.entries(e)})).enter().append("circle").attr("id",(function(e){return e[0]})).attr("r",3.5).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return W[e[0]](e[1])})).style("fill",Zt).style("stroke",Yt).style("stroke-width",.8),n=U.selectAll(".mySketchPath").data([e]).attr("d",oe).style("fill","none").style("stroke-width",1.7).style("stroke",$t).style("opacity",ln);t.exit().remove(),n.exit().remove()}function ne(e){return e?rt.f()(r.map((function(t){return[ie(t),W[t](e[t])]}))):""}function oe(e){return rt.f()(r.filter((function(e){return Object.keys(c).includes(e)})).map((function(t){return[ie(t),W[t](e[t])]})))}function ie(e){var t=N[e];return null==t?V(e):t}function re(e){return e.transition().duration(500)}o.state.isBrushing||o.state.isSampling?(U.selectAll("polygon").remove(),function(e,o){var i,s=l.length<1;E&&v(l).then((function(t){var o=e.multiPairs.map((function(e){return e.filter((function(e){for(var t=!0,o=0;o<e.length;o++){var i=e[o].split("_");n.includes(i[1])&&(t=!1)}return t}))}));t.length<1?x():O(t,o).then((function(e){g(e).then((function(e){m(l).then((function(t){t.length>0&&t.map((function(t){for(var n=[],o=0;o<e.length;o++)n[0]?n[0]<e[o][t.dimension]&&(n[0]=e[o][t.dimension]):n[0]=e[o][t.dimension],n[1]?n[1]>e[o][t.dimension]&&(n[1]=e[o][t.dimension]):n[1]=e[o][t.dimension];n[0]===n[1]&&(n[0]=n[0]+5*(I[t.dimension].min+I[t.dimension].max)/100,n[1]=n[1]-5*(I[t.dimension].min+I[t.dimension].max)/100,n[0]>I[t.dimension].max&&(n[0]=I[t.dimension].max),n[1]<I[t.dimension].min&&(n[1]=I[t.dimension].min));var i=l.findIndex((function(e){return e.id===t.id}));l[i].extent=n})),x()})).catch((function(e){return x()}))})).catch((function(e){return x()}))})).catch((function(e){return x()}))})).catch((function(e){return x()}));function a(e){var t=this;rt.e.sourceEvent&&rt.e.sourceEvent.stopPropagation&&rt.e.sourceEvent.stopPropagation(),i=l.find((function(e){return e.id===t.getAttribute("id")})).extent,rt.k(".myBrush rect.selection").attr("fill",en),rt.k(".myBrush rect.selection").attr("x",-7.5),rt.k(".myBrush rect.selection").attr("width",15),rt.k(".myBrush rect.handle").attr("width",36).attr("height",22)}function c(t){var n=this,o=l.find((function(e){return e.id===n.id}));null!==rt.e.selection&&(o.extent=rt.e.selection.map(W[t].invert,W[t])),rt.j("#"+this.id).selectAll(".handle").each((function(e){"n"===e.type?X.attr("x",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+5).attr("y",parseInt(this.getAttribute("y"))).text(o.extent[0].toFixed(3)):Z.attr("x",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+5).attr("y",parseInt(this.getAttribute("y"))+14).text(o.extent[1].toFixed(3))})),rt.k(".myBrush rect.selection").attr("x",-7.5),rt.k(".myBrush rect.selection").attr("width",15),f(l).then((function(t){O(t,e.multiPairs).then((function(e){g(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}function u(t){var n=this,r=l.find((function(e){return e.id===n.id}));if(void 0===r.temp)if(0===o.current||1===o.total||o.current===o.total)r.temp=++e.temp;else{for(var s=o.current-1;s<e.tempOrder.length;s++)e.tempOrder[s]+=1;r.temp=++o.temp,++e.temp;try{l.map((function(e){void 0!==e.temp&&e.temp>=o.temp&&e.id!==r.id&&++e.temp}))}catch(d){console.log(d)}}if(void 0===r.query&&(0!==o.current?r.query=o.current:r.query=null),null!==rt.b(this)&&i[0]===rt.b(this).map(W[t].invert,W[t])[0]&&i[1]===rt.b(this).map(W[t].invert,W[t])[1]&&(rt.e.sourceEvent&&rt.e.sourceEvent.shiftKey&&1!==r.temp&&!e.tempOrder.includes(l.find((function(e){return e.id===n.id})).temp)&&l.filter((function(e){return e.query===r.query})).length>1&&p(this),1===l.filter((function(e){return e.query===r.query})).length&&(rt.j(this.childNodes[1]).attr("fill",nn),o.current=r.query,o.temp=r.temp)),o.advMode){if(!e.tempOrder.includes(e.temp)){e.tempOrder.push(e.temp),e.multiPairs=Ht(e.tempOrder.length);var a=Jt(Array.from(U.selectAll("polygon")._groups[0]).map((function(e){return e.id})));o.current=a+1,o.total=a+1,1===o.current?o.temp=e.multiPairs[o.current-1].length:o.current===o.total?o.temp=e.tempOrder.slice(-1)[0]:o.temp=e.tempOrder[o.current-2];var c=l.find((function(e){return null===e.query}));c&&(c.query=o.current)}o.advMode=!1}h(t,r.count),f(l).then((function(n){O(n,e.multiPairs).then((function(e){T(e,t)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),L(),rt.k(".myBrush rect.selection").attr("x",-7.5),rt.k(".myBrush rect.selection").attr("width",15),rt.k(".myBrush rect.handle").attr("width",36).attr("height",22),C(r,H),rt.j("#"+this.id).selectAll(".selection").each((function(e){rt.j("body").select("#"+r.id+"_input").style("left",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+"px").style("top",parseInt(this.getAttribute("y"))+100+"px").attr("value",w[r.dimension]?w[r.dimension]:0)}))}function p(e){var t=l.find((function(t){return t.id===e.getAttribute("id")})),n=l.findIndex((function(e){return e===t})),o=l.find((function(e){return e.dimension===t.dimension&&e.count===t.count+1}));try{rt.j(e).call(rt.c().move,null),rt.j(e).remove(),rt.j("#"+o.id).attr("id",t.id)}catch(i){console.log(i)}o.id=t.id,o.count=t.count,l.splice(n,1),C(t,H,!0)}function h(e,o){var i,r=l.filter((function(t){return t.dimension===e})),d=r[r.length-1].id,p=document.getElementById(d);if(i=p?rt.b(p):[0,1],o+=1,i&&i[0]!==i[1]){var h="#"+R+"_"+e+"_brush"+(o-1);rt.j("#"+e+"on"+R).insert("g",h).attr("class","myBrush").each((function(i){var r=R+"_"+e+"_brush"+o;if(rt.j(this).attr("id",r).call(W[i].brush=rt.c().extent([[-10,50],[10,t-200]]).on("start",a).on("brush",c).on("end",u)),s)l.push({id:r,count:o,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(i)});else{var d=l.findIndex((function(e){return e.id===r}));d>=0?0===l[d].extent[0]&&0===l[d].extent[1]||W[i].brush.move(rt.j(this),[W[i](l[d].extent[0]),W[i](l[d].extent[1])]):l.push({id:r,count:o,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(i)})}rt.k(".myBrush rect.overlay").attr("x",-25).attr("width",40)}))}}function g(e){return new Promise(function(){var t=Object(ot.a)(nt.a.mark((function t(n,o){var i,r,s;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=R.length+1,r=[],0,s="stroke",!M){t.next=8;break}s="visibility",t.next=10;break;case 8:return t.next=10,K.style("visibility","visible");case 10:return t.next=12,K.style(s,(function(t){var n=e.some((function(e){var n=Jt(e.map((function(e){return e[0].substring(i,e[0].indexOf("_",i))}))),o=Ht(n);if(!e.length)return!1;for(var r=e[0][0].substring(i,e[0][0].indexOf("_",i)),s=0,a=0;a<e.length;a++)r===e[a][0].substring(i,e[a][0].indexOf("_",i))?o[s].push(e[a]):(o[++s].push(e[a]),r=e[a][0].substring(i,e[a][0].indexOf("_",i)));return o.every((function(e){return e.some((function(e){return 2!==e.length||e[0].substring(i,e[0].indexOf("_",i))===e[1].substring(i,e[1].indexOf("_",i))?e.some((function(e){return(t[e.substring(i,e.indexOf("_",i))]!==l.find((function(t){return t.id===e})).extent[0]||t[e.substring(i,e.indexOf("_",i))]!==l.find((function(t){return t.id===e})).extent[1])&&(l.find((function(t){return t.id===e})).extent[1]<=t[e.substring(i,e.indexOf("_",i))]&&t[e.substring(i,e.indexOf("_",i))]<=l.find((function(t){return t.id===e})).extent[0])})):e.every((function(e){return(t[e.substring(i,e.indexOf("_",i))]!==l.find((function(t){return t.id===e})).extent[0]||t[e.substring(i,e.indexOf("_",i))]!==l.find((function(t){return t.id===e})).extent[1])&&(l.find((function(t){return t.id===e})).extent[1]<=t[e.substring(i,e.indexOf("_",i))]&&t[e.substring(i,e.indexOf("_",i))]<=l.find((function(t){return t.id===e})).extent[0])}))}))}))}))?b(this):j(this);return n===tn&&r.push(t),n}));case 12:n(r);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}function b(e){return d.includes(e.getAttribute("id"))||(d.push(e.getAttribute("id")),S(d)),D(A,e.getAttribute("id")).map((function(e){return e.get("viewId")})).toJS().map((function(e){rt.j(document.getElementById(e)).style("border","1.5px").style("border-style","solid").style("border-color",Xt).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Xt)})),M?"visible":_(e.getAttribute("id"))?qt:tn}function j(e){return d.includes(e.getAttribute("id"))&&(d.splice(d.indexOf(e.getAttribute("id")),1),S(d)),D(A,e.getAttribute("id")).map((function(e){return e.get("viewId")})).toJS().map((function(e){rt.j(document.getElementById(e)).style("border","none").style("border-style","none").style("border-color","none").style("border-radius","none").style("-webkit-box-shadow","none")})),M?"hidden":Yt}function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(ot.a)(nt.a.mark((function t(n,o){return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(ot.a)(nt.a.mark((function t(i,r){var s,a,c;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.length){t.next=18;break}if(0!==e.tempOrder.length){t.next=8;break}return t.next=4,N(n);case 4:s=t.sent,o[0]=s,t.next=15;break;case 8:a=nt.a.mark((function t(i){var r;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=void 0,!e.tempOrder[i]){t.next=7;break}return t.next=4,N(n.splice(0,n.findIndex((function(t){return t.temp===e.tempOrder[i]}))));case 4:r=t.sent,t.next=10;break;case 7:return t.next=9,N(n.splice(0,n.length));case 9:r=t.sent;case 10:o[i]=r;case 11:case"end":return t.stop()}}),t)})),c=0;case 10:if(!(c<=e.tempOrder.length)){t.next=15;break}return t.delegateYield(a(c),"t0",12);case 12:c++,t.next=10;break;case 15:i(o),t.next=19;break;case 18:r([[]]);case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(e){return k.apply(this,arguments)}function k(){return(k=Object(ot.a)(nt.a.mark((function e(t){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ot.a)(nt.a.mark((function e(n,o){var i,s,a,c,l,d,u;return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?(i=[],r.map((function(e){t.some((function(t){return t.dimension===e}))&&i.push(e)})),s=Ft(t,(function(e){return e.dimension})),a=[],i.map((function(e){a.push(s.get(e))})),c=[],c=i.reduce((function(e,t,n,o){return n%2!==0&&n%2!==1||e.push(o.slice(n,n+2)),e}),[]),l=[],c.map((function(e,t){return a.map((function(t,n){e.length&&l.push(t.filter((function(t){return t.dimension===e[0]})).map((function(e){return e.id})).concat(t.filter((function(t){return t.dimension===e[1]})).map((function(e){return e.id}))))}))})),1===(d=l.filter((function(e){return e.length}))).length?n(d):d.length>1&&(u=[],Wt(d,(function(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)u.push([e[n],t[o]])})),n(u))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(t,n){U.selectAll("polygon").each((function(){this.remove()})),t.map((function(n,i){return n.map((function(n){if(n.length>0){var r=[[],[]];n.map((function(e){rt.j("#"+e).selectAll(".handle").each((function(e){"n"===e.type?r[0].push({x:parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14)),y:parseInt(this.getAttribute("y"))}):r[1].push({x:parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14)),y:parseInt(this.getAttribute("y"))})}))}));var s=r[0].sort((function(e,t){return e.x-t.x})).concat(r[1].sort((function(e,t){return t.x-e.x}))),a=[];s.map((function(e){a.push(e.x.toString()+","+e.y.toString()+" ")})),U.append("polygon").attr("id","polygon"+(i+1)).attr("points",a.join("")).style("fill",(function(){return o.current===parseInt(this.getAttribute("id").slice(-1))?nn:on})).style("strokeWidth","0px").style("cursor","cell").on("click",(function(){o.current!==parseInt(this.getAttribute("id").slice(-1))?(!0===o.advMode&&(o.advMode=!1),o.current=parseInt(this.getAttribute("id").slice(-1)),o.total=t.length,1===o.current?o.temp=t[o.current-1].length:o.current===o.total?o.temp=e.tempOrder.slice(-1)[0]:o.temp=e.tempOrder[o.current-2],rt.k("polygon").style("fill",on),rt.k("#"+this.getAttribute("id")).style("fill",nn)):(o.memo={current:o.current,temp:o.temp,total:o.total,advMode:o.advMode},o.advMode=!0,o.current=0,o.temp=0,rt.k("#"+this.getAttribute("id")).style("fill",on))}))}}))})),rt.j("#drawArea").raise()}function L(){r.forEach((function(e){var t=l.filter((function(t){return t.dimension===e})),n=t[t.length-1];t.forEach((function(o,i){rt.j("#"+R+"_"+e+"_brush"+i).selectAll(".overlay").style("pointer-events",(function(){return i===t.indexOf(n)?"all":"none"}))}))}))}Y.append("g").attr("class","myBrush").each((function(e){var o=R+"_"+e+"_brush0";if(rt.j(this).attr("id",o).call(W[e].brush=rt.c().extent([[-10,50],[10,t-200]]).on("start",a).on("brush",c).on("end",u)),s)l.push({id:o,count:0,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(e)});else{var i=l.findIndex((function(e){return e.id===o}));i>=0&&(0===l[i].extent[0]&&0===l[i].extent[1]||W[e].brush.move(rt.j(this),[W[e](l[i].extent[0]),W[e](l[i].extent[1])]))}})),rt.k(".myBrush rect.overlay").attr("x",-25).attr("width",40)}(J,F)):U.selectAll("polygon").remove(),o.state.isSketching||function(){var t=Object.assign([],r);Y.call(rt.d().subject((function(e){return{x:V(e)}})).on("start",(function(e){N[e]=V(e)})).on("drag",(function(t){N[t]=Math.min(e,Math.max(0,rt.e.x)),U.selectAll(".myPath").attr("d",ne),r.sort((function(e,t){return ie(e)-ie(t)})),V.domain(r),U.selectAll(".myAxis").attr("transform",(function(e){return"translate("+ie(e)+")"}))})).on("end",(function(e){delete N[e],re(rt.j(this)).attr("transform","translate("+V(e)+")"),re(U.selectAll(".myPath")).attr("d",ne),re(U.selectAll(".data-points")).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return W[e[0]](e[1])})),JSON.stringify(t)!==JSON.stringify(r)&&y()})))}(),function(){var e,t,o,i,r,s,a=[],c={},l=[];U.selectAll(".data-points-"+R).call(rt.d().on("start",(function(e){if(h(!0),n.includes(e[0])){rt.j(document.getElementById(e[0]+"on"+R)).style("fill",rn),rt.j(document.getElementById(e[0]+"on"+R).children[document.getElementById(e[0]+"on"+R).children.length-1]).style("fill",qt).style("font-weight","bold");var r=rt.j(this.parentNode).nodes()[0].attributes.id.nodeValue;i=L.indexOf(r),t=T[i][e[0]],rt.k("#"+this.getAttribute("id")).each((function(){return s=this.parentElement.getAttribute("id"),i=L.indexOf(s),o=T[i][e[0]],l.push(s),a.push({id:s,index:i,dim:e[0],origin:o})})),0!==u.length&&u.map((function(e){rt.k("#data-point-"+Object.keys(P[0]).indexOf(e)+"-on-"+e+"-"+R).each((function(){return s=this.parentElement.getAttribute("id"),i=L.indexOf(s),o=T[i][e],l.push(s),a.push({id:s,index:i,dim:e,origin:o})}))}))}})).on("drag",(function(l){l[1]=W[l[0]].invert(rt.e.y),n.includes(l[0])&&(r=l[1]-t,rt.k("#"+this.getAttribute("id")).each((function(){s=this.parentElement.getAttribute("id"),i=a.find((function(e){return e.id===s&&e.dim===l[0]})).index,(o=a.find((function(e){return e.id===s&&e.dim===l[0]})).origin)+r>=W[l[0]].domain()[0]&&o+r<=W[l[0]].domain()[1]&&(rt.j(this).attr("cy",W[l[0]](o+r)),T[i][l[0]]=o+r),c[s]||(c[s]={}),c[s][l[0]]=T[i][l[0]]})),0!==u.length&&u.map((function(t){rt.k("#data-point-"+Object.keys(P[0]).indexOf(t)+"-on-"+t+"-"+R).each((function(){s=this.parentElement.getAttribute("id"),i=a.find((function(e){return e.id===s&&e.dim===t})).index,o=a.find((function(e){return e.id===s&&e.dim===t})).origin,e=(W[t].domain()[1]-W[t].domain()[0])/(W[l[0]].domain()[1]-W[l[0]].domain()[0]),o+r*e>=W[t].domain()[0]&&o+r*e<=W[t].domain()[1]&&(rt.j(this).attr("cy",W[t](o+r*e)),T[i][t]=o+r*e,c[s]||(c[s]={}),c[s][t]=T[i][t])}))})),K.attr("d",ne),z.style("visibility","visible").style("left",rt.e.pageX+"px").style("top",rt.e.pageY-28+"px").text(Math.round(W[l[0]].invert(rt.e.y))))})).on("end",(function(e){if(n.includes(e[0])){var t={};a.map((function(e){t[e.id]||(t[e.id]={}),t[e.id][e.dim]=T[e.index][e.dim],p(e.id,e.dim,T[e.index][e.dim])})),g(t),a=[],c={}}z.style("visibility","hidden"),h(!1)})))}(),te(c)},o.updateBrushes=function(e,t,n){try{n?o.props.queries.get("brushes").toJS().filter((function(e){return e.colId=t})).find((function(t){return t.id===e.id}))&&o.props.removeBrush(e.id,t):o.props.queries.get("brushes").toJS().filter((function(e){return e.colId=t})).find((function(t){return t.id===e.id}))||o.props.addBrush(e,t)}catch(i){console.log(i)}},o.commitChanges=function(e,t,n){o.props.alterAlternative(e,t,n)},o.submitChanges=function(e){o.props.editAlternatives(e)},o.alreadySelected=function(e){return o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).filter((function(t){return t.get("viewId")===e})).size>0},o.findNonEmptyBrushes=function(){var e=Object(ot.a)(nt.a.mark((function e(t){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ot.a)(nt.a.mark((function e(n,o){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0})).sort((function(e,t){return e.temp-t.temp}))):o([]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.findNonEmptyOutputBrushes=function(){var e=Object(ot.a)(nt.a.mark((function e(t){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ot.a)(nt.a.mark((function e(n,o){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0&&!e.isInput})).sort((function(e,t){return e.temp-t.temp}))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.findNonEmptyInputBrushes=function(){var e=Object(ot.a)(nt.a.mark((function e(t){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ot.a)(nt.a.mark((function e(n,o){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0&&e.isInput})).sort((function(e,t){return e.temp-t.temp}))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.changeEditingState=function(e){o.isEditing=e},o.commitBrushSelections=function(e){o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=e.length},o.commitDimensions=function(e){o.setState({selectedDimensions:e})},o.toggleAdjustInputBrushes=function(){o.setState({adjustInputBrushes:!o.state.adjustInputBrushes})},o.commitValueBands=function(e,t,n,i){"OK"===e?o.props.setValueBands(t,n,i):"NaN"===e?o.setState({shouldWarn:!0,warningMessage:"Please enter a number."}):"OoB"===e&&o.setState({shouldWarn:!0,warningMessage:"Please enter a proper range."})},o.commitSketch=function(e){o.setState({sketchData:Object.assign(o.state.sketchData,e)})},o.reOrderDefaultOptions=function(){var e=Object.assign([],o.state.dimensions);o.defaultOptions=[],e.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),e)},o.selectPath=function(e){var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).filter((function(t){return t.get("viewId")===e.target.getAttribute("id")}));o.state.isLiveEditing?0===t.size?(o.props.deselectAllAlternatives(),o.props.selectAlternative(e.target.getAttribute("id"))):o.props.deselectAlternative(e.target.getAttribute("id")):0===t.size?(o.props.selectAlternative(e.target.getAttribute("id")),!0===o.state.isCloning&&(o.cloneBases.push(e.target.getAttribute("id")),o.props.cloneEditAlternatives([e.target.getAttribute("id")],[o.props.collection.get("viewId")]))):o.props.deselectAlternative(e.target.getAttribute("id"))},o.toggleParameter=function(e,t){var n,i=t.action,r=t.removedValue,s=Object.assign({},o.state.valueBands),a=Object.assign([],o.state.dimensions);switch(o.defaultOptions=[],i){case"remove-value":o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){o.props.removeDataField(e,r.value)})),n=a.indexOf(r.value),a.splice(n,1),o.setState({dimensions:a,valueBands:G(s,r.value)}),a.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),a),o.state.isLocked&&o.props.lockAspectRatio(a);break;case"select-option":o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(t){o.props.addDataField(t,e[e.length-1].label)})),a.push(e[e.length-1].label),o.setState({dimensions:a,valueBands:z(s,e[e.length-1].label,o.state.backupValueBands)}),a.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),a),o.state.isLocked&&o.props.lockAspectRatio(a);break;default:console.log("no valid selection")}},o.selectParameter=function(){o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isToggling:!o.state.isToggling})},o.toggleAlterMode=function(){o.setState({isCloning:!1}),o.setState({isToggling:!1}),o.setState({isLiveEditing:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isAltering:!o.state.isAltering}),o.setState({selectedDimensions:[]})},o.toggleLiveEditMode=function(){o.setState({isCloning:!1}),o.setState({isToggling:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isAltering:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isLiveEditing:!o.state.isLiveEditing}),o.setState({selectedDimensions:[]})},o.toggleSketchMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isSketching:!o.state.isSketching})},o.toggleCPMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({sketchData:{}}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isCPing:!o.state.isCPing}),o.setState({selectedDimensions:[]})},o.togglePSMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isPSing:!o.state.isPSing}),o.setState({sketchData:{}}),o.setState({selectedDimensions:[]})},o.toggleSCPMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isSCPing:!o.state.isSCPing}),o.setState({sketchData:{}}),o.setState({selectedDimensions:[]})},o.toggleSAMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isSAing:!o.state.isSAing}),o.setState({sketchData:{}})},o.toggleCloneMode=function(){o.setState({isToggling:!1}),o.setState({isBrushing:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({sketchData:{}}),o.setState({isSampling:!1}),o.setState({isCloning:!o.state.isCloning}),o.props.setCollectionMode(o.props.collection.get("viewId"),{isCloning:!o.state.isCloning}),o.setState({selectedDimensions:[]})},o.toggleBrushMode=function(){if(o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({sketchData:{}}),o.setState({isBrushing:!o.state.isBrushing}),o.brushSelections.length>0){var e=o.props.alternatives.get("alternatives");o.brushSelections.map((function(t){D(e,t).map((function(e){rt.j(document.getElementById(e.get("viewId"))).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)})),o.props.selectAlternative(t)}))}o.brushSelections=[],o.committedQueries=[],o.brushes=[],o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.props.clearAllBrushes(),o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=o.brushSelections.length},o.toggleSampleMode=function(){if(o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({sketchData:{}}),o.setState({isBrushing:!1}),o.setState({isSampling:!o.state.isSampling}),o.brushSelections.length>0){var e=o.props.alternatives.get("alternatives");o.brushSelections.map((function(t){D(e,t).map((function(e){rt.j(document.getElementById(e.get("viewId"))).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)})),o.props.selectAlternative(t)}))}o.brushSelections=[],o.committedQueries=[],o.brushes=[],o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.props.clearAllBrushes(),o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=o.brushSelections.length},o.createAlternative=function(){var e=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).map((function(e){return e.get("viewId")}));o.props.createNewAlternative(e,o.state.sketchData),o.setState({sketchData:{}})},o.cartesianProduct=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));2===t.size&&(o.props.newCartesianProduct(t.map((function(e){return e.get("viewId")})).toJS(),e,o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.parameterSpectra=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));t.size>0&&(o.props.newParameterSpectra(t.map((function(e){return e.get("viewId")})).toJS(),e,o.paramaterSpectraAltNum,o.paramaterSpectraDelta,o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.spectralCartesianProduct=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));t.size>0&&(o.props.newSpectralCartesianProduct(t.map((function(e){return e.get("viewId")})).toJS(),e,o.props.collection.get("viewId"),o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.sensitivityAnalysis=function(){var e=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));e.size>0&&o.props.newSensitivityAnalysis(e.map((function(e){return e.get("viewId")})).toJS(),o.sensitivityAnalysisDelta,o.props.collection.get("destinations").toJS())},o.handleConfirmQuery=function(e){if(e.length>0)if(0===o.props.collection.get("destinations").size){for(var t=function(t){var n,i,r,s;n=e[t],i=t,r=o.props.createNewCollection,s=o.props.collection.get("collectionName"),setTimeout((function(){r(0+2*i,5,3,5,n,s+"-query"+(i+1))}),3500*t),o.props.addQuery(o.props.collection.get("collectionName")+"-query"+(t+1),o.props.collection.get("collectionName"),"someString",e[t])},n=0;n<e.length;n++)t(n);Bt.b.info("Please wait while queries are being committed...",{autoClose:3500*e.length,position:"bottom-center",rtl:!1})}else{for(var i=0;i<o.props.collection.get("destinations").size;i++)if(o.props.collection.get("destinations").toJS()[i].__isNew__)for(var r=function(t){var n,r,s,a;n=e[t],r=t,s=o.props.createNewCollection,a=o.props.collection.get("destinations").toJS()[i].label,setTimeout((function(){s(0+2*r,5,2,4,n,a)}),3500*t)},s=0;s<e.length;s++)r(s);else for(var a=function(t){var n,r,s;n=e[t],r=o.props.collection.get("destinations").toJS()[i].value,s=o.props.cloneAlternatives,setTimeout((function(){s(n,[r])}),3500*t),o.props.addQuery(o.props.collection.get("collectionName")+"-query"+(t+1),o.props.collection.get("collectionName"),"someString",e[t])},c=0;c<e.length;c++)a(c);Bt.b.info("Please wait while queries are being committed...",{autoClose:3e3*e.length*o.props.collection.get("destinations").size,position:"bottom-center",rtl:!1})}o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleBrushAxisClick=function(){var e=Object.assign([],o.committedQueries);o.setState({shouldWarn:!1,warningMessage:""}),o.toggleBrushMode(),o.state.isBrushing?(o.props.infoRef.current.childNodes[0].childNodes[1].style.display="inline",o.props.infoRef.current.childNodes[0].childNodes[2].style.display="none",e.length>0&&o.setState({shouldWarn:!0,warningMessage:"Do you want to commit these queries?",confirmAction:o.handleConfirmQuery.bind(Object(it.a)(o),e)})):(o.props.infoRef.current.childNodes[0].childNodes[1].style.display="none",o.props.infoRef.current.childNodes[0].childNodes[2].style.display="inline")},o.handleSampleAxisClick=function(){o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSampleMode()},o.handleParameterSpectraClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.togglePSMode(),o.state.isPSing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});o.parameterSpectra()}},o.handleSpectralCartesianProductClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSCPMode(),o.state.isSCPing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});if(o.state.selectedDimensions.length>4)return void o.setState({shouldWarn:!0,warningMessage:"You can select at most 4 dimensions."});o.spectralCartesianProduct()}},o.handleSensitivityAnalysisClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSAMode(),o.state.isSAing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});o.sensitivityAnalysis()}},o.handleCloneEditAlternativeClick=function(){if(!1===o.state.isCloning)o.altsInCollectionBefore=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){return e.get("viewId")})).toJS(),o.cloneBases=[],o.toggleCloneMode();else{if(o.altsInCollectionAfter=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){return e.get("viewId")})).toJS(),o.altsInCollectionBefore.length!==o.altsInCollectionAfter.length)o.altsInCollectionAfter.filter((function(e){return!o.altsInCollectionBefore.includes(e)})).map((function(e){return o.props.hoverAlternativeSpecial(e)}));o.cloneBases.map((function(e){return o.props.selectAlternative(e)})),o.toggleCloneMode()}},o.handleSketchAlternativeClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSketchMode(),o.state.isSketching){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select a base alternative first."});o.createAlternative()}},o.handleCartesianProductClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleCPMode(),o.state.isCPing){if(2!==o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 2 alternatives."});if(o.state.selectedDimensions.length>4)return void o.setState({shouldWarn:!0,warningMessage:"You can select at most 4 dimensions."});o.cartesianProduct()}},o.handleHover=function(e,t,n,i){e.stopPropagation(),o.isEditing||(i?o.props.hoverAlternative(t,n):o.props.dehoverAlternative(t,n))},o.handleMouseEnter=function(e){o.handleHover(e,e.target.getAttribute("id"),e.target.getAttribute("refid"),!0)},o.handleMouseLeave=function(e){o.handleHover(e,e.target.getAttribute("id"),e.target.getAttribute("refid"),!1)},o.handleKeyEvents=function(e,t){if(o.state.isBrushing||o.state.isSampling){var n=null;(81===e.keyCode||113===e.keyCode&&"down"==t)&&0!==o.brushSelections.length&&(0!==o.committedQueries.length&&JSON.stringify(o.committedQueries[o.committedQueries.length-1])===JSON.stringify(o.brushSelections)||(o.props.cloneAlternatives(Object.assign([],o.brushSelections),o.props.collection.get("destinations").toJS().map((function(e){return e.value}))),Bt.b.isActive(n)||(n=Bt.b.success("Query committed",{autoClose:3e3,position:"bottom-right",rtl:!0})))),82===e.keyCode&&"down"==t&&(o.toggleBrushMode(),o.props.deselectAllAlternatives(),setTimeout((function(){o.toggleBrushMode()}),300)),16===e.keyCode&&"down"==t?o.setState({shiftKeyDown:!0}):16===e.keyCode&&"up"==t&&o.setState({shiftKeyDown:!1})}if(!0===o.state.isSampling&&"down"==t)if(83===e.keyCode){var i=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));1===i.size&&o.findNonEmptyBrushes(o.brushes).then((function(e){var t=i.map((function(e){return e.get("viewId")})).toJS(),n=e.map((function(e){return{dim:e.dimension,sampleNum:parseInt(o.samples[e.dimension]),min:Math.min(e.extent[0],e.extent[1]),max:Math.max(e.extent[0],e.extent[1]),isInput:e.isInput}}));o.props.newSampling(t,n,o.props.collection.get("destinations").toJS(),o.createOnlyInTheRange)}))}else 65===e.keyCode&&o.setState({adjustInputBrushes:!0})},o.handleVisibility=function(){o.setState({menuHidden:!o.state.menuHidden})},o.handleOpen=function(){o.setState({menuOpen:!0})},o.handleClose=function(){o.setState({menuOpen:!1})},o.lockRatio=function(e){e?(o.props.lockAspectRatio(o.state.dimensions),o.setState({isLocked:e})):(o.props.unlockAspectRatio(o.state.dimensions),o.setState({isLocked:e}))},o.onParameterSpectraSelect=function(e){o.paramaterSpectraAltNum=e.value},o.onParameterSpectraDeltaChange=function(e){o.paramaterSpectraDelta=e.target.value},o.onSensitivityAnalysisDeltaChange=function(e){o.sensitivityAnalysisDelta=e.target.value},o.samplingCheckboxChanged=function(e){o.createOnlyInTheRange=e.target.checked},o.handleDoubleClick=function(e){e.stopPropagation(),o.props.restoreAlternative(e.target.getAttribute("id"))},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})};var i=o.props.collection.get("dimOrder")?o.props.collection.get("dimOrder").toJS():[];return o.options=[],i.map((function(e){return o.options.push({value:e,label:e.toString()})})),o.defaultOptions=o.options,o.state={dimensions:i,valueBands:o.props.scales.get("valueBands").toJS(),backupValueBands:o.props.scales.get("valueBands").toJS(),inputParams:o.props.collection.get("inputs").toJS(),outputParams:o.props.collection.get("outputs").toJS(),brushCount:0,sketchData:{},selectedDimensions:[],isAltering:!1,isLiveEditing:!1,isCloning:!!o.props.collection.get("currentMode")&&o.props.collection.get("currentMode").get("isCloning"),isToggling:!1,isSampling:!1,isSketching:!1,isBrushing:!1,isCPing:!1,isPSing:!1,isSAing:!1,isLocked:!1,shouldWarn:!1,adjustInputBrushes:!1,confirmAction:null,warningMessage:"",menuOpen:!1,menuHidden:!1,shiftKeyDown:!1},o.paramaterSpectraAltNum=2,o.paramaterSpectraDelta=5,o.sensitivityAnalysisDelta=5,o.createOnlyInTheRange=!1,o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.samples={},o.brushes=[],o.brushSelections=[],o.committedQueries=[],o.cloneBases=[],o.altsInCollectionBefore=[],o.altsInCollectionAfter=[],o.isEditing=!1,o}return Object(me.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.width-zt-Ut,o=this.props.height-Vt-Gt,i=this.props.altsInCollection.map((function(n){var o=t.props.altsInCollection.filter((function(e){return e.get("isSelected")})).filter((function(e){return e.get("viewId")===n.get("viewId")})),i=t.props.altsInCollection.filter((function(e){return t.props.selectedAlts.includes(e.get("refId"))&&e.get("viewId")===n.get("viewId")}));return 0===o.size?e=0!==i.size?{stroke:Xt,opacity:cn}:{stroke:Yt,opacity:an}:0!==o.size&&(e={stroke:qt,opacity:ln}),Object(Ue.jsx)("path",{className:"pc pc-ref-"+n.get("refId")+" pc-view-"+n.get("viewId")+" myPath",style:e,refid:n.get("refId"),id:n.get("viewId"),onMouseEnter:t.state.isBrushing||t.state.isSampling?null:t.handleMouseEnter,onMouseLeave:t.state.isBrushing||t.state.isSampling?null:t.handleMouseLeave,onClick:t.state.isBrushing||t.state.isBrushing?null:t.selectPath,onDoubleClick:t.handleDoubleClick},"p-"+n.get("viewId")+"-key")})),r=this.state.dimensions.map((function(e,n){return Object(Ue.jsx)("g",{className:"myAxis",id:e+"on"+t.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(t.props.collection.get("collectionNameView"))[1],dim:e},Math.random())})),s=this.state.dimensions.map((function(e,n){return Object(Ue.jsx)("g",{className:"myClickAxis",id:e+"onClick"+t.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(t.props.collection.get("collectionNameView"))[1]},e+"-key")})),a=this.props.alternatives.get("alternatives").filter((function(e){return t.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).map((function(e){return Object(Ue.jsx)("g",{className:"myPoint",id:e.get("viewId")},"pt-"+e.get("viewId")+"-key")})),c=this.state.dimensions.map((function(e,t){return Object(Ue.jsx)("g",{className:"mySketchPoint"},"sp-"+e+"-key")})),l=Object(Ue.jsx)("path",{className:"mySketchPath",style:e}),d=Object(Ue.jsx)("text",{className:"myBrushText",id:"myBrushTextN"}),u=Object(Ue.jsx)("text",{className:"myBrushText",id:"myBrushTextS"}),p=this.props.collection.get("collectionName"),h=this.brushes.filter((function(e){return e.extent[0]+e.extent[1]!==0&&!t.state.outputParams.includes(e.dimension)})).map((function(e,t){return Object(Ue.jsx)("input",{className:"inputBox",type:"text",name:"inputBox-"+p+"-"+e.dimension,id:e.id+"_input"},"ibox-"+e.id+"-key")})),g={container:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{zIndex:t.isFocused?"998":"1"})},dropdownIndicator:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{color:"black"})},control:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"#fff",borderWidth:"2px",borderColor:"#000"})}};return Object(Ue.jsxs)("div",{onKeyDown:function(e){return t.handleKeyEvents(e,"down")},onKeyUp:function(e){return t.handleKeyEvents(e,"up")},tabIndex:"0",children:[Object(Ue.jsx)("svg",{width:n,height:o,ref:function(e){return t.svgEl=e},children:Object(Ue.jsxs)("g",{id:"drawArea",width:n,height:o,children:[s,r,i,this.state.isAltering||this.state.isCloning||this.state.isLiveEditing?a:null,this.state.isSketching?l:null,this.state.isSketching?c:null,this.state.isBrushing||this.state.isSampling?d:null,this.state.isBrushing||this.state.isSampling?u:null]})}),this.state.isSampling?h:null,this.state.shouldWarn?Object(Ue.jsx)(gt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null,Object(Ue.jsx)(Dt,{isBrushing:this.state.isBrushing,isSketching:this.state.isSketching,isAltering:this.state.isAltering,isSampling:this.state.isSampling,isLiveEditing:this.state.isLiveEditing,isCloning:this.state.isCloning,isToggling:this.state.isToggling,isCPing:this.state.isCPing,isPSing:this.state.isPSing,isSAing:this.state.isSAing,isSCPing:this.state.isSCPing,handleBrushAxisClick:this.handleBrushAxisClick,handleSampleAxisClick:this.handleSampleAxisClick,handleParameterSpectraClick:this.handleParameterSpectraClick,handleSpectralCartesianProductClick:this.handleSpectralCartesianProductClick,toggleAlterMode:this.toggleAlterMode,handleSensitivityAnalysisClick:this.handleSensitivityAnalysisClick,toggleLiveEditMode:this.toggleLiveEditMode,handleCloneEditAlternativeClick:this.handleCloneEditAlternativeClick,handleSketchAlternativeClick:this.handleSketchAlternativeClick,handleCartesianProductClick:this.handleCartesianProductClick,selectParameter:this.selectParameter,lockAspectRatio:this.lockRatio.bind(this),onParameterSpectraSelect:this.onParameterSpectraSelect,onParameterSpectraDeltaChange:this.onParameterSpectraDeltaChange,onSensitivityAnalysisDeltaChange:this.onSensitivityAnalysisDeltaChange,samplingCheckboxChanged:this.samplingCheckboxChanged,createOnlyInTheRange:this.createOnlyInTheRange}),this.state.isToggling?Object(Ue.jsx)(ct.a,{styles:g,defaultValue:this.defaultOptions,isMulti:!0,isClearable:!1,options:this.options,onChange:this.toggleParameter,closeMenuOnSelect:!1}):null]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.collection.get("inputs").toJS(),o=e.collection.get("outputs").toJS(),i=e.collection.get("dimOrder").toJS();return JSON.stringify(n)!==JSON.stringify(t.inputParams)?{inputParams:n,outputParams:o,dimensions:i}:null}}]),n}(o.PureComponent),un=dn,pn=function(e,t){return{type:p.get("HANDLE_SUCCESS"),payload:{id:e,message:t}}},hn=function(e,t){return{type:p.get("HANDLE_WARNING"),payload:{id:e,message:t}}},gn=function(e,t){return{type:p.get("HANDLE_ERROR"),payload:{id:e,message:t}}},fn=function(e){return{type:p.get("TOGGLE_HISTORY"),payload:e}},vn=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),mn=function(e){return{type:p.get("FETCH_COLLECTIONS"),payload:e}},bn=function(e){return{type:p.get("FETCH_LAYOUT"),payload:e}},jn=function(e){return{type:p.get("FETCH_PROJECT"),payload:e}},Sn=function(e){return{type:p.get("NOT_FETCH_USER"),payload:e}},On=function(){return{type:p.get("FETCHING_PROJECT")}},yn=function(e){return{type:p.get("SELECT_PROJECT"),payload:e}},Cn=function(e){return{type:p.get("FETCH_KEY_SETS"),payload:e}},_n=function(e){return{type:p.get("FETCH_VALUE_BANDS"),payload:e}},xn=function(e){return{type:p.get("ADD_NEW_ALTERNATIVES"),payload:e}},En=function(e,t,n,o,i){return{type:p.get("ADD_ALTERNATIVE_TO_COLLECTION"),payload:{collectionId:e,alternativeId:t,collectionInputs:n,collectionOutputs:o,dimOrder:i}}},wn=function(e,t,n,o,i,r,s,a,c,l,d,u,h,g,f,v,m){return{type:p.get("CREATE_COLLECTION"),payload:{altsid:e,collectionName:t,refId:n,tags:o,viewId:i,isSelected:r,isSinked:s,viewType:a,dimOrder:c,sortParams:v,layoutsForAlts:m,inputs:l,outputs:d,destinations:u,currentMode:h,isEditingName:g,collectionNameView:f}}},Nn=function(e){return{type:p.get("DESELECT_COLLECTION"),payload:{viewId:e}}},An=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{type:p.get("CLIP_COLLECTION"),payload:{viewId:e,refId:t,altsid:n,layout:o}}},In=function(e){return{type:p.get("SELECT_ALTERNATIVE"),payload:{viewId:e}}},kn=function(e){return{type:p.get("HOVER_ALTERNATIVE"),payload:{viewId:e}}},Tn=function(){return{type:p.get("DEHOVER_ALL_ALTERNATIVES")}},Ln=function(e){return{type:p.get("DESELECT_ALTERNATIVE"),payload:{viewId:e}}},Pn=function(e){return{type:p.get("INSERT_LAYOUT"),payload:e}},Mn=function(e,t){return{type:p.get("CHANGE_COLLECTION_NAME"),payload:{collectionId:e,collectionName:t}}},Rn=function(){return{type:p.get("HIDE_HEADER")}},Dn=function(){return{type:p.get("HIDE_SINK_LIST")}},Bn=function(e){return{type:p.get("TOGGLE_SINK"),payload:e}},Hn=function(e,t,n){return{type:p.get("ALTER_ALTERNATIVE"),payload:{alternativeID:e,parameter:t,newValue:n}}},Jn=function(e,t){return{type:p.get("SET_LOADING_STATE"),payload:{viewId:e,isLoading:t}}},Fn=function(){return{type:p.get("GATHER_ALL_COLLECTIONS")}},Wn=function(){return{type:p.get("TOGGLE_SETTINGS")}},Vn=function(){return{type:p.get("TOGGLE_SEARCH")}},Un=function(e,t){return{type:p.get("SET_COLLECTION_DESTINATION"),payload:{collection:e,destinations:t}}},Gn=function(){return{type:p.get("CREATING_PROJECT")}},zn=function(e){return{type:p.get("FETCH_USER"),payload:e}},Kn=function(){return{type:p.get("RESET_STATE_ON_BACK_ARROW")}},Yn=function(){return{type:p.get("UPDATE_SHOW_DSTAR_MENU")}},Qn=function(){return{type:p.get("UPDATE_SHOW_COLLECTION_MENU")}},qn=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Xn=function(e){return function(t,n){try{t(Ln(e));var o=n().collections.get("collections"),i=n().alternatives.get("alternatives"),r=R(i,e),s=y(o,r.get("collectionViewId")),a=O(o,r.get("collectionViewId")),c=a.get("altsid"),l=H(c,e),d=a.set("altsid",l),u=s.push(d);t(mn(u))}catch(p){console.error(p.message)}}},Zn=function(e){return function(t,n){if(e.size>0){var o=[],i=[];return e.map((function(e){o.push(e.get("refId")),i.push(e.get("collectionRefId"))})),fetch(M.get("alternativesRemove"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({refIds:o,collectionRefId:i})}).then((function(e){return e.json()})).then((function(e){e.map((function(e){Object(a.b)((function(){var n;t(Ln(e)),t((n=e,{type:p.get("REMOVE_ALTERNATIVE"),payload:n})),t(Xn(e))}))})),t(pn(Bt.b.success("Alternative(s) removed"),"alternative(s) removed "+qn))})).catch((function(e){console.log(e),t(gn(Bt.b.error("Alternative(s) not removed"),"alternative(s) not removed "+qn))}))}t(hn(Bt.b.warning("please select an alternative"),"please select an alternative"+qn))}},$n=function(e,t){return function(n,o){if(e.length>0&&t.length>0){var i=Bt.b.info("Copying Alts To collection",{toastId:"CopyAltsWithRef",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(M.get("alternativeCopy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t})}).then((function(e){return e.json()})).then((function(t){Bt.b.update(i,{progress:.5}),t.forEach((function(t){var i=o().alternatives.get("alternatives").toJS()[0].params,r=o().alternatives.get("alternatives").toJS()[0].outputs,s=Y(t.collection,Object.keys(i),Object.keys(r));t.alts.map((function(e){n(xn(K(e,i,r)))})),t.alts.map((function(o,i){Object(a.b)((function(){n(En(t.collectionId,o.viewId,s.inputs,s.outputs,s.dimOrder)),n(Ln(e[i])),n(oo(o.viewId))}))}))})),Bt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n(pn(Bt.b.success("Alternative(s) copied"),"alternative(s) copied "+qn))})).catch((function(e){Bt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n(gn(Bt.b.error("Alternative(s) not copied"),"alternative(s) not copied "+qn))}))}n(hn(Bt.b.warning("Please select an alternative and a collection"),"please select an alternative and a collection"+qn))}},eo=function(e,t,n){return function(o){if(e.length>0&&t.length>0){var i=Bt.b.info("Cloning alts to collection",{toastId:"CloneAltsToCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(M.get("alternativeClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t,sourceProjectId:n})}).then((function(e){return e.json()})).then((function(t){Bt.b.update(i,{progress:.5}),t.forEach((function(t){var n=t.alts[0].params,i=t.alts[0].outputs,r=Y(t.collection,Object.keys(n),Object.keys(i));t.alts.map((function(e){o(xn(K(e,n,i)))})),t.alts.map((function(n,i){Object(a.b)((function(){o(En(t.collectionId,n.viewId,r.inputs,r.outputs,r.dimOrder)),o(Ln(e[i])),o(oo(n.viewId))}))}))})),Bt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),o(pn(Bt.b.success("Alternative(s) cloned"),"alternative(s) cloned "+qn))})).catch((function(e){console.log(e),Bt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),o(gn(Bt.b.success("Alternative(s) not cloned"),"alternative(s) not cloned "+qn))}))}o(hn(Bt.b.warning("Please select an alternative and a collection"),"please select an alternative and a collection"+qn))}},to=function(e,t){return function(n,o){return fetch(M.get("alternativeCloneEdit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t})}).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var i=o().alternatives.get("alternatives").toJS()[0].params,r=o().alternatives.get("alternatives").toJS()[0].outputs,s=Y(t.collection,Object.keys(i),Object.keys(r));t.alts.map((function(e){n(xn(K(e,i,r)))})),t.alts.map((function(o,i){Object(a.b)((function(){n(En(t.collectionId,o.viewId,s.inputs,s.outputs,s.dimOrder)),n(Ln(e[i])),n(In(o.viewId))}))}))})),n(pn(Bt.b.success("Alternative cloned"),"alternative cloned "+qn))})).catch((function(e){console.log(e),n(gn(Bt.b.success("Alternative not cloned"),"alternative not cloned "+qn))}))}},no=function(e){return function(t,n){return Object.keys(e).map((function(e){t(Jn(e,!0)),D(n().alternatives.get("alternatives"),e).map((function(e){t(Jn(e.get("viewId"),!0))}))})),fetch(M.get("alternativeEdit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){!0===e.success?t(pn(Bt.b.success("Alternative(s) edited"),"alternative(s) edited "+qn)):t(hn(Bt.b.success("Edit failed"),"edit failed "+qn))})).catch((function(e){console.log(e),t(gn(Bt.b.success("Alternative(s) not edited"),"alternative(s) not edited "+qn))}))}},oo=function(e){return function(t){t(kn(e))}},io=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)(un,Object(I.a)({},this.props),"parallelView-"+this.props.collection.get("viewId"))}}]),n}(o.Component),ro=Object(a.c)((function(e){return{scales:e.scales,queries:e.queries}}),(function(e){return{alterAlternative:function(t,n,o){e(Hn(t,n,o))},editAlternatives:function(t){e(no(t))},cloneEditAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(to(t,n))},createNewAlternative:function(t,n,o){e(function(e,t){return function(n){return fetch(M.get("alternative_sketching"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e.toJS(),values:t})}).then((function(e){return e.json()})).then((function(e){n(pn(Bt.b.success("New alternative created"),"new alternative created"+qn))})).catch((function(e){console.log(e),n(gn(Bt.b.error("New alternative creation failed"),"new alternative creation failed"+qn))}))}}(t,n))},newCartesianProduct:function(t,n,o){e(function(e,t,n){return function(o,i){return fetch(M.get("cartesian_product"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,destinations:n})}).then((function(e){o(pn(Bt.b.success("Cartesian Product has started"),"Cartesian Product has started "+vn))})).catch((function(e){console.log(e),o(gn(Bt.b.error("Cartesian Product has not started"),"Cartesian Product has not started "+vn))}))}}(t,n,o))},newParameterSpectra:function(t,n,o,i,r){e(function(e,t,n,o,i){return function(r,s){return fetch(M.get("parameter_spectra"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,psnum:n,psdelta:o,destinations:i})}).then((function(e){r(pn(Bt.b.success("Parameter Spectra has started"),"Parameter Spectra has started "+vn))})).catch((function(e){console.log(e),r(gn(Bt.b.error("Parameter Spectra has not started"),"Parameter Spectra has not started "+vn))}))}}(t,n,o,i,r))},newSensitivityAnalysis:function(t,n,o){e(function(e,t,n){return function(o){return fetch(M.get("sensitivity_analysis"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,destinations:n,sadelta:t})}).then((function(e){o(pn(Bt.b.success("Sensitivity Analysis has started"),"Sensitivity Analysis has started "+vn))})).catch((function(e){console.log(e),o(gn(Bt.b.error("Sensitivity Analysis has not started"),"Sensitivity Analysis has not started "+vn))}))}}(t,n,o))},newSpectralCartesianProduct:function(t,n,o,i){e(function(e,t,n,o){return function(i){return fetch(M.get("spectral_cartesian_product"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,collection_id:n,destinations:o})}).then((function(e){i(pn(Bt.b.success("Spectral Cartesian Product has started"),"Spectral Cartesian Product has started "+vn))})).catch((function(e){console.log(e),i(gn(Bt.b.error("Spectral Cartesian Product has not started"),"Spectral Cartesian Product has not started "+vn))}))}}(t,n,o,i))},newSampling:function(t,n,o,i){e(function(e,t,n,o){return function(i,r){return fetch(M.get("sampling"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({altIds:e,brushes:t,destinations:n,createInRange:o})}).then((function(e){i(pn(Bt.b.success("Sampling has started"),"Sampling has started "+vn))})).catch((function(e){console.log(e),i(gn(Bt.b.error("Sampling has not started"),"Sampling has not started "+vn))}))}}(t,n,o,i))},addDataField:function(t,n){e(function(e,t){return{type:p.get("ADD_DATA_FIELD"),payload:{alternative:e,field:t}}}(t,n))},removeDataField:function(t,n){e(function(e,t){return{type:p.get("REMOVE_DATA_FIELD"),payload:{alternative:e,field:t}}}(t,n))},orderCollectionDimensions:function(t,n){e(function(e,t){return{type:p.get("ORDER_COLLECTION_DIMENSIONS"),payload:{viewId:e,dimOrder:t}}}(t,n))},setValueBands:function(t,n,o){e(function(e,t,n){return{type:p.get("SET_VALUE_BANDS"),payload:{dim:e,end:t,val:n}}}(t,n,o))},addQuery:function(t,n,o,i){e(function(e,t,n,o){return{type:p.get("ADD_QUERY"),payload:{queryId:e,fromCollection:t,queryString:n,selections:o}}}(t,n,o,i))},removeQuery:function(t){e(function(e){return{type:p.get("REMOVE_QUERY"),payload:{queryId:e}}}(t))},clearAllQueries:function(){e({type:p.get("CLEAR_ALL_QUERIES")})},addBrush:function(t,n){e(function(e,t){return{type:p.get("ADD_BRUSH"),payload:Object(I.a)(Object(I.a)({},e),{},{colId:t})}}(t,n))},removeBrush:function(t,n){var o;e((o=t,{type:p.get("REMOVE_BRUSH"),payload:{queryId:o}}))},clearAllBrushes:function(){e({type:p.get("CLEAR_ALL_BRUSHES")})}}}))(io),so=n(202),ao=n.n(so),co=n(263),lo=n.n(co),uo=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleMouseEnter=function(t,n){e.props.hoverAlternative(t,n)},e.handleMouseLeave=function(t,n){e.props.dehoverAlternative(t,n)},e.handleRowClick=function(t,n){e.props.altsInCollection.find((function(e){return e.get("viewId")===n.viewId})).get("isSelected")?e.props.deselectAlternative(n.viewId):e.props.selectAlternative(n.viewId)},e}return Object(me.a)(n,[{key:"render",value:function(){var e=this;return Object(Ue.jsx)("div",{className:ao.a["list-container"],children:Object(Ue.jsx)(lo.a,{columns:this.props.columns,data:this.props.data,options:{search:!0,sorting:!0,paging:!1,padding:"dense",showTitle:!1,maxBodyHeight:this.props.height,headerStyle:{position:"sticky",top:0},rowStyle:function(t){return{backgroundColor:0===e.props.altsInCollection.filter((function(e){return e.get("isSelected")&&e.get("viewId")===t.viewId})).size?0!==e.props.altsInCollection.filter((function(n){return e.props.selectedAlts.includes(n.get("refId"))&&n.get("viewId")===t.viewId})).size?ao.a.colorSelectedRelated:"#ffffff":ao.a.colorSelected}}},components:{Row:function(t){return Object(o.createElement)(co.MTableBodyRow,Object(I.a)(Object(I.a)({},t),{},{id:t.data.viewId,key:"tableList-"+t.data.viewId,className:"tableList tableList-ref-"+t.data.refId+" tableList-view-"+t.data.viewId,onMouseEnter:Ye()(e.handleMouseEnter.bind(e,t.data.viewId,t.data.refId)),onMouseLeave:Ye()(e.handleMouseLeave.bind(e,t.data.viewId,t.data.refId))}))}},onRowClick:this.handleRowClick.bind(this),detailPanel:[{icon:function(){return Object(Ue.jsx)(ke.k,{})},tooltip:"Show Image",render:function(t){return Object(Ue.jsx)("div",{children:Object(Ue.jsx)("img",{src:B(R(e.props.altsInCollection,t.viewId)),className:ao.a["alternative-image"],style:{height:800,width:800},alt:"image for "+t.viewId})})}},{icon:function(){return Object(Ue.jsx)(ke.a,{})},tooltip:"Show Model",render:function(e){return Object(Ue.jsx)("div",{children:Object(Ue.jsx)(ze,{customStyle:"position: sticky; left: 0;",width:800,height:800,gltf:e.gltf,id:e.viewId})})}}]})})}}]),n}(o.PureComponent),po=uo,ho=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;Object(ve.a)(this,n);var i=(o=t.call(this,e)).props.dimensions.toJS().map((function(e){return{title:e,field:e,headerStyle:{position:"sticky",top:0,fontWeight:Object.keys(o.props.collection.get("outputs")).includes(e)?"bold":"normal"}}})),r=o.props.altsInCollection.map((function(e){return Object(I.a)({viewId:e.get("viewId"),gltf:e.get("gltf"),refId:e.get("refId"),collectionViewId:e.get("collectionViewId")},e.get("parallelData").toJS())})).toJS();return o.state={columns:i,data:r},o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)(po,Object(I.a)({columns:this.state.columns,data:this.state.data},this.props),"listView-"+this.props.collection.get("viewId"))}}]),n}(o.Component),go=Object(a.c)((function(e){return{dimensions:e.scales.get("keySets")}}))(ho),fo=n(203),vo=n.n(fo),mo=function(e){var t=e.altsInCollection.filter((function(e){return e.isSelected})).length;return Object(Ue.jsx)("div",{className:vo.a.infobar,ref:e.infoRef,children:Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)("span",{className:vo.a["infopar-a"],children:e.altsInCollection.length}),Object(Ue.jsx)("span",{className:vo.a["infopar-s"],children:t}),Object(Ue.jsx)("span",{className:vo.a["infopar-r"]})]})})},bo=n(322),jo=n.n(bo),So=function(e){var t=e.tagOptions.map((function(e,t){return Object(Ue.jsxs)("span",{className:jo.a["tagBar-span"],children:["#",e.label]},"tagBar-key"+t)}));return Object(Ue.jsx)("div",{className:jo.a.tagBar,children:t})},Oo=n(28),yo=n(277),Co=[{value:1,label:"folder view"},{value:2,label:"parallel view"},{value:3,label:"list view"}],_o=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){var e=o.cmpEl.getBoundingClientRect();o.setState({width:e.width,height:e.height,collectionName:C(o.props.collection)}),o.loadSortParamsForCollection()},o.loadSortParamsForCollection=function(){for(var e=o.props.collection.get("outputs").toJS().concat(o.props.collection.get("inputs").toJS()),t=0;e.length>t;t++)e[t]={label:e[t],value:e[t],__isNew__:!1,direction:1};e.unshift({label:"isSelected",value:"isSelected",__isNew__:!1,direction:1},{label:"isReferenced",value:"isReferenced",__isNew__:!1,direction:1}),o.setState({sortingOptions:e})},o.componentDidUpdate=function(e,t,n){var i=o.cmpEl.getBoundingClientRect();if(o.setState({width:i.width}),o.setState({height:i.height}),e.collection.get("collectionName")!==o.props.collection.get("collectionName")&&o.setState({collectionName:o.props.collection.get("collectionName")}),o.props.shouldRemoveFocus&&(o.setState({shouldFocus:null}),o.props.removeFocus()),e.collection.get("isEditingName")!==o.props.collection.get("isEditingName")){var r=document.getElementById(o.state.shouldFocus);null!==r&&r.select()}if(e.collection.get("destinations")!==o.props.collection.get("destinations")&&(o.destinationRef.current.state.value=o.props.collection.get("destinations").toJS()),!Q(e.collection.get("outputs").toJS(),o.props.collection.get("outputs").toJS())||!Q(e.collection.get("inputs").toJS(),o.props.collection.get("inputs").toJS())){for(var s=o.props.collection.get("outputs").toJS().concat(o.props.collection.get("inputs").toJS()),a=0;s.length>a;a++)s[a]={label:s[a],value:s[a],__isNew__:!1,direction:1};s.unshift({label:"isSelected",value:"isSelected",__isNew__:!1,direction:1},{label:"isReferenced",value:"isReferenced",__isNew__:!1,direction:1}),o.setState({sortingOptions:s})}},o.loadTags=function(){o.tagOptions=o.props.collection.get("tags").toJS().map((function(e){return{label:e,value:e,__isNew__:!1}}))},o.toggleTagging=function(){o.setState({isTagging:!o.state.isTagging})},o.toggleEditViewForCollection=function(e){e.stopPropagation(),e.preventDefault(),o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:o.props.collection.get("viewId")})},o.handleCloseClick=function(e){e.stopPropagation(),o.props.deleteCollections(o.props.collection.get("viewId"))},o.handleEmptyClick=function(e){e.stopPropagation();var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")&&e.get("collectionViewId")===o.props.collection.get("viewId")}));o.props.removeAlternativesFromCollection(t)},o.handleMinimizeClick=function(e){e.stopPropagation(),o.props.toggleViewMode(o.props.collection.get("viewId"),1),o.props.saveLayoutObject(X(o.props.layouts,o.props.collection.get("viewId"))),o.props.toggleSink(o.props.collection.get("viewId")),o.props.deselectCollection(o.props.collection.get("viewId"))},o.handleSelect=function(){o.props.collection.get("isSelected")?o.props.deselectCollection(o.props.collection.get("viewId")):o.props.selectCollection(o.props.collection.get("viewId"))},o.handleHovsClick=function(e){e.stopPropagation(),e.preventDefault(),o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){0!==o.props.alternatives.get("alternatives").filter((function(t){return e.get("isHovered")||t.get("isHovered")&&t.get("refId")===e.get("refId")&&!o.props.collection.get("altsid").contains(t.get("viewId"))})).size&&(o.props.selectAlternative(e.get("viewId")),rt.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",et.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+et.a.colorSelected))}))},o.handleRefsClick=function(e){e.stopPropagation(),e.preventDefault(),o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){0!==o.props.alternatives.get("alternatives").filter((function(t){return t.get("isSelected")&&t.get("refId")===e.get("refId")&&!o.props.collection.get("altsid").contains(t.get("viewId"))})).size&&(o.props.selectAlternative(e.get("viewId")),rt.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",et.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+et.a.colorSelected))}))},o.handleUnselectClick=function(e){e.stopPropagation(),e.preventDefault(),_(o.props.collection,o.props.alternatives.get("alternatives")).map((function(e){o.props.deselectAlternative(e.get("viewId")),rt.k(".alt-ref-"+e.get("refId")).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)}))},o.handleBlur=function(e){if("Enter"===e.key){var t;if(e.target.value.includes("#")&&"#"+o.props.collection.get("collectionName")!==e.target.value&&!0,t=e.target.value.replace(/#/g,"").replace(/ /g,"-"),o.props.collection.get("collectionName")!==t&&t.length>0){var n=o.props.nameExists(t,o.props.collection);if(o.props.isMultipleInputs)if(n)o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:null});else{var i={name:t,collection:o.props.collection};o.props.updateMultipleNames(i),o.setState({shouldFocus:null})}else if(n)o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:null});else try{var r=o.props.collection.toJS();r.collectionName=t+"-"+r.collectionNameView,o.props.updateCollection(r)}catch(s){console.log(s)}finally{o.props.editNameForCollection(o.props.collection.get("viewId"),t),o.setState({shouldFocus:null})}}else o.props.nameHasTheSameValue(o.props.collection.get("refId")),o.setState({collectionName:o.props.collection.get("collectionName"),shouldFocus:null})}},o.handleTaggingSelect=function(e,t){if(e)try{var n=o.props.collection.toJS();n.tags=e.map((function(e){return e.value})),o.props.updateCollection(n)}catch(r){console.log(r)}finally{o.props.updateCollectionTags(o.props.collection.get("viewId"),e.map((function(e){return e.value})))}else try{var i=o.props.collection.toJS();i.tags=[],o.props.updateCollection(i)}catch(r){console.log(r)}finally{o.props.updateCollectionTags(o.props.collection.get("viewId"),[])}},o.handleViewSelect=function(e){switch(e.label){case"folder view":case"parallel view":case"list view":o.props.toggleViewMode(o.props.collection.get("viewId"),e.value);break;default:console.log("no valid selection")}},o.handleDestinationSelect=function(e){e?o.props.setCollectionDestination(o.props.collection.get("viewId"),e):o.props.setCollectionDestination(o.props.collection.get("viewId"),[])},o.handleSelectedSortOptions=function(e){e?o.props.setSortParams(o.props.collection.get("viewId"),e):o.props.setSortParams(o.props.collection.get("viewId"),[])},o.handleDoubleClick=function(e){e.stopPropagation(),e.preventDefault()},o.handleFocus=function(e){e.target.select()},o.handleKeyPress=function(e){"Enter"===e.key&&o.handleBlur(e)},o.handleDrag=function(e){e.stopPropagation(),e.preventDefault(),o.setState({isDragging:!o.state.isDragging})},o.handleDragClick=function(e){e.stopPropagation(),e.preventDefault()},o.handleTextChange=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.value.replace(/#/g,"").replace(/ /g,"-"),n={refId:o.props.collection.get("refId"),viewId:o.props.collection.get("viewId")};o.props.changeMultipleName(n),o.setState({collectionName:t})},o.handleAspectRatio=function(e){var t={viewId:o.props.collection.get("viewId"),width:0,height:6,isResizable:!1};t.width=Math.floor(.4*e.length)>4?Math.floor(.4*e.length):4,o.props.updateAspectRatio(t)},o.handleUnlockAspectRatio=function(){var e={viewId:o.props.collection.get("viewId"),isResizable:!0};o.props.updateUnlockAspectRatio(e)},o.handleSortAlternatives=function(e){e.preventDefault(),e.stopPropagation();var t=Object(_e.a)(o.props.collection.get("layoutsForAlts").toJS()),n=x(o.props.layoutForCollection.get("w"),5,T.get("CELL_DIM"),0),i=Math.floor((n-40)/170),r=o.props.collection.get("sortParams").toJS(),s=o.props.alternatives.get("alternatives"),a=o.props.collection.get("outputs").toJS(),c=o.props.collection.get("inputs").toJS();if(!(r.length<=0)){var l=o.props.selectedAlts;t.sort((function(e,t){for(var n=R(s,e.i),o=R(s,t.i),i=0,d=0;i<r.length&&0===d;){if("isReferenced"===r[i].value){var u=l.includes(n.get("refId"))&&!n.get("isSelected"),p=l.includes(o.get("refId"))&&!o.get("isSelected");d=r[i].direction*(u.toString()<p.toString()?-1:u.toString()>p.toString()?1:0)}else d=a.some((function(e){return e===r[i].value}))?r[i].direction*(n.get("outputs").get(r[i].value).toString()<o.get("outputs").get(r[i].value).toString()?-1:n.get("outputs").get(r[i].value).toString()>o.get("outputs").get(r[i].value).toString()?1:0):c.some((function(e){return e===r[i].value}))?r[i].direction*(n.get("params").get(r[i].value).toString()<o.get("params").get(r[i].value).toString()?-1:n.get("params").get(r[i].value).toString()>o.get("params").get(r[i].value).toString()?1:0):r[i].direction*(n.get(r[i].value).toString()<o.get(r[i].value).toString()?-1:n.get(r[i].value).toString()>o.get(r[i].value).toString()?1:0);i++}return d})),function(e,t){for(var n=0,o=0,i=0;i<e.length;i++)o===t-1?(e[i].x=o,e[i].y=n,n+=1,o=0):(e[i].x=o,e[i].y=n,o+=1)}(t,i),o.props.updateAlternativeLayoutForCollection(o.props.collection.get("viewId"),t)}},o.handleAltsLayout=function(e){o.props.updateAlternativeLayoutForCollection(o.props.collection.get("viewId"),e)},o.handleArrowClick=function(e,t){t.preventDefault(),t.stopPropagation();for(var n=o.props.collection.get("sortParams").toJS(),i=Object(_e.a)(o.state.sortingOptions),r=0;n.length>r;r++)n[r].label===e&&(1===n[r].direction?n[r].direction=-1:n[r].direction=1);for(var s=0;i.length>s;s++)i[s].label===e&&(1===i[s].direction?i[s].direction=-1:i[s].direction=1);o.props.setSortParams(o.props.collection.get("viewId"),n),o.setState({sortingOptions:i})},o.handleItemClick=function(e){e.preventDefault(),e.stopPropagation()},o.state={width:0,height:0,isTagging:!1,isDragging:!1,collectionName:"",shouldFocus:null,sortingOptions:[]},o.infoRef=i.a.createRef(),o.destinationRef=i.a.createRef(),o.destinationOptions=[],o.tagOptions=[],o}return Object(me.a)(n,[{key:"render",value:function(){var e=this,t=X(this.props.layouts,this.props.collection.get("viewId")).get("h"),n="C";this.props.collection.get("isSelected")?n="A":!this.props.collection.get("isSelected")&&this.props.selectedCols.includes(this.props.collection.get("refId"))&&(n="B");var o=Ie()({[et.a.collection]:"C"===n,[et.a["collection-selected"]]:"A"===n,[et.a["collection-related"]]:"B"===n}),i=Ie()({[et.a["start-drag"]]:!this.state.dragging,"drag-handle":!0,[et.a.dragging]:this.state.dragging}),r={container:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{zIndex:t.isFocused?"998":"1"})}},s={multiValueLabel:function(e){return Object(I.a)(Object(I.a)({},e),{},{flexDirection:"row",display:"flex",border:"1px solid #000",borderRight:"0px"})},container:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{zIndex:t.isFocused?"998":"1"})},valueContainer:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{overflowY:"scroll",display:"flex",flexDirection:"row",maxHeight:"60px"})},multiValueRemove:function(e,t){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"#2684ff",border:"1px solid #000"})}};return this.destinationOptions=this.props.loadOptions(this.props.collection.get("viewId")),this.loadTags(),Object(Ue.jsxs)("div",{ref:function(t){return e.cmpEl=t},className:o,style:this.props.style,onDoubleClick:this.handleDoubleClick,children:[Object(Ue.jsx)("div",{onClick:this.handleSelect,className:et.a.pointer2,children:Object(Ue.jsxs)("div",{className:et.a["icon-handle"],children:[Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)("span",{children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.25em"},children:Object(Ue.jsx)(Te.a,{title:"move",className:i,onClick:this.handleDragClick,onDragStart:this.handleDrag,onDragEnd:this.handleDrag})})}),Object(Ue.jsx)("span",{style:{marginLeft:"12px"},children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.25em",color:et.a.colorSelected,paddingLeft:"2px"},children:Object(Ue.jsx)(ke.b,{title:"unselect",onClick:this.handleUnselectClick,className:et.a.pointer})})}),Object(Ue.jsx)("span",{children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.25em",color:et.a.colorHovered},children:Object(Ue.jsx)(ke.c,{title:"select hovered",className:et.a.pointer,onClick:this.handleHovsClick})})}),Object(Ue.jsx)("span",{children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.25em",color:et.a.colorSelectedRelated},children:Object(Ue.jsx)(ke.c,{title:"select refed",className:et.a.pointer,onClick:this.handleRefsClick})})})]}),U(!this.props.collection.get("isEditingName"),Object(Ue.jsxs)("div",{className:et.a["collection-name-div"],onDoubleClick:this.toggleEditViewForCollection,children:[Object(Ue.jsx)("div",{className:et.a["collection-title-div"],children:Object(Ue.jsx)("h4",{className:et.a["collection-name"],onDoubleClick:this.toggleEditViewForCollection,children:C(this.props.collection)})}),Object(Ue.jsx)("div",{className:et.a["collection-titleView-div"],children:Object(Ue.jsx)("h4",{className:et.a["collection-name-view"],children:this.props.collection.get("collectionNameView")})})]}),Object(Ue.jsxs)("div",{className:et.a["collection-name-div"],children:[Object(Ue.jsx)("div",{className:et.a["collection-input-div"],children:Object(Ue.jsx)("input",{id:this.props.collection.get("viewId"),type:"text",onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,className:et.a.textInputStyle,onChange:this.handleTextChange,value:this.state.collectionName})}),Object(Ue.jsx)("div",{className:et.a["collection-titleView-div"],children:Object(Ue.jsx)("h4",{className:et.a["collection-name-view"],children:this.props.collection.get("collectionNameView")})})]})),Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.35em"},children:Object(Ue.jsx)(ke.t,{title:"sink",className:et.a.pointer,onClick:this.handleMinimizeClick})}),Object(Ue.jsx)("span",{children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.35em"},children:Object(Ue.jsx)(ke.h,{title:"empty",className:et.a.pointer,onClick:this.handleEmptyClick})})}),Object(Ue.jsx)("span",{children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.35em"},children:Object(Ue.jsx)(ke.i,{title:"delete",className:et.a.pointer,onClick:this.handleCloseClick})})})]})]})}),Object(Ue.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[t<2?null:Object(Ue.jsx)("div",{style:{flex:"50%",marginRight:"1%"},children:Object(Ue.jsx)(ct.a,{styles:r,defaultValue:Co[this.props.collection.get("viewType")-1],options:Co,onChange:this.handleViewSelect})}),2!==this.props.collection.get("viewType")?null:Object(Ue.jsx)("div",{style:{flex:"30%",marginLeft:"1%"},children:Object(Ue.jsx)(yo.a,{styles:r,isMulti:!0,placeholder:"destination collection(s)",options:this.destinationOptions,onChange:this.handleDestinationSelect,ref:this.destinationRef})}),2===this.props.collection.get("viewType")?null:Object(Ue.jsx)("div",{style:{flex:"45%",marginLeft:"1%",marginRight:"1%"},children:Object(Ue.jsx)(yo.a,{components:{MultiValueLabel:function(t){return Object(Ue.jsx)("div",{onClick:e.handleItemClick,children:Object(Ue.jsxs)(Oo.f.MultiValueLabel,Object(I.a)(Object(I.a)({},t),{},{children:[Object(Ue.jsx)("p",{className:et.a.multiValueLabel,children:t.data.label}),Object(Ue.jsx)("div",{onClick:e.handleItemClick,className:et.a.arrowIconsContainer,children:Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.25em"},children:-1===t.data.direction?Object(Ue.jsx)(Le.b,{onClick:e.handleArrowClick.bind(e,t.data.label),className:et.a.arrowIconStyle}):Object(Ue.jsx)(Le.a,{className:et.a.arrowIconStyle,onClick:e.handleArrowClick.bind(e,t.data.label)})})})]}))})}},styles:s,isMulti:!0,placeholder:"Sort Selection",options:this.state.sortingOptions,onChange:this.handleSelectedSortOptions,autoFocus:!1})}),2===this.props.collection.get("viewType")?null:Object(Ue.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(Ue.jsx)(Pe.a,{variant:"outlined",onClick:this.handleSortAlternatives,children:"Sort"})})]}),Object(Ue.jsx)("hr",{}),1===this.props.collection.get("viewType")?Object(Ue.jsx)(Ze,{altsInCollection:this.props.altsInCollection,altsId:this.props.collection.get("altsid"),layoutsForAlts:this.props.collection.get("layoutsForAlts"),layoutForCollection:this.props.layoutForCollection,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,toggleAltView:this.props.toggleAltView,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts,handleAltsLayout:this.handleAltsLayout.bind(this)}):null,2===this.props.collection.get("viewType")?Object(Ue.jsx)(ro,{width:this.state.width,height:this.state.height,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,deselectAllAlternatives:this.props.deselectAllAlternatives,hoverAlternative:this.props.hoverAlternative,hoverAlternativeSpecial:this.props.hoverAlternativeSpecial,dehoverAlternative:this.props.dehoverAlternative,sendMessage:this.props.sendMessage,altsInCollection:this.props.altsInCollection,collection:this.props.collection,alternatives:this.props.alternatives,cloneAlternatives:this.props.cloneAlternatives,createNewCollection:this.props.createNewCollection,setCollectionMode:this.props.setCollectionMode,infoRef:this.infoRef,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts,lockAspectRatio:this.handleAspectRatio.bind(this),unlockAspectRatio:this.handleUnlockAspectRatio}):null,3===this.props.collection.get("viewType")?Object(Ue.jsx)(go,{width:this.state.width,height:this.state.height,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,altsInCollection:this.props.altsInCollection,collection:this.props.collection,alternatives:this.props.alternatives,selectedAlts:this.props.selectedAlts}):null,Object(Ue.jsx)(Re.b.Provider,{value:{size:"1.15em"},children:Object(Ue.jsx)(Me.a,{title:"tag",className:et.a.tagEdit,onClick:this.toggleTagging})}),Object(Ue.jsx)(mo,{altsInCollection:this.props.altsInCollection.toJS(),infoRef:this.infoRef}),this.state.isTagging?Object(Ue.jsx)("div",{style:{marginLeft:"5%"},children:Object(Ue.jsx)(yo.a,{styles:r,isMulti:!0,onChange:this.handleTaggingSelect,defaultValue:this.tagOptions,menuPosition:"fixed"})}):null,Object(Ue.jsx)(So,{tagOptions:this.tagOptions})]},"collection-box-"+this.props.collection.get("viewId"))}}]),n}(o.PureComponent),xo=n(150),Eo=n.n(xo),wo=n(319),No=n(416),Ao=n(318),Io=n(321),ko=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleSizeChange=function(e){o.setState({altSize:e.target.value}),o.props.setAlternativeSize(e.target.value)},o.handleTypeChange=function(e){o.setState({colType:e.target.value}),o.props.setCompactionType(e.target.value)},o.handlePreventionChange=function(e){o.setState({colPrev:e.target.value}),o.props.setCollisionPrevention(e.target.value)},o.handleSettingsClose=function(){o.setState({settingsOpen:!1}),o.props.toggleSettings()},o.handleSizeClose=function(){o.setState({selectBox1Open:!1})},o.handleSizeOpen=function(){o.setState({selectBox1Open:!0})},o.handleTypeClose=function(){o.setState({selectBox2Open:!1})},o.handleTypeOpen=function(){o.setState({selectBox2Open:!0})},o.handlePreventionClose=function(){o.setState({selectBox3Open:!1})},o.handlePreventionOpen=function(){o.setState({selectBox3Open:!0})},o.handleSelect=function(){"undefined"!==typeof o.selectProject&&o.selectProject.name&&(o.props.selectProject(o.selectProject),o.setState({settingsOpen:!1}))},o.handleCreate=function(){""!==o.newProjectName&&(o.props.createProject(o.newProjectName,o.newProjectDescription),o.setState({settingsOpen:!1}))},o.onProjectChange=function(e){var t=o.props.projects.toJS().findIndex((function(t){return t.name===e.value}));t>-1&&(o.selectProject=o.props.projects.toJS()[t])},o.onProjectNameChange=function(e){o.newProjectName=e.target.value},o.onProjectDescriptionChange=function(e){o.newProjectDescription=e.target.value},o.copyToClipboard=function(e){o.textField.select(),document.execCommand("copy"),e.target.focus()},o.state={settingsOpen:!0,selectBox1Open:!1,selectBox2Open:!1,selectBox3Open:!1,altSize:o.props.settings.get("alternativeImageSize"),colType:o.props.settings.get("collectionCompactionType"),colPrev:o.props.settings.get("preventCollision")},o.textField=null,o.selectedProject={},o.newProjectName="",o.newProjectDescription="",o}return Object(me.a)(n,[{key:"render",value:function(){var e=this;this.props.projects.toJS().map((function(e){return e.name}))[0];return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)(lt.a,{className:Eo.a.panel,open:this.state.settingsOpen,onClose:this.handleSettingsClose,"aria-labelledby":"settings-dialog-title","aria-describedby":"settings-dialog-description",children:[Object(Ue.jsx)(ht.a,{id:"settings-dialog-title",children:"Settings"}),Object(Ue.jsx)("hr",{}),Object(Ue.jsxs)(ut.a,{className:Eo.a["panel-content"],children:[Object(Ue.jsx)("table",{children:Object(Ue.jsxs)("tbody",{children:[Object(Ue.jsxs)("tr",{children:[Object(Ue.jsx)("td",{children:Object(Ue.jsx)("p",{children:"alternative image size"})}),Object(Ue.jsx)("td",{children:Object(Ue.jsxs)(Ao.a,{children:[Object(Ue.jsx)(wo.a,{id:"open-select-label"}),Object(Ue.jsxs)(Io.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox1Open,onClose:this.handleSizeClose,onOpen:this.handleSizeOpen,value:this.state.altSize,onChange:this.handleSizeChange,children:[Object(Ue.jsx)(No.a,{value:150,children:"Small"}),Object(Ue.jsx)(No.a,{value:180,children:"Medium"}),Object(Ue.jsx)(No.a,{value:210,children:"Large"})]})]})})]}),Object(Ue.jsxs)("tr",{children:[Object(Ue.jsx)("td",{children:Object(Ue.jsx)("p",{children:"collection tiling method"})}),Object(Ue.jsx)("td",{children:Object(Ue.jsxs)(Ao.a,{children:[Object(Ue.jsx)(wo.a,{id:"open-select-label"}),Object(Ue.jsxs)(Io.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox2Open,onClose:this.handleTypeClose,onOpen:this.handleTypeOpen,value:this.state.colType,onChange:this.handleTypeChange,children:[Object(Ue.jsx)(No.a,{value:"none",children:"None"}),Object(Ue.jsx)(No.a,{value:"vertical",children:"Vertical"}),Object(Ue.jsx)(No.a,{value:"horizontal",children:"Horizontal"})]})]})})]}),Object(Ue.jsxs)("tr",{children:[Object(Ue.jsx)("td",{children:Object(Ue.jsx)("p",{children:"prevent collection collision"})}),Object(Ue.jsx)("td",{children:Object(Ue.jsxs)(Ao.a,{children:[Object(Ue.jsx)(wo.a,{id:"open-select-label"}),Object(Ue.jsxs)(Io.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox3Open,onClose:this.handlePreventionClose,onOpen:this.handlePreventionOpen,value:this.state.colPrev,onChange:this.handlePreventionChange,children:[Object(Ue.jsx)(No.a,{value:!1,children:"Yes"}),Object(Ue.jsx)(No.a,{value:!0,children:"No"})]})]})})]})]})}),Object(Ue.jsx)("hr",{}),Object(Ue.jsxs)("form",{className:Eo.a.containerForProjectAndName,children:[Object(Ue.jsx)("label",{className:Eo.a.projectLabel,htmlFor:"projectKey",children:"Project Key: "}),Object(Ue.jsx)("input",{id:"projectKey",ref:function(t){return e.textField=t},className:Eo.a.copyInput,onClick:this.copyToClipboard,value:this.props.selectedProject.key,readOnly:!0}),Object(Ue.jsx)(ke.f,{title:"click to copy",className:Eo.a.button,onClick:this.copyToClipboard})]}),Object(Ue.jsx)(dt.a,{children:Object(Ue.jsx)(Pe.a,{onClick:this.handleSettingsClose,color:"primary",children:"OK"})})]})]})})}}]),n}(o.PureComponent),To=n(137),Lo=n.n(To),Po=n(426),Mo=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleSearchClose=function(e){e.preventDefault(),o.setState({searchOpen:!1}),o.props.toggleSearch()},o.handleSearchText=function(e){o.setState({searchText:e.target.value})},o.handleSubmit=function(e){if(e.preventDefault(),o.state.searchText)o.props.handleSearch(o.state.searchText);else{o.props.searchedCollectionFailed([])}},o.removeValidation=function(){o.props.search.get("showValidation")&&(o.props.searchedCollectionSuccess(),o.props.emptyMissMatchArray())},o.state={searchOpen:!0,searchText:""},o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)(lt.a,{className:Lo.a.panel,open:this.state.searchOpen,onClose:this.handleSearchClose,"aria-labelledby":"search-dialog-title",children:[Object(Ue.jsx)(ht.a,{id:"search-dialog-title",children:"Collection Search"}),Object(Ue.jsx)("hr",{}),Object(Ue.jsx)(ut.a,{className:Lo.a["panel-content"],children:Object(Ue.jsxs)("form",{onSubmit:this.handleSubmit,className:Lo.a["panel-form"],children:[Object(Ue.jsx)(Po.a,{className:Lo.a["panel-textField"],onClick:this.removeValidation,id:"outlined-full-width",label:"Search",placeholder:"Enter Collection name",variant:"outlined",onChange:this.handleSearchText,value:this.state.searchText,error:this.props.search.get("showValidation"),helperText:this.props.search.get("showValidation")?"Can't find collection "+this.props.search.get("missMatchCollectionNames").toString():null}),Object(Ue.jsxs)("div",{className:Lo.a["panel-buttons-container"],children:[Object(Ue.jsx)(Pe.a,{type:"submit",color:"primary",className:Lo.a["panel-button"],children:"Search"}),Object(Ue.jsx)(Pe.a,{onClick:this.handleSearchClose,color:"primary",className:Lo.a["action-button"],children:"Close"})]})]})})]})})}}]),n}(o.PureComponent),Ro=n(126),Do=n.n(Ro),Bo=n(278),Ho=n.n(Bo),Jo=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleClick=function(t,n){var o=t.clientX,i=t.clientY,r=E(o,i-64),s=Z(e.props.layouts,n),a=u.a.fromJS({x:r.x,y:r.y,w:s?s.get("w"):3,h:s?s.get("h"):5,i:n});e.props.addLayoutObject(a),e.props.restoreCollection(n)},e}return Object(me.a)(n,[{key:"render",value:function(){var e=this,t=this.props.collections.get("collections").filter((function(e){return!0===e.get("isSinked")})).map((function(t){return Object(Ue.jsx)("tr",{className:Ho.a["items-list"],onClick:function(n){return e.handleClick(n,t.get("viewId"))},children:Object(Ue.jsx)("td",{children:t.get("collectionName")})},"sink-item-"+t.get("viewId"))}));return Object(Ue.jsx)("div",{className:Ho.a["sink-list-menu"],children:Object(Ue.jsx)("table",{children:Object(Ue.jsxs)("tbody",{children:[Object(Ue.jsx)("tr",{children:Object(Ue.jsxs)("th",{children:[" Collections in Sink ",Object(Ue.jsx)("hr",{className:Ho.a["hr-sinkList"]})]})}),t]})})})}}]),n}(o.PureComponent),Fo=function(e){Object(be.a)(o,e);var t=Object(je.a)(o);function o(){var e;Object(ve.a)(this,o);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleSinkClick=function(t){t.stopPropagation(),e.props.header.get("listShow")?e.props.hideSinkList():e.props.showSinkList()},e.handleHistoryClick=function(t){t.stopPropagation(),e.props.toggleHistory()},e.handleUnselectAllClick=function(t){t.stopPropagation(),e.props.deselectAllCollections(),e.props.deselectAllAlternatives(),e.props.hideHeader(),rt.k(".alt").style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null),rt.k(".pc").style("stroke",Do.a.colorUnselected).style("opacity",.3),rt.k(".tableList").style("background-color","#ffffff")},e.handleSettingsClick=function(t){t.stopPropagation(),e.props.toggleSettings()},e.handleSearchClick=function(t){t.stopPropagation(),e.props.toggleSearch()},e.handleHelpClick=function(e){e.stopPropagation(),window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","width=800,height=800")},e.showDstarMenu=function(t){t.preventDefault(),e.props.showDstarMenu()},e.showCollectionList=function(t){t.preventDefault(),e.props.shouldShowCollectionList()},e}return Object(me.a)(o,[{key:"render",value:function(){var e={position:"absolute",top:this.props.header.get("headerY"),left:this.props.header.get("headerX"),zIndex:3},t={backgroundColor:"white"};return Object(Ue.jsxs)("div",{style:e,children:[Object(Ue.jsx)("input",{className:Do.a["right-click-menu"],id:"right-click-menu"}),Object(Ue.jsx)("label",{htmlFor:"right-click-menu"}),Object(Ue.jsx)("img",{style:{width:70,height:70},src:n(648).default,alt:"DStar-logo",onClick:this.showDstarMenu}),Object(Ue.jsxs)("ul",{children:[Object(Ue.jsxs)("li",{title:"Unselect All",className:Do.a["right-click-icon"],onClick:this.handleUnselectAllClick,children:[" ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(jt,{})})," "]}),Object(Ue.jsxs)("li",{title:"Show History",className:Do.a["right-click-icon"],onClick:this.handleHistoryClick,children:[" ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(Ot,{})})," "]}),Object(Ue.jsxs)("li",{title:"Show Sink",className:Do.a["right-click-icon"],onClick:this.handleSinkClick,children:[" ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(yt,{})})," "]}),Object(Ue.jsxs)("li",{title:"Settings",className:Do.a["right-click-icon"],onClick:this.handleSettingsClick,children:[" ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(Lt,{})})]}),Object(Ue.jsxs)("li",{title:"Collection",className:Do.a["right-click-icon"],onClick:this.showCollectionList,children:["  ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(Ct,{})})," "]}),Object(Ue.jsxs)("li",{title:"Help",className:Do.a["right-click-icon"],onClick:this.handleHelpClick,children:[" ",Object(Ue.jsx)("a",{style:t,children:Object(Ue.jsx)(St,{})})]}),Object(Ue.jsx)("div",{children:this.props.header.get("listShow")?Object(Ue.jsx)(Jo,Object(I.a)({},this.props)):null})]})]})}}]),o}(o.PureComponent),Wo=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Vo=function(e){return function(t,n){return fetch(M.get("deleteCollection"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(){var o=n().collections.get("collections"),i=n().alternatives.get("alternatives");O(o,e).get("altsid").map((function(e){var n=R(i,e);t(Ln(n.get("viewId")))})),Object(a.b)((function(){t(Nn(e)),t(function(e){return{type:p.get("DELETE_COLLECTION"),payload:e}}(e)),t(pn(Bt.b.success("Collection deleted"),"collection deleted "+Wo)),o.filter((function(t){return t.get("viewId")!==e})).filter((function(t){return t.get("destinations").find((function(t){return t.get("value")===e}))})).map((function(n){t(Un(n.get("viewId"),n.get("destinations").toJS().filter((function(t){return t.value!==e}))))}))}))})).catch((function(e){console.log(e),t(gn(Bt.b.error("Collection is not deleted"),"collection not deleted "+Wo))}))}},Uo=function(e){return function(t){return fetch(M.get("collections"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){200===e.status?t(pn(Bt.b.success("Collection updated"),"collection updated "+Wo)):t(hn(Bt.b.warning("Something went wrong"),"something went wrong "+Wo))})).catch((function(e){t(gn(Bt.b.error("Collection is not updated"),"collection not updated "+Wo))}))}},Go=function(e){return fetch(M.get("layout_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({layout:e})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},zo=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return U(this.props.header.get("headerShow"),Object(Ue.jsx)(Fo,Object(I.a)({},this.props)))}}]),n}(o.Component),Ko=Object(a.c)((function(e){return{header:e.header,layouts:e.layouts,collections:e.collections}}),(function(e){return{showSinkList:function(){var t,n;e({type:p.get("SHOW_SINK_LIST"),listX:t,listY:n})},hideSinkList:function(){e(Dn())},addLayoutObject:function(t){e(Pn(t))},toggleHistory:function(){e(fn())},gatherAllCollections:function(){e(Fn())},toggleSettings:function(){e(Wn())},dehoverAllAlternative:function(){e(Tn())},hideHeader:function(){e(Rn())},toggleSearch:function(){e(Vn())},showDstarMenu:function(){e(Yn())},shouldShowCollectionList:function(){e(Qn())},restoreCollection:function(t){e(function(e){return function(t){return fetch(M.get("sinkCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionId:e})}).then((function(){Object(a.b)((function(){t(Bn(e)),t(pn(Bt.b.success("Collection restored"),"collection restored "+Wo))}))})).catch((function(e){console.log(e),t(gn(Bt.b.error("Collection not restored"),"collection not restored "+Wo))}))}}(t))}}}))(zo),Yo=n(101),Qo=n.n(Yo),qo=(n(439),function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).hideHistoryPane=function(t){t.stopPropagation(),e.props.toggleHistory()},e}return Object(me.a)(n,[{key:"render",value:function(){var e=this.props.notifications.get("errors"),t=this.props.notifications.get("warnings"),n=this.props.notifications.get("successes"),o=e.map((function(e){return Object(Ue.jsx)("tr",{children:Object(Ue.jsx)("td",{children:e.get("message")})},e.get("id"))})),i=t.map((function(e){return Object(Ue.jsx)("tr",{children:Object(Ue.jsx)("td",{children:e.get("message")})},e.get("id"))})),r=n.map((function(e){return Object(Ue.jsx)("tr",{children:Object(Ue.jsx)("td",{children:e.get("message")})},e.get("id"))}));return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)("div",{children:[" ",this.props.notifications.get("showHistory")?Object(Ue.jsxs)("div",{className:Qo.a["history-pane"],onClick:this.hideHistoryPane,children:[Object(Ue.jsx)("span",{children:Object(Ue.jsx)(ke.e,{className:Qo.a.closeIcon,onClick:this.handleCloseClick})}),Object(Ue.jsxs)("div",{className:Qo.a["success-pane"],children:[Object(Ue.jsx)("span",{className:Qo.a["title-bar"],children:n.size+" messages"}),Object(Ue.jsx)("hr",{className:Qo.a["hr-history-pane"]}),Object(Ue.jsx)("div",{children:Object(Ue.jsx)("table",{children:Object(Ue.jsx)("tbody",{children:r})})})]}),Object(Ue.jsxs)("div",{className:Qo.a["warning-pane"],children:[Object(Ue.jsx)("span",{className:Qo.a["title-bar"],children:t.size+" messages"}),Object(Ue.jsx)("hr",{className:Qo.a["hr-history-pane"]}),Object(Ue.jsx)("div",{children:Object(Ue.jsx)("table",{children:Object(Ue.jsx)("tbody",{children:i})})})]}),Object(Ue.jsxs)("div",{className:Qo.a["error-pane"],children:[Object(Ue.jsx)("span",{className:Qo.a["title-bar"],children:e.size+" messages"}),Object(Ue.jsx)("hr",{className:Qo.a["hr-history-pane"]}),Object(Ue.jsx)("div",{children:Object(Ue.jsx)("table",{children:Object(Ue.jsx)("tbody",{children:o})})})]})]}):null," "]})})}}]),n}(o.PureComponent)),Xo=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return U(!0,Object(Ue.jsx)(qo,Object(I.a)({},this.props)))}}]),n}(o.Component),Zo=Object(a.c)((function(e){return{notifications:e.notifications}}),(function(e){return{successMessage:function(t,n){e(pn(t,n))},warningMessage:function(t,n){e(hn(t,n))},errorMessage:function(t,n){e(gn(t,n))},toggleHistory:function(){e(fn())}}}))(Xo),$o=n(34),ei=n.n($o),ti=n(324),ni=n.n(ti),oi=n(119),ii=n.n(oi),ri=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleClose=function(e){e.preventDefault(),o.props.shouldShowDstarMenu()},o.handleHomePage=function(e){e.preventDefault(),o.props.shouldShowDstarMenu(),o.props.resetCollectionState(),o.props.history.push("/")},o.handleProjectPage=function(e){e.preventDefault(),o.props.shouldShowDstarMenu(),o.props.resetCollectionState(),o.props.history.push("/projects")},o}return Object(me.a)(n,[{key:"render",value:function(){var e=this.props.user.get("username")?this.props.user.get("username"):"No Name";return Object(Ue.jsxs)(lt.a,{open:this.props.showDstarMenu,className:ii.a.panel,onClose:this.handleClose,children:[Object(Ue.jsx)(ht.a,{id:"search-dialog-title",children:"DStar Menu"}),Object(Ue.jsx)(ut.a,{className:ii.a.panelContent,children:Object(Ue.jsxs)("ul",{children:[Object(Ue.jsxs)("li",{className:ii.a.userItem,children:[Object(Ue.jsx)("div",{className:ii.a.circle,children:Object(Ue.jsx)("p",{className:ii.a.initials,children:e.charAt(0).toUpperCase()})}),Object(Ue.jsx)("p",{className:ii.a.projectTitle,children:e})]}),Object(Ue.jsx)("li",{className:ii.a.projectName,children:this.props.selectedProject.name}),Object(Ue.jsx)("li",{onClick:this.handleHomePage,className:ii.a.homeLink,children:"Home Page"}),Object(Ue.jsx)("li",{onClick:this.handleProjectPage,className:ii.a.projectLink,children:"Projects page"})]})}),Object(Ue.jsx)(dt.a,{children:Object(Ue.jsx)(Pe.a,{onClick:this.handleClose,color:"primary",children:"Cancel"})})]})}}]),n}(o.PureComponent),si=n(204),ai=n.n(si),ci=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleClose=function(t){t.preventDefault(),e.props.shouldShowCollectionList()},e.handleGatherAll=function(t){try{e.props.gatherAllCollections(),e.props.shouldShowCollectionList()}catch(n){console.log(n)}finally{Go(e.props.layouts.get("gridLayout").toJS())}},e.handleSearch=function(t){t.preventDefault(),e.props.shouldShowCollectionList(),e.props.toggleSearch()},e}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsxs)(lt.a,{open:this.props.showCollectionList,className:ai.a.panel,onClose:this.handleClose,children:[Object(Ue.jsx)(ht.a,{id:"search-dialog-title",children:"Collection Menu"}),Object(Ue.jsx)(ut.a,{className:ai.a.panelContent,children:Object(Ue.jsxs)("ul",{children:[Object(Ue.jsx)("li",{className:ai.a.reagraneCollection,onClick:this.handleGatherAll,children:"Rearange Collection"}),Object(Ue.jsx)("li",{className:ai.a.reagraneCollection,onClick:this.handleSearch,children:"Search For Collection"})]})}),Object(Ue.jsx)(dt.a,{children:Object(Ue.jsx)(Pe.a,{onClick:this.handleClose,color:"primary",children:"Cancel"})})]})}}]),n}(o.PureComponent),li=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),di=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).renderCollection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.map((function(e){return Object(Ue.jsx)("div",{"data-grid":X(t,e.get("viewId")).toJS(),children:Object(Ue.jsx)(_o,Object(I.a)({id:e.get("refId"),layouts:t,collection:e,altsInCollection:_(e,o.props.alternatives.get("alternatives")),isDraggable:!0,isResizable:!0,layoutForCollection:X(t,e.get("viewId"))},n),e.get("viewId"))},e.get("viewId"))}))},o.onLayoutChange=function(e){o.props.sendMessage(o.refWebSocket,{layout:e,type:T.get("LAYOUT_UPDATE_MESSAGE_TYPE")})},o.sendMessage=function(e){o.props.sendMessage(o.refWebSocket,e)},o.handleKeyEvents=function(e){!e.shiftKey&&e.altKey&&67===e.keyCode&&(console.log("you have pressed ALT+C "),o.props.clearAltsClipboard(),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).toJS().length>0?o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){o.props.clipAlternatives(e.get("viewId"),e.get("refId")),o.props.successMessage(Bt.b.success("alternative cliped"),"alternative cliped "+li)})):o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li));if(e.shiftKey&&e.altKey&&67===e.keyCode)if(console.log("you have pressed SHIFT+ALT+C "),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).toJS().length>0){var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();localStorage.setItem(p.get("ALTS_IN_CLIPBOARD"),JSON.stringify({alternatives:t,projectId:sessionStorage.getItem(p.get("PROJECT_ID"))})),o.props.successMessage(Bt.b.success("Selected alternatives globaly cliped"),"Selected alternatives globaly cliped "+li)}else o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li);e.altKey&&88===e.keyCode&&(console.log("you have pressed ALT+X "),o.props.clearAltsClipboard(),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).length>0?o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){o.props.clipAlternatives(e.get("viewId"),e.get("refId")),o.props.cutAlternativesFromCollection(e.get("viewId"))})):o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li));if(!e.shiftKey&&e.altKey&&8===e.keyCode){console.log("you have pressed ALT+BACKSPACE/DELETE"),o.props.clearAltsClipboard();var n=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")}));n.size>0?o.props.removeAlternativesFromCollection(n):o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li)}e.shiftKey&&e.altKey&&8===e.keyCode&&(console.log("you have pressed SHIFT+ALT+BACKSPACE/DELETE"),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).size>0?o.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected alternative views and their underlying alternative?",confirmAction:o.handleAlternativeDelete}):o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li));if(e.shiftKey&&e.altKey&&67===e.keyCode)if(console.log("you have pressed SHIFT+ALT+C "),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).toJS().length>0){var i=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();localStorage.setItem(p.get("ALTS_IN_CLIPBOARD"),JSON.stringify({alternatives:i,projectId:sessionStorage.getItem(p.get("PROJECT_ID"))})),o.props.successMessage(Bt.b.success("Selected alternatives globaly cliped"),"Selected alternatives globaly cliped "+li)}else o.props.warningMessage(Bt.b.warning("Please select an alternative"),"please select an alternative "+li);if(!e.shiftKey&&e.altKey&&86===e.keyCode){console.log("you have pressed ALT+V");var r=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS(),s=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();o.props.refAlternatives(r,s)}if(e.shiftKey&&e.altKey&&86===e.keyCode){console.log("you have pressed SHIFT+ALT+V");var a=localStorage.getItem(p.get("ALTS_IN_CLIPBOARD"));if(a){var c=(a=JSON.parse(a)).alternatives,l=a.projectId,d=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();o.props.cloneAlternatives(c,d,l)}}if(e.altKey&&66===e.keyCode){console.log("you have pressed ALT+B");var u=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS(),h=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();o.props.cloneAlternatives(u,h)}e.ctrlKey&&67===e.keyCode&&(console.log("you have pressed CTRL+C"),o.props.clearColsClipboard(),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).toJS().length>0?o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(t){try{var n=O(o.props.collections.get("collections"),t.get("viewId")).get("altsid"),i=X(o.props.layouts,t.get("viewId"));o.props.clipCollection(t.get("viewId"),t.get("refId"),n,i),o.props.successMessage(Bt.b.success("collection copied"),"collection copied"+li)}catch(e){console.error(e.message)}})):o.props.warningMessage(Bt.b.warning("Please select a collection"),"please select a collection "+li));e.ctrlKey&&88===e.keyCode&&(console.log("you have pressed CTRL+X"),o.props.clearColsClipboard(),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).size>0?o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(t){try{var n=O(o.props.collections.get("collections"),t.get("viewId")).get("altsid");n.toJS().map((function(e){return o.props.deselectAlternative(e.viewId)}));var i=X(o.props.layouts,t.get("viewId"));o.props.clipCollection(t.get("viewId"),t.get("refId"),n,i),o.props.deselectCollection(t.get("viewId")),o.props.deleteCollections(t.get("viewId"))}catch(e){console.error(e.message)}})):o.props.warningMessage(Bt.b.warning("Please select a collection"),"please select a collection "+li));if(!e.shiftKey&&e.ctrlKey&&8===e.keyCode){console.log("you have pressed CTRL+BACKSPACE/DELETE"),o.props.clearColsClipboard();var g=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")}));g.size>0?g.map((function(e){o.props.deleteCollections(e)})):o.props.warningMessage(Bt.b.warning("Please select a collection"),"please select a collection "+li)}e.shiftKey&&e.ctrlKey&&8===e.keyCode&&(console.log("you have pressed SHIFT+CTRL+BACKSPACE/DELETE"),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).size>0?o.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected collection views and their underlying collection?",confirmAction:o.handleCollectionDelete}):o.props.warningMessage(Bt.b.warning("Please select a collection"),"please select a collection "+li));if(e.ctrlKey&&86===e.keyCode)if(console.log("you have pressed CTRL+V"),o.props.collections.get("clippedCollections").size>0){var f=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.copyWithRefCollection(f.toJS())}else o.props.warningMessage(Bt.b.warning("Please copy a collection first"),"please copy a collection first "+li);if(!e.shiftKey&&e.ctrlKey&&66===e.keyCode)if(console.log("you have pressed CTRL+B"),o.props.collections.get("clippedCollections").size>0){var v=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.cloneCollection(v.toJS())}else o.props.warningMessage(Bt.b.warning("Please copy a collection first"),"please copy a collection first "+li);if(e.shiftKey&&e.ctrlKey&&66===e.keyCode)if(console.log("you have pressed SHIFT+CTRL+B"),o.props.collections.get("clippedCollections").size>0){var m=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.deepCloneCollection(m.toJS())}else o.props.warningMessage(Bt.b.warning("Please copy a collection first"),"please copy a collection first "+li);if(e.shiftKey&&e.ctrlKey&&78===e.keyCode)if(console.log("you have pressed SHIFT+CTRL+N"),o.props.alternatives.get("clippedAlternatives").size>0){var b=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS();o.props.cloneAltInNewCollection(b)}else o.props.warningMessage(Bt.b.warning("Please copy an alternative first"),"please copy an alternative first "+li)},o.handleCollectionDelete=function(e){o.props.clearColsClipboard();var t=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})),n=[];t.map((function(e){return function(e,t){var n=e.find((function(e){return e.get("viewId")===t})),o=n.get("refId");return e.filter((function(e){return e.get("refId")===o})).filter((function(e){return e.get("viewId")!==n.get("viewId")}))}(o.props.collections.get("collections"),e).map((function(e){return n.push(e.get("viewId"))}))})),n.concat(t.toJS()).map((function(e){o.props.deselectCollection(e),o.props.deleteCollections(e)})),o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleAlternativeDelete=function(e){o.props.clearAltsClipboard();var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})),n=[];t.map((function(e){return n.push(e)})),t.map((function(e){return D(o.props.alternatives.get("alternatives"),e.get("viewId")).map((function(e){return n.push(e)}))})),o.props.removeAlternativesFromCollection(n),o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleDoubleClick=function(e){if(!o.props.header.get("headerShow")&&!o.props.settings.get("showSettings")&&!o.props.header.get("showDStarMenu")&&!o.props.header.get("showCollectionList")){var t=E(e.clientX-12,e.clientY-48);o.props.createNewCollection(t.x,t.y)}},o.handleContextMenu=function(e){e.preventDefault(),o.props.showHeader(e.pageX,e.pageY)},o.getRefId=function(e){var t,n=Object(g.a)(e);try{for(n.s();!(t=n.n()).done;){return t.value.get("refId")}}catch(o){n.e(o)}finally{n.f()}},o.hideHeader=function(){var e=o.props.collections.get("collections").filter((function(e){return e.get("isEditingName")}));if(e.size>0){var t=o.getRefId(e);o.props.isEditingCollectionsName(t),o.props.removeFocus()}o.props.header.get("headerShow")&&(o.props.hideHeader(),o.props.hideSinkList())},o.loadOptions=function(e){return o.props.collections.get("collections").filter((function(t){return t.get("viewId")!==e})).map((function(e){return{label:e.get("collectionName"),collectionName:e.get("collectionName")+"-"+e.get("collectionNameView"),value:e.get("viewId"),__isNew__:!1}}))},o.cloneAlternativesFromTaggedCollections=function(e,t){var n,i;(n=o.props.collections.get("collections"),i=e,n.filter((function(e){return!!e.get("tags").contains(i)}))).map((function(e){var n=O(o.props.collections.get("collections"),e.get("viewId")).get("altsid").toJS();o.props.cloneAlternatives(n,[t])}))},o.hoverAlternative=function(e,t){var n=o.props.alternatives.get("alternatives").find((function(t){return t.get("viewId")===e})).get("isSelected");n?(rt.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",ei.a.colorHoveredSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+ei.a.colorHoveredSelected),rt.k(".pc-ref-"+t).style("stroke",ei.a.colorHoveredSelected).style("opacity",1),rt.k(".tableList-ref-"+t).style("background-color",ei.a.colorHoveredSelected)):!n&&o.selectedAlts.includes(t)?(rt.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",ei.a.colorHoveredRelated).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+ei.a.colorHoveredRelated),rt.k(".pc-ref-"+t).style("stroke",ei.a.colorHoveredRelated).style("opacity",1),rt.k(".tableList-ref-"+t).style("background-color",ei.a.colorHoveredRelated)):(rt.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",ei.a.colorHovered).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+ei.a.colorHovered),rt.k(".pc-ref-"+t).style("stroke",ei.a.colorHovered).style("opacity",1),rt.k(".tableList-ref-"+t).style("background-color",ei.a.colorHovered))},o.dehoverAlternative=function(e,t){var n=o.props.alternatives.get("alternatives").find((function(t){return t.get("viewId")===e})).get("isSelected");n||!n&&o.selectedAlts.includes(t)?(rt.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",ei.a.colorSelectedRelated).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+ei.a.colorSelectedRelated),rt.k(".pc-ref-"+t).style("stroke",ei.a.colorSelectedRelated).style("opacity",.7),rt.k(".tableList-ref-"+t).style("background-color",ei.a.colorSelectedRelated),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){rt.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",ei.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+ei.a.colorSelected),rt.j(".pc-view-"+e.get("viewId")).style("stroke",ei.a.colorSelected).style("opacity",1),rt.j(".tableList-view-"+e.get("viewId")).style("background-color",ei.a.colorSelected)}))):n||o.selectedAlts.includes(t)||(rt.k(".alt-ref-"+t).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null),rt.k(".pc-ref-"+t).style("stroke",ei.a.colorUnselected).style("opacity",.3),rt.k(".tableList-ref-"+t).style("background-color","#ffffff"))},o.handleSearch=function(e){for(var t=e.replace(/ /g,"").split(","),n=null,i=!0,r=[],s=function(e){(n=o.props.collections.get("collections").find((function(n){return n.get("collectionName").toLowerCase()===t[e].toLowerCase()})))?o.props.selectCollection(n.get("viewId")):(i=!1,r.push(t[e]),o.props.searchedCollectionFailed())},a=0;a<t.length;a++)s(a);i?(o.props.searchedCollectionSuccess(),o.props.toggleSearch()):o.props.searchedCollectionFailed(r)},o.updateLayoutForCollection=function(e){var t=e.get("i");o.props.updateLayoutForCollection(t)},o.changeMultipleName=function(e){var t=o.props.collections.get("collections").filter((function(t){return t.get("refId")===e.refId}));if(t.size>1){var n,i=Object(g.a)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.get("isEditingName")){var s=document.getElementById(e.viewId);if(r.get("viewId")!==e.viewId){var a=document.getElementById(r.get("viewId"));null!==a&&(a.value=s.value)}}}}catch(c){i.e(c)}finally{i.f()}o.state.isMultipleInputs||o.setState({isMultipleInputs:!0})}},o.checkNameExists=function(e,t){var n,o=0,i=0,r=Object(g.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value,a=s.get("collectionName").substring(0,e.length+1);if(s.get("collectionName")===e)o++;else if(a===e+":"){o++;var c=s.get("collectionName").split(":"),l=parseInt(c[1],10);i<=l&&(i=l)}}}catch(d){r.e(d)}finally{r.f()}return i>o?i+1:o},o.updateMultipleNames=function(e){var t=o.props.collections.get("collections").filter((function(t){return t.get("refId")===e.collection.get("refId")}));if(null!==t&&t.size>1){var n,i=Object(g.a)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;try{var s=r.toJS();s.collectionName=e.name+"-"+s.collectionNameView,o.props.updateCollection(s)}catch(a){console.log(a)}finally{o.props.editNameForCollection(r.get("viewId"),e.name)}}}catch(a){i.e(a)}finally{i.f()}o.setState({isMultipleInputs:!1})}},o.namesExists=function(e,t){return function(e,t,n){var o,i=t.filter((function(e){return e.get("viewId")!==n.get("viewId")&&e.get("refId")!==n.get("refId")})),r=!1,s=Object(g.a)(i);try{for(s.s();!(o=s.n()).done;)o.value.get("collectionName").toLowerCase()===e.toLowerCase()&&(r=!0)}catch(a){s.e(a)}finally{s.f()}return r}(e,o.props.collections.get("collections"),t)},o.showWarningMessage=function(){o.props.warningMessage(Bt.b.warning("Name already exists"),"Name already exists"+li)},o.handleNameExists=function(e,t){return o.props.warningMessage(Bt.b.warning("Collection ".concat(t," already exists")),"Name already exists"+li),function(e,t,n){var o,i=0,r=0,s=e.filter((function(e){return e.get("viewId")!==n.get("viewId")})),a=Object(g.a)(s);try{for(a.s();!(o=a.n()).done;){var c=o.value,l=c.get("collectionName").split(":");if(c.get("collectionName").toLowerCase()===t.toLowerCase())i++;else if(l[0].toLowerCase()===t.toLowerCase()){var d=parseInt(l[1],10);d>r&&(r=d)}}}catch(u){a.e(u)}finally{a.f()}return r>=i?r+1:i}(o.props.collections.get("collections"),t,e)},o.nameHasTheSameValue=function(e){o.props.warningMessage(Bt.b.warning("Collection name did not change"),"collection name did not change"+li),o.props.isEditingCollectionsName(e)},o.updateAspectRatio=function(e){var t=Object(_e.a)(o.props.layouts.get("gridLayout").toJS()).map((function(t){return t.i===e.viewId?(t.w=e.width,t.h=e.height,t.isResizable=e.isResizable,t):t}));o.props.updateMaxColumns(t)},o.updateUnlockAspectRatio=function(e){var t=Object(_e.a)(o.props.layouts.get("gridLayout").toJS()).map((function(t){return t.i===e.viewId?(t.isResizable=e.isResizable,t):t}));o.props.updateMaxColumns(t)},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.state={shouldWarn:!1,confirmAction:null,warningMessage:"",matchNumOfColums:0,scrollX:0,editingNames:!1,editName:"",isMultipleInputs:!1,numberOfAltarnatives:0},o.selectedAlts=[],o.selectedCols=[],o}return Object(me.a)(n,[{key:"render",value:function(){var e=this,t=x(this.props.layouts.get("maxColumns"),T.get("MARGIN"),T.get("CELL_DIM"),T.get("BUFFER")),n={width:window.innerWidth+"px",minWidth:"100%",height:window.innerHeight+"px",minHeight:"100%"};return this.selectedAlts=Object(_e.a)(new Set(this.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("refId")})).toJS())),this.selectedCols=Object(_e.a)(new Set(this.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("refId")})).toJS())),Object(Ue.jsxs)("div",{ref:this.mainRef,onKeyDown:this.handleKeyEvents,onDoubleClick:this.handleDoubleClick,tabIndex:"0",style:n,onContextMenu:this.handleContextMenu,onClick:this.hideHeader,className:ei.a.container,children:[Object(Ue.jsx)(Ko,{deselectAllCollections:this.props.deselectAllCollections,deselectAllAlternatives:this.props.deselectAllAlternatives}),Object(Ue.jsx)(Zo,{}),Object(Ue.jsx)(Ee.a,{className:ei.a.gridLayout,cols:this.props.layouts.get("maxColumns"),rowHeight:60,layout:this.props.layouts.get("gridLayout").toJS(),width:t,isDraggable:!0,isResizable:!0,onLayoutChange:this.onLayoutChange,onResizeStop:ni()(this.props.updateMaxColumns.bind(this.props.layouts.get("gridLayout"))),onDragStop:ni()(this.props.updateMaxColumns.bind(this.props.layouts.get("gridLayout"))),compactType:"none"!==this.props.settings.get("collectionCompactionType")?this.props.settings.get("collectionCompactionType"):null,preventCollision:this.props.settings.get("preventCollision"),draggableHandle:".drag-handle",children:this.renderCollection(this.props.collections.get("collections").filter((function(e){return!1===e.get("isSinked")})),this.props.layouts,{hoverAlternative:this.hoverAlternative,dehoverAlternative:this.dehoverAlternative,sendMessage:this.sendMessage,loadOptions:this.loadOptions,isMultipleInputs:this.state.isMultipleInputs,cloneAlternativesFromTaggedCollections:this.cloneAlternativesFromTaggedCollections,updateLayoutForCollection:this.updateLayoutForCollection,updateAspectRatio:this.updateAspectRatio.bind(this),updateUnlockAspectRatio:this.updateUnlockAspectRatio.bind(this),updateMultipleNames:this.updateMultipleNames.bind(this),createNewCollection:this.props.createNewCollection,deleteCollections:this.props.deleteCollections,selectCollection:this.props.selectCollection,deselectCollection:this.props.deselectCollection,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,deselectAllAlternatives:this.props.deselectAllAlternatives,hoverAlternativeSpecial:this.props.hoverAlternativeSpecial,cloneAlternatives:this.props.cloneAlternatives,toggleSink:this.props.sinkCollection,toggleViewMode:this.props.toggleViewMode,toggleAltView:this.props.toggleAltView,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,editNameForCollection:this.props.editNameForCollection,isEditingCollectionsName:this.props.isEditingCollectionsName,nameExists:this.namesExists.bind(this),handleNameExists:this.handleNameExists.bind(this),restoreAlternative:this.props.restoreAlternative,updateCollection:this.props.updateCollection,saveLayoutObject:this.props.saveLayoutObject,setCollectionDestination:this.props.setCollectionDestination,setCollectionMode:this.props.setCollectionMode,updateCollectionTags:this.props.updateCollectionTags,alternatives:this.props.alternatives,layouts:this.props.layouts,selectedAlts:this.selectedAlts,selectedCols:this.selectedCols,changeMultipleName:this.changeMultipleName.bind(this),nameHasTheSameValue:this.nameHasTheSameValue.bind(this),removeFocus:this.props.removeFocus,shouldRemoveFocus:this.props.collections.get("shouldRemoveFocus"),setSortParams:this.props.setSortParams,updateAlternativeLayoutForCollection:this.props.updateAlternativeLayoutForCollection})}),Object(Ue.jsx)(Ne.a,{url:M.get("websocketURL")+"?projectId="+sessionStorage.getItem(p.get("PROJECT_ID"))+"&userId="+localStorage.getItem(p.get("USER_ID")),onMessage:this.props.onMessageRecieved,onOpen:this.props.openWebSocketConnection,ref:function(t){return e.refWebSocket=t}}),this.props.settings.get("showSettings")?Object(Ue.jsx)(ko,{settings:this.props.settings,toggleSettings:this.props.toggleSettings,setCollisionPrevention:this.props.setCollisionPrevention,setAlternativeSize:this.props.setAlternativeSize,setCompactionType:this.props.setCompactionType,projects:this.props.projects.get("projects"),message:"Please select a project: ",selectProject:this.props.selectProject,createProject:this.props.createProject,user:this.props.user.get("user"),selectedProject:this.props.projects.get("selectedProject")}):null,this.props.search.get("showSearch")?Object(Ue.jsx)(Mo,{search:this.props.search,toggleSearch:this.props.toggleSearch,handleSearch:this.handleSearch,searchedCollectionFailed:this.props.searchedCollectionFailed,searchedCollectionSuccess:this.props.searchedCollectionSuccess,emptyMissMatchArray:this.props.emptyMissMatchArray}):null,this.props.header.get("showDStarMenu")?Object(Ue.jsx)(ri,{showDstarMenu:this.props.header.get("showDStarMenu"),shouldShowDstarMenu:this.props.showDstarMenu,selectedProject:this.props.projects.get("selectedProject"),user:this.props.user.get("user"),history:this.props.history,resetCollectionState:this.props.resetCollectionState}):null,this.props.header.get("showCollectionList")?Object(Ue.jsx)(ci,{showCollectionList:this.props.header.get("showCollectionList"),shouldShowCollectionList:this.props.shouldShowCollectionList,gatherAllCollections:this.props.gatherAllCollections,layouts:this.props.layouts,toggleSearch:this.props.toggleSearch}):null,this.state.shouldWarn?Object(Ue.jsx)(gt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null]})}}]),n}(o.PureComponent),ui=function(e,t,n,o){return function(i,r){var s=r().collections.get("collections"),c=O(s,e.collectionViewId);if(Object(a.b)((function(){i(_n(n)),i(Cn(o))})),c){var l=y(s,c.get("viewId")),d=c.update("altsid",(function(t){return t.push(e._id)})),p=l.push(d);i(mn(p))}else{var h=r().alternatives.get("alternatives").size>0?r().alternatives.get("alternatives").toJS()[0].params:{},g=r().alternatives.get("alternatives").size>0?r().alternatives.get("alternatives").toJS()[0].outputs:{},f=(t=Y(t,Object.keys(h),Object.keys(g))).viewId,v=u.a.fromJS({x:2,y:2,w:3,h:5,i:f,minW:3,minH:5,moved:!1,static:!1});Object(a.b)((function(){i(Pn(v)),i(wn([e._id],t.collectionName,t.refId,t.tags,t.viewId,!1,!1,!1,t.viewType,r().scales.get("keySets"),t.inputs,t.outputs,[],{}))}))}}},pi=function(e){return function(t,n){var o=n().alternatives.get("alternatives").toJS()[0].params,i=n().alternatives.get("alternatives").toJS()[0].outputs;e.forEach((function(e){e.alts.map((function(e){t(xn(K(e,o,i)))})),e.alts.map((function(n){Object(a.b)((function(){t(En(e.collectionId,n.viewId,Object.keys(o),Object.keys(i),e.collection.keySets)),t(In(n.viewId))}))}))}))}},hi=function(e,t){return function(n,o){var i=o().collections.get("collections"),r=o().scales.get("keySets").toJS(),s=o().alternatives.get("alternatives").toJS()[0].params,a=o().alternatives.get("alternatives").toJS()[0].outputs;e.map((function(e){var t,o,c=K(e,s,a),l=S(i,c.collectionName).get("dimOrder").toJS(),d=c.parallelData;r.filter((function(e){return!l.includes(e)})).forEach((function(e){return d=G(d,e)})),c.parallelData=d,n((t=c.viewId,o=c,{type:p.get("UPDATE_ALTERNATIVE"),payload:{viewId:t,alternative:o}})),n(Jn(c.viewId,!1))})),n(_n(t))}},gi=function(e,t){return function(n){Object(a.b)((function(){n(hi(e)),n(ui(e,t))}))}},fi=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),vi=function(){return function(e){return fetch(M.get("layout_fetch")).then((function(e){return e.json()})).then((function(t){var n=t[0].layout;Object(a.b)((function(){e(bn(n)),e(mi()),e(pn(Bt.b.success("Layouts fetched"),"layouts fetched "+fi))}))})).catch((function(t){e(gn(Bt.b.error("Layouts not fetched"),"layouts not fetched "+fi))}))}},mi=function(){return function(e){return fetch(M.get("alternatives_fetch")).then((function(e){return e.json()})).then((function(t){var n=t.alternatives.filter((function(e){return null!==e})).map((function(e){return K(e)}));Object(a.b)((function(){var o;e((o=n,{type:p.get("FETCH_ALTERNATIVES"),payload:o})),e(Cn(t.keySets)),e(_n(t.valueBands)),e(bi()),e(pn(Bt.b.success("Alternatives fetched"),"alternatives fetched "+fi))}))})).catch((function(t){console.log(t),e(gn(Bt.b.error("Alternatives not fetched"),"alternatives not fetched "+fi))}))}},bi=function(){return function(e,t){return fetch(M.get("collections_fetch")).then((function(e){return e.json()})).then((function(n){for(var o,i=t().alternatives.get("alternatives").size>0?Object.keys(t().alternatives.get("alternatives").toJS()[0].params):[],r=t().alternatives.get("alternatives").size>0?Object.keys(t().alternatives.get("alternatives").toJS()[0].outputs):[],s=t().layouts,c=t().alternatives,l=F(c.get("alternatives")),d=(o=l,n.map((function(e){var t=e.altsid.filter((function(e){return-1!==o.findIndex((function(t){return t===e}))}));return e.altsid=t,e}))),p=function(e,t){return e.map((function(e){var n=e[h.get("ID")];if(!t.get("gridLayout").find((function(e){return e.get("i")===n})))return e}))}(d,s),f=0;f<p.length;f++){var v=p[f];if(v){var m=u.a.fromJS({x:2,y:2,w:3,h:5,i:v.viewId,minW:3,minH:5,moved:!1,static:!1});e(Pn(m))}}(function(e){var t,n=!1,o=Object(g.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;("undefined"===typeof i.collectionNameView||null===i.collectionNameView||i.collectionNameView.length<=0)&&(n=!0)}}catch(r){o.e(r)}finally{o.f()}return n})(d)&&function(e){if(null!==e&&e.length>0){for(var t,n={refId:null},o=0,i=e.sort((function(e,t){var n=e.refId.toLowerCase(),o=t.refId.toLowerCase();return n<o?-1:n>o?1:0})),r=0;r<i.length;r++)if(i[r].refId!==n.refId){if(o=1,(t=(n=i[r]).collectionName).includes("-View(")){var s=i[r].collectionName.indexOf("-View(");t=t.slice(0,s)}i[r].collectionNameView="View(".concat(o,")"),i[r].collectionName=t+"-View(".concat(o,")")}else{if(i[r].collectionName.includes("-View(")){var a=i[r].collectionName.indexOf("-View(");t=t.slice(0,a)}o++,i[r].collectionNameView="View(".concat(o,")"),i[r].collectionName=t+"-View(".concat(o,")")}return i}return e}(d).map((function(t){return e(Uo(t))}));var b=d.map((function(e){return Y(e,i,r)}));Object(a.b)((function(){e(mn(b)),e(pn(Bt.b.success("Collections fetched"),"collections fetched "+fi))}))})).catch((function(t){console.log(t),e(gn(Bt.b.error("Collections not fetched"),"collections not fetched "+fi))}))}},ji=function(e,t){return e.filter((function(e){return e.get("id")===t})).size>0},Si=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Oi=function(e){return function(t){t(On()),fetch(M.get("project_select"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then((function(e){return e.json()})).then((function(n){n.success&&(n.currentProject&&n.currentProject.id&&sessionStorage.setItem(p.get("PROJECT_ID"),n.currentProject.id),Object(a.b)((function(){t(yn(e)),t(vi())})))})).catch((function(e){t(gn(Bt.b.error("Project not selected"),"project not fetched "+Si))}))}},yi=function(e,t,n,o){return function(i,r){if(ji(r().projects.get("projects"),e))i(gn(Bt.b.error("Project already exists"),"Project already exists "+Si));else{i(On());var s=new FormData;s.append("name",e),s.append("description",t),s.append("rhinoFile",n),s.append("grasshopperFile",o),fetch(M.get("project_create"),{method:"POST",body:s}).then((function(e){return e.json()})).then((function(t){t.db_loaded&&(t.currentProject&&t.currentProject.id&&sessionStorage.setItem(p.get("PROJECT_ID"),t.currentProject.id),Object(a.b)((function(){i(Gn());var n=function(e,t){return t.filter((function(t){return t.name===e}))}(e,t.projects);i(yn(n[0])),i(jn(t)),i(vi()),i(pn(Bt.b.success("Created project successfully"),"Created project successfully "+Si))})))})).catch((function(e){i(gn(Bt.b.error("Could not create project"),"Could not create project "+Si))}))}}},Ci=function(e){return function(t){return fetch(M.get("delete_project"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){return e.json()})).then((function(n){n&&Object(a.b)((function(){t(function(e){return{type:p.get("DELETE_PROJECT"),payload:e}}(e)),t(pn(Bt.b.success("Deleted project successfully"),"Deleted project successfully "+Si))}))})).catch((function(e){t(gn(Bt.b.error("Could not delete project"),"Could not delete project "+Si))}))}},_i=function(e){return function(t,n){if(t({type:p.get("EDITTING")}),!ji(n().projects.get("projects"),e.id))return fetch(M.get("update_project"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){return e.json()})).then((function(n){n&&Object(a.b)((function(){t(function(e){return{type:p.get("UPDATE_PROJECT"),payload:e}}(e)),t(pn(Bt.b.success("Updated project successfully"),"Updated project successfully "+Si))}))})).catch((function(e){t(gn(Bt.b.error("Could not update project"),"Could not update project "+Si))}));t(gn(Bt.b.error("Project already exists"),"Project already exists "+Si))}},xi=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Ei=function(e,t,n,o){return function(n){fetch(M.get("user_register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.success?e.user&&e.user.id&&(localStorage.setItem(p.get("USER_ID"),e.user.id),Object(a.b)((function(){n(zn(e.user)),o.push("/projects")}))):Object(a.b)((function(){n(Sn()),n(gn(Bt.b.error("Register failed"),e.message+" "+xi))}))})).catch((function(e){console.log(e),Object(a.b)((function(){n(Sn()),n(gn(Bt.b.error("Login failed"),"Login was not successful "+xi))}))}))}},wi=function(e,t,n){return function(o){fetch(M.get("user_login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.success?e.user&&e.user.id&&(localStorage.setItem(p.get("USER_ID"),e.user.id),Object(a.b)((function(){o(zn(e.user)),n.push("/projects")}))):Object(a.b)((function(){o(Sn()),o(gn(Bt.b.error("Login failed"),e.message+" "+xi))}))})).catch((function(e){Object(a.b)((function(){o(Sn()),o(gn(Bt.b.error("Login failed"),"Login was not successfull "+xi))}))}))}},Ni=function(){return function(e){localStorage.removeItem(p.get("USER_ID")),sessionStorage.removeItem(p.get("PROJECT_ID")),e({type:p.get("LOGOUT_USER")})}},Ai=function(){return function(e){fetch(M.get("user_fetch")).then((function(e){return e.json()})).then((function(t){t.success?t.user&&t.user.id&&(localStorage.setItem(p.get("USER_ID"),t.user.id),Object(a.b)((function(){e(zn(t.user))}))):Object(a.b)((function(){e(Sn()),e(gn(Bt.b.error("Login failed"),t.message+" "+xi))}))})).catch((function(t){Object(a.b)((function(){e(Sn()),e(gn(Bt.b.error("Login failed"),"Login was not successfull "+xi))}))}))}},Ii=function(e){return function(t){return fetch(M.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({preventCollision:e})}).then((function(){t(function(e){return{type:p.get("SET_COLLISION_PREVENTION"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},ki=function(e){return function(t){return fetch(M.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionCompactionType:e})}).then((function(){t(function(e){return{type:p.get("SET_COMPACTION_TYPE"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},Ti=function(e){return function(t){return fetch(M.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({alternativeImageSize:e})}).then((function(){t(function(e){return{type:p.get("SET_ALTERNATIVE_SIZE"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},Li=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){var e=this.props.projects.get("projectFetched"),t=this.props.layouts.get("layoutsFetched"),n=this.props.alternatives.get("alternativesFetched"),o=this.props.collections.get("collectionsFetched");return U(e&&t&&n&&o,Object(Ue.jsx)(di,Object(I.a)({},this.props)))}}]),n}(o.Component),Pi=Object(a.c)((function(e){return{alternatives:e.alternatives,collections:e.collections,layouts:e.layouts,projects:e.projects,user:e.user,user_fechted:e.user_fechted,settings:e.settings,search:e.search,header:e.header,websocket:e.websocket}}),(function(e){return{openWebSocketConnection:function(){e({type:p.get("OPEN_WEB_SOCKET_CONNECTION")})},onMessageRecieved:function(t){var n;e((n=t,function(e){var t=JSON.parse(n),o=t.type,i=t.data;switch(o){case"NEW":Object(a.b)((function(){e(xn(K(i.alt,i.alt.params,i.alt.outputs))),e(oo(i.alt.viewId)),e(ui(i.alt,i.collection,i.valueBands,i.keySets)),e(pi(i.refResult))}));break;case"EDIT":e(hi(i.alts,i.valueBands));break;case"NEWALT":e(gi(i.alt,i.collection))}}))},sendMessage:function(t,n){e(function(e,t){return function(){if(e&&1===e.state.ws.readyState){var n=localStorage.getItem(p.get("USER_ID")),o=sessionStorage.getItem(p.get("PROJECT_ID"));t.projectId=o,t.userId=n;var i=JSON.stringify(t);e.sendMessage(i)}}}(t,n))},login:function(t,n){e(wi(t,n))},logout:function(){e(Ni())},register:function(t,n){e(Ei(t,n))},selectProject:function(t){e(Oi(t))},createProject:function(t,n){e(yi(t,n))},updateMaxColumns:function(t){var n;e((n=t,{type:p.get("UPDATE_MAX_COLUMNS"),width:Math.max.apply(Math,Object(_e.a)(n.map((function(e){return e.x+e.w}))))+9,layout:n}))},cutAlternativesFromCollection:function(t){e(Xn(t))},refAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e($n(t,n))},cloneAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;e(eo(t,n,o))},cloneEditAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(to(t,n))},deleteCollections:function(t){e(Vo(t))},selectCollection:function(t){e(function(e){return{type:p.get("SELECT_COLLECTION"),payload:{viewId:e}}}(t))},deselectCollection:function(t){e(Nn(t))},clipCollection:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e(An(t,n,o,i))},selectAlternative:function(t){e(In(t))},deselectAlternative:function(t){e(Ln(t))},hoverAlternative:function(t){e(kn(t))},hoverAlternativeSpecial:function(t){e(oo(t))},dehoverAlternative:function(t){e(function(e){return{type:p.get("DEHOVER_ALTERNATIVE"),payload:{viewId:e}}}(t))},clipAlternatives:function(t,n,o){e(function(e,t){return{type:p.get("CLIP_ALTERNATIVE"),payload:{viewId:e,refId:t}}}(t,n))},updateCollectionLayout:function(t){e(bn(t))},saveLayoutObject:function(t){var n;e((n=t,{type:p.get("SAVE_LAYOUT"),payload:n}))},createNewCollection:function(t,n,o,i,r,s){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"col",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,g=arguments.length>12?arguments[12]:void 0,f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:[],v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],b=arguments.length>16&&void 0!==arguments[16]?arguments[16]:{},j=arguments.length>17&&void 0!==arguments[17]&&arguments[17],S=arguments.length>18&&void 0!==arguments[18]?arguments[18]:"View(1)",y=arguments.length>19&&void 0!==arguments[19]?arguments[19]:[],C=arguments.length>20&&void 0!==arguments[20]?arguments[20]:[];return function(_,x){return fetch(M.get("collections"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(i){s=i[0].viewId,c=i[0].refId,h=i[0].viewType,p=i[0].tags,g=x().scales.get("keySets"),S=i[0].collectionNameView,r=r&&"col"!==r?r+"-"+S:i[0].collectionName+"-"+S;var O=u.a.fromJS({x:e,y:t,w:n,h:o,i:s,minW:3,minH:5,moved:!1,static:!1});return Object(a.b)((function(){_(Pn(O)),_(wn(i[0].altsid,r,c,p,s,l,d,h,g,f,v,m,b,j,S,y,C))})),s})).then((function(e){null!==i&&void 0!==i&&i.length>0&&_(eo(i,[e])),null!==r&&void 0!==r&&r.length>0&&Object(a.b)((function(){var t=r;t=w(t),_(Uo(O(x().collections.get("collections"),e).toJS())),_(Mn(e,t))}))})).catch((function(e){_(gn(Bt.b.error("Collection is not created"),"collection is not created"+Wo))}))}}(t,n,o,i,r,s))},copyWithRefCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return function(l,d){var p=Bt.b.info("Copying Collection With Ref",{toastId:"CopyWithRef",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,rtl:!0,position:"bottom-center",progress:.8});return fetch(M.get("collectionCopyWithRef"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(h){Bt.b.update(p,{progress:.5});for(var g=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].params:{},f=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].outputs:{},v=0;v<h.alternatives.length;v++)l(xn(K(h.alternatives[v],g,f)));for(var m=h.collections.map((function(e){return Y(e,Object.keys(g),Object.keys(f))})),b=function(g){var f=m[g],v=f.collectionName,b=f.viewId,j=f.refId,S=f.collectionNameView;i=f.viewType,o=f.tags;var y=f.altsid,C=f.inputs,_=f.outputs,x=O(d().collections.get("collections"),e[g].viewId).get("dimOrder"),E=h.collections[g].layout,w=u.a.fromJS({x:E.x+E.w,y:E.y,w:E.w,h:E.h,i:b,minW:3,minH:5,moved:!1,static:!1});Object(a.b)((function(){Bt.b.update(p,{progress:.2}),l(Pn(w)),l(wn(y,v,j,o,b,t,n,i,x,C,_,[],{},r,S,s,c)),l(Pn(w)),Bt.b.isActive(p)&&Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(pn(Bt.b.success("Collection copied"),"collection copied"+Wo))}))},j=0;j<m.length;j++)b(j)})).catch((function(e){Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(gn(Bt.b.error("collection is not copied"),"collection is not copied"+Wo))}))}}(t))},cloneAltInNewCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"col",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10],p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,g=arguments.length>13?arguments[13]:void 0,f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],m=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[],b=arguments.length>17&&void 0!==arguments[17]?arguments[17]:{},j=arguments.length>18&&void 0!==arguments[18]&&arguments[18],S=arguments.length>19&&void 0!==arguments[19]?arguments[19]:"View(1)",y=arguments.length>20&&void 0!==arguments[20]?arguments[20]:[],C=arguments.length>21&&void 0!==arguments[21]?arguments[21]:[];return function(_,x){if(e.length>0){var E=Bt.b.info("Clone Alternative In a New Collection",{toastId:"cloneAltInNewCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,rtl:!0,position:"bottom-center",progress:.8});return fetch(M.get("cloneAltInNewCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({altsid:e})}).then((function(e){return e.json()})).then((function(e){var O=e.collections;s=O[0].viewId,c=O[0].refId,h=O[0].viewType,p=O[0].tags,g=x().scales.get("keySets"),S=O[0].collectionNameView,r=r&&"col"!==r?r+"-"+S:O[0].collectionName+"-"+S;var E=u.a.fromJS({x:t,y:n,w:o,h:i,i:s,minW:3,minH:5,moved:!1,static:!1});return Object(a.b)((function(){_(Pn(E)),_(wn(O[0].altsid,r,c,p,s,l,d,h,g,f,v,m,b,j,S,y,C))})),e})).then((function(e){return Bt.b.update(E,{progress:.5}),e.alternatives.forEach((function(e){var t=x().alternatives.get("alternatives").toJS()[0].params,n=x().alternatives.get("alternatives").toJS()[0].outputs,o=Y(e.collection,Object.keys(t),Object.keys(n));Object(a.b)((function(){e.alts.map((function(e){_(xn(K(e,t,n)))}))})),e.alts.map((function(t,n){Object(a.b)((function(){_(En(e.collectionId,t.viewId,o.inputs,o.outputs,o.dimOrder))}))}))})),e})).then((function(e){return null!==r&&void 0!==r&&r.length>0&&Object(a.b)((function(){var e=r;e=w(e),_(Uo(O(x().collections.get("collections"),s).toJS())),_(Mn(s,e))})),e.refs})).then((function(e){for(var r=x().alternatives.get("alternatives").size>0?x().alternatives.get("alternatives").toJS()[0].params:{},s=x().alternatives.get("alternatives").size>0?x().alternatives.get("alternatives").toJS()[0].outputs:{},c=0;c<e.alternatives.length;c++)_(xn(K(e.alternatives[c],r,s)));var f=e.collections.map((function(e){return Y(e,Object.keys(r),Object.keys(s))}));Object(a.b)((function(){for(var e=0;e<f.length;e++){var r=f[e],s=r.collectionName,a=r.viewId,c=r.refId,v=r.collectionNameView;h=r.viewType,p=r.tags;var S=r.altsid,O=r.inputs,C=r.outputs,x=u.a.fromJS({x:t,y:n,w:o,h:i,i:a,minW:3,minH:5,moved:!1,static:!1});_(Pn(x)),_(wn(S,s,c,p,a,l,d,h,g,O,C,m=[],b={},j,v,y)),_(Pn(x))}Bt.b.update(E,{progress:0,closeOnClick:!0,autoClose:1}),_(pn(Bt.b.success("Alternative(s) cloned in the new collection"),"alternative(s) cloned in the new collection "+Wo))}))})).catch((function(e){console.log(e),Bt.b.update(E,{progress:0,closeOnClick:!0,autoClose:1}),_(gn(Bt.b.success("Alternative(s) not cloned in the new collection"),"alternative(s) not cloned in the new collection "+Wo))}))}_(hn(Bt.b.warning("Please select an alternative"),"please select an alternative"+Wo))}}(t))},cloneCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return function(l,d){var p=Bt.b.info("Cloning Collection",{toastId:"cloningCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(M.get("collectionClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(h){Bt.b.update(p,{progress:.5});for(var g=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].params:{},f=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].outputs:{},v=0;v<h.alternatives.length;v++)l(xn(K(h.alternatives[v],g,f)));Bt.b.update(p,{progress:.2});for(var m=h.collections.map((function(e){return Y(e,Object.keys(g),Object.keys(f))})),b=function(g){var f=m[g],v=f.collectionName,b=f.collectionNameView,j=f.viewId,S=f.refId;i=f.viewType,o=f.tags;var y=f.altsid,C=f.inputs,_=f.outputs,x=O(d().collections.get("collections"),e[g].viewId).get("dimOrder"),E=h.collections[g].layout,w=u.a.fromJS({x:E.x+E.w,y:E.y,w:E.w,h:E.h,i:j,minW:3,minH:5,moved:!1,static:!1});Object(a.b)((function(){l(Pn(w)),l(wn(y,v,S,o,j,t,n,i,x,C,_,[],{},r,b,s,c)),Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(pn(Bt.b.success("Collection cloned"),"collection cloned"+Wo))}))},j=0;j<m.length;j++)b(j)})).catch((function(e){Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(gn(Bt.b.error("Collection is not cloned"),"collection is not cloned"+Wo))}))}}(t))},deepCloneCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return function(l,d){var p=Bt.b.info("Deep Cloning Collection",{toastId:"DeepCloningCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(M.get("collectionDeepClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(h){Bt.b.update(p,{progress:.5});for(var g=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].params:{},f=d().alternatives.get("alternatives").size>0?d().alternatives.get("alternatives").toJS()[0].outputs:{},v=0;v<h.alternatives.length;v++)l(xn(K(h.alternatives[v],g,f)));for(var m=h.collections.map((function(e){return Y(e,Object.keys(g),Object.keys(f))})),b=function(g){var f=m[g],v=f.collectionName,b=f.collectionNameView,j=f.viewId,S=f.refId;i=f.viewType,o=f.tags;var y=f.altsid,C=f.inputs,_=f.outputs,x=O(d().collections.get("collections"),e[g].viewId).get("dimOrder"),E=h.collections[g].layout,w=u.a.fromJS({x:E.x+E.w,y:E.y,w:E.w,h:E.h,i:j,minW:3,minH:5,moved:!1,static:!1});Object(a.b)((function(){l(Pn(w)),l(wn(y,v,S,o,j,t,n,i,x,C,_,[],{},r,b,s,c)),Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(pn(Bt.b.success("Collection cloned"),"collection cloned"+Wo))}))},j=0;j<m.length;j++)b(j)})).catch((function(e){Bt.b.update(p,{progress:0,closeOnClick:!0,autoClose:1}),l(gn(Bt.b.error("Collection is not cloned"),"collection is not cloned"+Wo))}))}}(t))},clearAltsClipboard:function(){var t;e({type:p.get("CLEAR_ALTS_CLIPBOARD"),payload:t})},clearColsClipboard:function(){var t;e({type:p.get("CLEAR_COLS_CLIPBOARD"),payload:t})},editNameForCollection:function(t,n){e(Mn(t,n))},isEditingCollectionsName:function(t){e(function(e){return{type:p.get("HANDLE_EDIT_NAME_START"),payload:e}}(t))},removeFocus:function(){e({type:p.get("REMOVE_FOCUS")})},editCollectionName:function(t){e(function(e){return{type:p.get("EDIT_COLLECTION_NAME"),payload:{name:e}}}(t))},showHeader:function(t,n){e(function(e,t){return{type:p.get("SHOW_HEADER"),headerX:e,headerY:t}}(t,n))},hideHeader:function(){e(Rn())},sinkCollection:function(t){e(function(e){return function(t){return fetch(M.get("sinkCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionId:e})}).then((function(){Object(a.b)((function(){t(Bn(e)),t(pn(Bt.b.success("Collection sinked"),"collection sinked "+Wo))}))})).catch((function(e){console.log(e),t(gn(Bt.b.error("Collection not sinked"),"collection not sinked "+Wo))}))}}(t))},hideSinkList:function(){e(Dn())},deselectAllAlternatives:function(){e({type:p.get("DESELECT_ALL_ALTERNATIVES")})},deselectAllCollections:function(){var t;e({type:p.get("DESELECT_ALL_COLLECTIONS"),payload:t})},toggleViewMode:function(t,n){e(function(e,t){return{type:p.get("TOGGLE_VIEW_MODE"),payload:{collectionId:e,viewType:t}}}(t,n))},toggleAltView:function(t){e(function(e){return{type:p.get("TOGGLE_ALT_VIEW"),payload:e}}(t))},alterAlternative:function(t,n,o){e(Hn(t,n,o))},editAlternatives:function(t){e(no(t))},restoreAlternative:function(t){e(function(e){return function(){return fetch(M.get("alternativeRestore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({viewId:e})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(t))},updateCollection:function(t){e(Uo(t))},removeAlternativesFromCollection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(Zn(t))},setAlternativeSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(Ti(t))},setCompactionType:function(t){e(ki(t))},setCollisionPrevention:function(t){e(Ii(t))},toggleSettings:function(){e(Wn())},toggleSearch:function(){e(Vn())},searchedCollectionSuccess:function(){e({type:p.get("SEARCHED_COLLECTION")})},searchedCollectionFailed:function(t){e(function(e){return{type:p.get("SEARCH_COLLECTION_FALID"),payload:e}}(t))},emptyMissMatchArray:function(){e({type:p.get("EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH")})},setCollectionDestination:function(t,n){e(Un(t,n))},setCollectionMode:function(t,n){e(function(e,t){return{type:p.get("SET_COLLECTION_MODE"),payload:{collection:e,mode:t}}}(t,n))},updateCollectionTags:function(t,n){e(function(e,t){return{type:p.get("UPDATE_COLLECTION_TAGS"),payload:{collectionId:e,tags:t}}}(t,n))},updateLayoutForCollection:function(t){var n;e((n=t,{type:p.get("UPDATE_LAYOUTS"),payload:n}))},successMessage:function(t,n){e(pn(t,n))},warningMessage:function(t,n){e(hn(t,n))},errorMessage:function(t,n){e(gn(t,n))},showDstarMenu:function(){e(Yn())},shouldShowCollectionList:function(){e(Qn())},resetCollectionState:function(){e(Kn())},gatherAllCollections:function(){e(Fn())},setSortParams:function(t,n){e(function(e,t){return{type:p.get("SET_SORT_PARAMS"),payload:{collection:e,sortParams:t}}}(t,n))},updateAlternativeLayoutForCollection:function(t,n){e(function(e,t){return{type:p.get("GET_COLLECTION_ALTERNATIVES_LAYOUT"),payload:{collection:e,layouts:t}}}(t,n))}}}))(Li),Mi=(n(649),n(650),function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(p.get("USER_ID")),t=sessionStorage.getItem(p.get("PROJECT_ID")),n=this.props.projects.get("projectFetched");e&&t&&!n&&this.props.fetchProject()}},{key:"render",value:function(){return Object(Ue.jsx)("div",{className:Ce.a.App,children:Object(Ue.jsx)("div",{className:Ce.a.canvas,children:Object(Ue.jsx)("div",{className:Ce.a.container,children:Object(Ue.jsx)(Pi,{history:this.props.history})})})})}}]),n}(o.PureComponent)),Ri=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)(Mi,Object(I.a)(Object(I.a)({},this.props),{},{styles:null}))}}]),n}(o.Component),Di=Object(a.c)((function(e){return e}),(function(e){return{fetchAlternatives:function(){e(mi())},fetchCollections:function(){e(bi())},fetchLayout:function(){e(vi())},fetchProject:function(){e((function(e){fetch(M.get("project_fetch")).then((function(e){return e.json()})).then((function(t){if(t.db_loaded){var n=sessionStorage.getItem(p.get("PROJECT_ID")),o=t.projects.findIndex((function(e){return e.id===n}));Object(a.b)((function(){e(jn(t)),o>-1&&e(yn(t.projects[o])),e(vi())}))}else e(jn(t))})).catch((function(t){e(gn(Bt.b.error("Projects not fetched"),"Projects not fetched "+fi))}))}))}}}))(Ri),Bi=n(86),Hi=n.n(Bi),Ji=n.p+"static/media/empty.34b6f05a.png",Fi=n(90),Wi=n.n(Fi),Vi=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:Wi.a.ImageContainer,children:[this.props.images.size>=3?Object(Ue.jsxs)("div",{className:Wi.a.imagesContainer,children:[Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(0),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(1),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(2),className:Wi.a.imageStyle,alt:"alternative image"})]}):null,2===this.props.images.size?Object(Ue.jsxs)("div",{className:Wi.a.imagesContainer,children:[Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(0),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(1),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(1),className:Wi.a.imageStyle,alt:"alternative image"})]}):null,1===this.props.images.size?Object(Ue.jsxs)("div",{className:Wi.a.imagesContainer,children:[Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(0),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(0),className:Wi.a.imageStyle,alt:"alternative image"}),Object(Ue.jsx)("img",{src:M.get("getHost")+this.props.images.get(0),className:Wi.a.imageStyle,alt:"alternative image"})]}):null]})}}]),n}(o.PureComponent),Ui=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleSelectedProject=function(t){t.preventDefault(),t.stopPropagation(),e.props.selectProject(e.props.project.toJS()),e.props.history.push("./project")},e.handleDelete=function(t){t.preventDefault(),t.stopPropagation(),e.props.deleteProject(e.props.project.get("id"))},e.handleEdit=function(t){t.preventDefault(),t.stopPropagation(),e.props.openEditProject(e.props.project)},e.onRightClick=function(t){t.preventDefault(),t.stopPropagation(),e.props.showProjectContextMenu(t.pageX+"px",t.pageY+"px",e.props.project)},e.handelShowProjectInformation=function(t){t.preventDefault(),t.stopPropagation(),e.props.showProjectContextMenu(t.pageX+"px",t.pageY+"px",e.props.project)},e}return Object(me.a)(n,[{key:"render",value:function(){var e=this.props.userName?this.props.userName:"No Name";return Object(Ue.jsxs)("div",{className:Hi.a.projectContainer,onClick:this.handleSelectedProject,onContextMenu:this.onRightClick,children:[Object(Ue.jsx)("div",{className:Hi.a.imageContainer,children:void 0!==this.props.project.get("images")&&this.props.project.get("images").size>0?Object(Ue.jsx)(Vi,{images:this.props.project.get("images")}):Object(Ue.jsx)("img",{src:Ji,className:Hi.a.imageStyle})}),Object(Ue.jsxs)("div",{className:Hi.a.textContainer,children:[Object(Ue.jsxs)("div",{className:Hi.a.titleContainer,children:[Object(Ue.jsx)("h3",{className:Hi.a.title,children:this.props.name}),void 0!==this.props.project.get("numberOfAlternatives")?Object(Ue.jsx)("div",{className:Hi.a.numberOfAlts,children:this.props.project.get("numberOfAlternatives")}):Object(Ue.jsx)("div",{className:Hi.a.numberOfAlts,children:this.props.project.get("altNum")})]}),Object(Ue.jsxs)("div",{className:Hi.a.descriptionContainer,children:[Object(Ue.jsx)("p",{className:Hi.a.description,children:this.props.project.get("description")}),Object(Ue.jsxs)("div",{className:Hi.a.userContainer,children:[Object(Ue.jsx)(ke.o,{className:Hi.a["icon-style"],onClick:this.handelShowProjectInformation}),Object(Ue.jsx)("div",{className:Hi.a.circle,children:Object(Ue.jsx)("p",{className:Hi.a.initials,children:e.charAt(0).toUpperCase()})})]})]})]})]})}}]),n}(o.PureComponent),Gi=n(59),zi=n.n(Gi),Ki=n(458),Yi=n(138),Qi=n.n(Yi),qi=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleOpenProject=function(t){t.preventDefault(),e.props.shouldCloseProjectContextMenu(),e.props.selectProject(e.props.project.toJS()),e.props.history.push("/project")},e.handleEditProject=function(t){t.preventDefault(),e.props.openEditProject(e.props.project)},e.handleDeleteProject=function(t){t.preventDefault(),e.props.handleDeleteProject(e.props.project.get("id"))},e}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:Qi.a.contextMenuContainer,style:{top:this.props.yPos,left:this.props.xPos},children:[Object(Ue.jsx)("div",{onClick:this.handleOpenProject,className:Qi.a.openContainer,children:Object(Ue.jsx)("p",{className:Qi.a.listItemText,children:"Open"})}),Object(Ue.jsx)("div",{onClick:this.handleEditProject,className:Qi.a.editContainer,children:Object(Ue.jsx)("p",{className:Qi.a.listItemText,children:"Edit"})}),Object(Ue.jsx)("div",{onClick:this.handleDeleteProject,className:Qi.a.deleteContainer,children:Object(Ue.jsx)("p",{className:Qi.a.listItemText,children:"Delete"})})]})}}]),n}(o.PureComponent),Xi=n(325),Zi=n.n(Xi),$i=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleCreate=function(){""!==o.newProjectName&&o.rhinoSelectedFile&&o.grasshopperSelectedFile&&(o.props.createProject(o.newProjectName,o.newProjectDescription,o.rhinoSelectedFile,o.grasshopperSelectedFile),o.props.history.push("/project"))},o.handleCancel=function(){o.props.isCreatingProject()},o.onProjectNameChange=function(e){o.newProjectName=e.target.value},o.onProjectDescriptionChange=function(e){o.newProjectDescription=e.target.value},o.rhinoFileChangeHandler=function(e){o.rhinoSelectedFile=e.target.files[0]},o.grasshopperFileChangeHandler=function(e){o.grasshopperSelectedFile=e.target.files[0]},o.state={open:!0},o.rhinoSelectedFile=null,o.grasshopperSelectedFile=null,o.newProjectName="",o.newProjectDescription="",o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)(lt.a,{open:this.props.isCreating,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ue.jsx)(ht.a,{id:"alert-dialog-title",style:{color:"black"},children:"Projects"}),Object(Ue.jsxs)(ut.a,{children:[Object(Ue.jsx)(pt.a,{id:"alert-dialog-description",style:{color:"black"},children:"Enter a name and description for the new project."}),Object(Ue.jsx)(Po.a,{autoFocus:!0,margin:"dense",id:"project-name",label:"project name",onChange:this.onProjectNameChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),Object(Ue.jsx)(Po.a,{autoFocus:!0,margin:"dense",id:"project-description",label:"project description",onChange:this.onProjectDescriptionChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),Object(Ue.jsxs)("div",{className:Zi.a["file-input"],children:[Object(Ue.jsx)("label",{htmlFor:"rhino-file-input",children:"Rhino File: "}),Object(Ue.jsx)("input",{id:"rhino-file-input",type:"file",name:"rhino-file",accept:".3dm",onChange:this.rhinoFileChangeHandler})]}),Object(Ue.jsxs)("div",{className:Zi.a["file-input"],children:[Object(Ue.jsx)("label",{htmlFor:"grasshopper-file-input",children:"Grasshopper File: "}),Object(Ue.jsx)("input",{id:"grasshopper-file-input",type:"file",name:"grasshopper-file",accept:".ghx",onChange:this.grasshopperFileChangeHandler})]}),Object(Ue.jsxs)(dt.a,{children:[Object(Ue.jsx)(Pe.a,{onClick:this.handleCancel,color:"primary",children:"Cancel"}),Object(Ue.jsx)(Pe.a,{onClick:this.handleCreate,color:"primary",autoFocus:!0,children:"create"})]})]})]})})}}]),n}(o.PureComponent),er=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).handleUpdate=function(){if(""!==o.state.newProjectName){var e={projectName:o.state.newProjectName,projectDescription:o.state.newProjectDescription,projectId:o.props.project.get("id")};o.props.editProject(e)}},o.handleCancel=function(){o.props.openEditProject(null)},o.onProjectNameChange=function(e){o.setState({newProjectName:e.target.value})},o.onProjectDescriptionChange=function(e){o.setState({newProjectDescription:e.target.value})},o.state={open:!0},o.selectedProject={},o.newProjectName="",o.newProjectDescription="",o}return Object(me.a)(n,[{key:"componentDidMount",value:function(){this.setState({newProjectName:this.props.project.get("name"),newProjectDescription:this.props.project.get("description")})}},{key:"render",value:function(){return Object(Ue.jsx)("div",{children:Object(Ue.jsxs)(lt.a,{open:this.props.isCreating,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ue.jsx)(ht.a,{id:"alert-dialog-title",style:{color:"black"},children:"Projects"}),Object(Ue.jsxs)(ut.a,{children:[Object(Ue.jsx)(pt.a,{id:"alert-dialog-description",style:{color:"black"},children:"Enter a name and description for the new project."}),Object(Ue.jsx)(Po.a,{autoFocus:!0,margin:"dense",id:"project-name",label:"project name",value:this.state.newProjectName,onChange:this.onProjectNameChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),Object(Ue.jsx)(Po.a,{autoFocus:!0,margin:"dense",id:"project-description",label:"project description",onChange:this.onProjectDescriptionChange,value:this.state.newProjectDescription,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),Object(Ue.jsxs)(dt.a,{children:[Object(Ue.jsx)(Pe.a,{onClick:this.handleCancel,color:"primary",children:"Cancel"}),Object(Ue.jsx)(Pe.a,{onClick:this.handleUpdate,color:"primary",autoFocus:!0,children:"Update"})]})]})]})})}}]),n}(o.PureComponent),tr=n(457),nr=n.n(tr),or=function(){return Object(Ue.jsx)("div",{className:nr.a.loader,children:"Loading..."})},ir=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).componentDidUpdate=function(e,t,n){e.auth.get("userLoggedIn")&&!o.props.auth.get("userLoggedIn")&&o.props.history.push("/")},o.handelLogout=function(){o.props.logout()},o.showProjectContextMenu=function(e,t,n){o.props.showProjectMenu(e,t,n)},o.renderProjects=function(e){return e.map((function(e){return Object(Ue.jsx)(Ui,{project:e,name:e.get("name"),selectProject:o.props.selectProject,deleteProject:o.handleDeleteProject.bind(Object(it.a)(o)),openEditProject:o.handelOpenEditProject.bind(Object(it.a)(o)),history:o.props.history,showProjectContextMenu:o.showProjectContextMenu,userName:o.props.auth.get("user").get("username")},e.get("id"))}))},o.handleCreateProject=function(){o.props.isCreatingProject()},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleClick=function(e){"file"!=e.target.type&&e.preventDefault(),o.props.projects.get("showProjectContextMenu")&&o.props.shouldCloseProjectContextMenu()},o.handleHomeClick=function(e){e.preventDefault(),o.props.history.push("/")},o.handleAboutClick=function(e){e.preventDefault(),window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","docs")},o.state={shouldWarn:!1,confirmAction:null,warningMessage:""},o}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.getUserProjects();var t=this.props.history;t.listen((function(n,o){"POP"===o&&"/project"===n.pathname?t.push("/projects"):"POP"===o&&"/login"===n.pathname?e.props.history.push("/"):"POP"===o&&"/projects"===e.props.history.location.pathname&&e.props.resetCollectionState()}))}},{key:"handelOpenEditProject",value:function(e){this.props.openEditProject(e)}},{key:"deleteProject",value:function(e){this.props.deleteProject(e),this.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})}},{key:"handleDeleteProject",value:function(e){this.props.shouldCloseProjectContextMenu(),this.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected project views and their underlying alternative?",confirmAction:this.deleteProject.bind(this,e)})}},{key:"render",value:function(){var e=this.props.auth.get("user")&&this.props.auth.get("user").get("username")?this.props.auth.get("user").get("username"):"No Name";return Object(Ue.jsx)("div",{children:this.props.projects.get("projectFetched")&&this.props.auth.get("userFetched")&&"undefined"!=typeof this.props.auth.get("user").get("username")?Object(Ue.jsxs)("div",{className:zi.a.mainsContainer,onClick:this.handleClick,children:[Object(Ue.jsx)(Zo,{}),Object(Ue.jsx)("div",{className:zi.a.controlsContainer,children:Object(Ue.jsxs)("div",{className:zi.a.controlsContent,children:[Object(Ue.jsxs)("div",{className:zi.a.homeContainer,children:[Object(Ue.jsx)("div",{className:zi.a.circle,children:Object(Ue.jsx)("p",{className:zi.a.initials,children:e.charAt(0).toUpperCase()})}),Object(Ue.jsx)("p",{className:zi.a.userName,children:e})]}),Object(Ue.jsxs)("div",{className:zi.a.homeContainer,onClick:this.handleHomeClick,children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"2.2em"},children:Object(Ue.jsx)(ke.j,{style:{marginLeft:10}})}),Object(Ue.jsx)("p",{className:zi.a.homeText,children:"Home "})]}),Object(Ue.jsxs)("div",{className:zi.a.homeContainer,onClick:this.handleAboutClick,children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"2.2em"},children:Object(Ue.jsx)(ke.f,{style:{marginLeft:10}})}),Object(Ue.jsx)("p",{className:zi.a.homeText,children:"About Us "})]}),Object(Ue.jsxs)("div",{className:zi.a.homeContainer,onClick:this.handleCreateProject,children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"2.2em"},children:Object(Ue.jsx)(ke.p,{style:{marginLeft:10}})}),Object(Ue.jsx)("p",{className:zi.a.addProjectText,children:"Add Project"})]}),Object(Ue.jsxs)("div",{className:zi.a.homeContainer,onClick:this.handelLogout,children:[Object(Ue.jsx)(Re.b.Provider,{value:{size:"2.2em"},children:Object(Ue.jsx)(Ki.a,{style:{marginLeft:10}})}),Object(Ue.jsx)("p",{className:zi.a.logoutText,children:"logout"})]})]})}),Object(Ue.jsx)("div",{className:zi.a.projectsContainer,children:Object(Ue.jsxs)("div",{className:zi.a.projectsRow,children:[this.renderProjects(this.props.projects.get("projects")),this.props.projects.get("isCreating")?Object(Ue.jsx)($i,{isCreatingProject:this.props.isCreatingProject,isCreating:this.props.projects.get("isCreating"),createProject:this.props.createProject,history:this.props.history}):null,this.props.projects.get("showEditBox")?Object(Ue.jsx)(er,{isCreatingProject:this.props.isCreatingProject,isCreating:this.props.projects.get("showEditBox"),project:this.props.projects.get("editProject"),editProject:this.props.editProject,openEditProject:this.props.openEditProject,history:this.props.history}):null,this.props.projects.get("showProjectContextMenu")?Object(Ue.jsx)(qi,{xPos:this.props.projects.get("contextMenuPosX"),yPos:this.props.projects.get("contextMenuPosY"),project:this.props.projects.get("contextMenuSelectedProject"),handleDeleteProject:this.handleDeleteProject.bind(this),openEditProject:this.props.openEditProject,history:this.props.history,shouldCloseProjectContextMenu:this.props.shouldCloseProjectContextMenu,selectProject:this.props.selectProject}):null]})}),this.state.shouldWarn?Object(Ue.jsx)(gt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null]}):Object(Ue.jsx)(or,{})})}}]),n}(o.PureComponent),rr=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return Object(Ue.jsx)("div",{children:Object(Ue.jsx)(ir,Object(I.a)({},this.props))})}}]),n}(o.Component),sr=Object(a.c)((function(e){return{projects:e.projects,auth:e.auth}}),(function(e){return{selectProject:function(t){e(Oi(t))},createProject:function(t,n,o,i){e(yi(t,n,o,i))},isCreatingProject:function(){e(Gn())},logout:function(){e(Ni())},getUserProjects:function(){e((function(e){fetch(M.get("project_fetch")).then((function(e){return console.log(e),e.json()})).then((function(t){t.db_loaded?Object(a.b)((function(){e(jn(t))})):e(jn(t))})).catch((function(t){e(gn(Bt.b.error("Layouts not fetched"),"layouts not fetched "+fi))}))}))},fetchUser:function(){e(Ai())},deleteProject:function(t){e(Ci(t))},openEditProject:function(t){e(function(e){return{type:p.get("PROJECT_EDIT_BOX"),payload:e}}(t))},editProject:function(t){e(_i(t))},showProjectMenu:function(t,n,o){e(function(e,t,n){return{type:p.get("SHOW_PROJECT_CONTEXT_MENU"),payload:{xPos:e,yPos:t,project:n}}}(t,n,o))},shouldCloseProjectContextMenu:function(){e({type:p.get("HIDE_PROJECT_CONTEXT_MENU")})},resetCollectionState:function(){e(Kn())}}}))(rr),ar=n(7),cr=n(177),lr=n.n(cr),dr=n(279),ur=n.n(dr),pr=n(326),hr=n.n(pr),gr=function(e){return Object(Ue.jsx)("li",{className:hr.a.navigationItem,children:Object(Ue.jsx)(Oe.b,{to:e.link,exact:e.exact,activeClassName:hr.a.active,children:e.children})})},fr=function(e){return Object(Ue.jsxs)("ul",{className:ur.a.navigationItems,children:[Object(Ue.jsx)(gr,{link:"/",exact:!0,children:"Home"}),e.isLoggedIn?Object(Ue.jsx)(gr,{link:"/projects",children:"Projects"}):null,e.isLoggedIn?null:Object(Ue.jsx)(gr,{link:"/signup",children:"Join Us"}),e.isLoggedIn?null:Object(Ue.jsx)(gr,{link:"/login",children:"Login"}),e.user?Object(Ue.jsx)("li",{className:ur.a.name,children:e.user}):null,e.isLoggedIn?Object(Ue.jsx)("li",{className:ur.a.logoutItem,onClick:e.logoutClicked,children:"logout"}):null]})},vr=n.p+"static/media/DStaWhite.204bed7a.png",mr=function(e){return Object(Ue.jsxs)("header",{className:lr.a.navigation,children:[Object(Ue.jsx)("div",{className:lr.a.logo,onClick:e.clicked,children:Object(Ue.jsx)("div",{className:lr.a.logoContainer,children:Object(Ue.jsx)("img",{src:vr,alt:"DStar logo",className:lr.a.logoStyle})})}),Object(Ue.jsx)("nav",{className:lr.a.nav,children:Object(Ue.jsx)(fr,{logoutClicked:e.logoutClicked,isLoggedIn:e.isLoggedIn,user:e.user})})]})},br=n(107),jr=n.n(br),Sr=n.p+"static/media/collections.03f2a105.png",Or=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(ve.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleJoinButtonClick=function(){e.props.user.get("userFetched")?e.props.history.push("/projects"):e.props.history.push("/signup")},e.handleLoginClick=function(){e.props.user.get("userFetched")?window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","docs"):e.props.history.push("/login")},e.handleLogoClicked=function(){e.props.history.push("/")},e.handleUserClick=function(){e.props.logout()},e.logoutClicked=function(t){t.preventDefault(),e.props.logout()},e}return Object(me.a)(n,[{key:"render",value:function(){window.innerWidth>=1400||window.innerWidth;var e=Object(ar.a)((function(e){return{root:{backgroundColor:"#176287",width:"30%",height:"65%",color:"#fff",fontFamily:"Poppins",fontSize:"1vw","&:hover":{backgroundColor:"#0c3c46"}}}}))(Pe.a);return Object(Ue.jsxs)("div",{className:jr.a.mainContainer,children:[Object(Ue.jsx)(mr,{isLoggedIn:this.props.user.get("userFetched"),clicked:this.handleLogoClicked,user:this.props.user.get("user").get("username"),logoutClicked:this.logoutClicked}),Object(Ue.jsxs)("main",{className:jr.a.content,children:[Object(Ue.jsx)("div",{className:jr.a.imageContainer,children:Object(Ue.jsx)("div",{className:jr.a.image,children:Object(Ue.jsx)("img",{src:Sr,alt:"collections image",className:jr.a.image})})}),Object(Ue.jsxs)("div",{className:jr.a.titlesContainer,children:[Object(Ue.jsxs)("div",{className:jr.a.titles,children:[Object(Ue.jsx)("h2",{className:jr.a.mainTitle,children:"Explore Your Design Ideas"}),Object(Ue.jsx)("p",{className:jr.a.subTitle,children:"Generate & Review Unlimited Alternatives"})]}),Object(Ue.jsxs)("div",{className:jr.a.buttonsContainer,children:[Object(Ue.jsx)(e,{variant:"contained",size:"large",onClick:this.handleJoinButtonClick,children:this.props.user.get("userFetched")?"Projects":"Join Now"}),Object(Ue.jsx)(e,{variant:"contained",size:"large",onClick:this.handleLoginClick,children:this.props.user.get("userFetched")?"About":"Login"})]})]})]})]})}}]),n}(o.PureComponent),yr=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(p.get("USER_ID"));e&&null!=e&&this.props.fetchUser()}},{key:"render",value:function(){return Object(Ue.jsx)(Or,Object(I.a)({},this.props))}}]),n}(o.Component),Cr=Object(a.c)((function(e){return{user:e.auth}}),(function(e){return{fetchUser:function(){e(Ai())},logout:function(){e(Ni())}}}))(yr),_r=n(54),xr=n.n(_r),Er=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).onUsernameChange=function(e){o.setState({username:e.target.value})},o.onPasswordChange=function(e){o.setState({password:e.target.value})},o.onPasswordConfirmationChange=function(e){o.setState({passwordConfirmation:e.target.value})},o.handleRegister=function(e){e.preventDefault(),""!==o.state.username&&""!==o.state.password&&""!==o.state.passwordConfirmation&&o.state.password===o.state.passwordConfirmation?o.props.register(o.state.username,o.state.password,o.state.passwordConfirmation,o.props.history):null===o.state.username||""===o.state.username?o.props.errorMessage(Bt.b.error("Name can't be empty")," Name can't be empty 0"):null===o.state.password||""===o.state.password||null===o.state.passwordConfirmation||""===o.state.passwordConfirmation?o.props.errorMessage(Bt.b.error("Password can't be empty")," Password can't be empty 0"):o.state.password!==o.state.passwordConfirmation&&o.props.errorMessage(Bt.b.error("Password does not match Password Confirmation"),"Password does not match Password Confirmation 0")},o.handleLogoClicked=function(){o.props.history.push("/")},o.state={username:"",password:"",passwordConfirmation:""},o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:xr.a.mainContainer,children:[Object(Ue.jsx)(mr,{clicked:this.handleLogoClicked}),Object(Ue.jsxs)("main",{className:xr.a.content,children:[Object(Ue.jsx)("div",{className:xr.a.titleContainer,children:Object(Ue.jsx)("div",{className:xr.a.titleBox,children:Object(Ue.jsx)("p",{className:xr.a.title,children:"Join Now"})})}),Object(Ue.jsx)("div",{className:xr.a.authContainer,children:Object(Ue.jsx)("div",{className:xr.a.signupBox,children:Object(Ue.jsxs)("form",{className:xr.a.formStyle,onSubmit:this.handleRegister,children:[Object(Ue.jsxs)("div",{className:xr.a.inputContainer,children:[Object(Ue.jsx)("p",{className:xr.a.inputStyle,children:"Name:"}),Object(Ue.jsx)("input",{type:"text",name:"name",onChange:this.onUsernameChange,value:this.state.username,className:xr.a.textInput,autoComplete:"name"})]}),Object(Ue.jsxs)("div",{className:xr.a.inputContainer,children:[Object(Ue.jsx)("p",{className:xr.a.inputStyle,children:"Password:"}),Object(Ue.jsx)("input",{type:"password",name:"password",onChange:this.onPasswordChange,value:this.state.password,className:xr.a.textInput,autoComplete:"new-password"})]}),Object(Ue.jsxs)("div",{className:xr.a.inputContainer,children:[Object(Ue.jsx)("p",{className:xr.a.inputStyle,children:"Password Confirmation:"}),Object(Ue.jsx)("input",{type:"password",name:"password-confirmation",onChange:this.onPasswordConfirmationChange,className:xr.a.textInput,autoComplete:"new-password"})]}),Object(Ue.jsx)("div",{className:xr.a.buttonContainer,children:Object(Ue.jsx)("input",{type:"submit",value:"Join Now",className:xr.a.submitInput})})]})})})]})]})}}]),n}(o.PureComponent),wr=n(67),Nr=n.n(wr),Ar=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(e){var o;return Object(ve.a)(this,n),(o=t.call(this,e)).onUsernameChange=function(e){o.setState({username:e.target.value})},o.onPasswordChange=function(e){o.setState({password:e.target.value})},o.handelLogin=function(e){e.preventDefault(),""!==o.state.username&&""!==o.state.password?o.props.login(o.state.username,o.state.password,o.props.history):null===o.state.username||""===o.state.username?o.props.errorMessage(Bt.b.error("Name can't be empty")," Name can't be empty 0"):null!==o.state.password&&""!==o.state.password||o.props.errorMessage(Bt.b.error("Password can't be empty")," Password can't be empty 0")},o.handleLogoClicked=function(){o.props.history.push("/")},o.state={username:"",password:""},o}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:Nr.a.mainContainer,children:[Object(Ue.jsx)(mr,{clicked:this.handleLogoClicked}),Object(Ue.jsxs)("main",{className:Nr.a.content,children:[Object(Ue.jsx)("div",{className:Nr.a.titleContainer,children:Object(Ue.jsx)("div",{className:Nr.a.titleBox,children:Object(Ue.jsx)("p",{className:Nr.a.title,children:"Login"})})}),Object(Ue.jsx)("div",{className:Nr.a.authContainer,children:Object(Ue.jsx)("div",{className:Nr.a.signupBox,children:Object(Ue.jsxs)("form",{className:Nr.a.formStyle,onSubmit:this.handelLogin,children:[Object(Ue.jsxs)("div",{className:Nr.a.inputContainer,children:[Object(Ue.jsx)("p",{className:Nr.a.inputStyle,children:"Name:"}),Object(Ue.jsx)("input",{type:"text",name:"name",onChange:this.onUsernameChange,value:this.state.username,className:Nr.a.textInput,autoComplete:"name"})]}),Object(Ue.jsxs)("div",{className:Nr.a.inputContainer,children:[Object(Ue.jsx)("p",{className:Nr.a.inputStyle,children:"Password:"}),Object(Ue.jsx)("input",{type:"password",name:"password",onChange:this.onPasswordChange,value:this.state.password,className:Nr.a.textInput,autoComplete:"new-password"})]}),Object(Ue.jsx)("div",{className:Nr.a.buttonContainer,children:Object(Ue.jsx)("input",{type:"submit",value:"Login",className:Nr.a.submitInput})})]})})})]})]})}}]),n}(o.PureComponent),Ir=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ue.jsx)("div",{children:"/login"===this.props.location.pathname?Object(Ue.jsx)(Ar,Object(I.a)({},this.props)):Object(Ue.jsx)(Er,Object(I.a)({},this.props))})}}]),n}(o.Component),kr=Object(a.c)((function(e){return{auth:e.auth}}),(function(e){return{register:function(t,n,o,i){e(Ei(t,n,0,i))},logout:function(){e(Ni())},login:function(t,n,o){e(wi(t,n,o))},errorMessage:function(t,n){e(gn(t,n))},fetchUser:function(){e(Ai())}}}))(Ir),Tr=function(e){Object(be.a)(n,e);var t=Object(je.a)(n);function n(){return Object(ve.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){var e;return e=this.props.auth.get("userFetched")?Object(Ue.jsxs)(Se.c,{children:[Object(Ue.jsx)(Se.a,{path:"/projects",component:sr}),Object(Ue.jsx)(Se.a,{path:"/project",component:Di}),Object(Ue.jsx)(Se.a,{exact:!0,path:"/",component:Cr})]}):Object(Ue.jsxs)(Se.c,{children:[Object(Ue.jsx)(Se.a,{path:"/projects",component:sr}),Object(Ue.jsx)(Se.a,{path:"/project",component:Di}),Object(Ue.jsx)(Se.a,{path:"/signup",component:kr}),Object(Ue.jsx)(Se.a,{path:"/login",component:kr}),Object(Ue.jsx)(Se.a,{exact:!0,path:"/",component:Cr})]}),Object(Ue.jsxs)(Oe.a,{children:[Object(Ue.jsx)(Bt.a,{position:"bottom-right",draggable:!1,closeButton:!1,autoClose:3e3,rtl:!0}),e]})}}]),n}(i.a.PureComponent),Lr=Object(a.c)((function(e){return{auth:e.auth}}),null)(Tr);n(654);!function(e,t,n){n=n||window;var o=!1;n.addEventListener(e,(function(){o||(o=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(t)),o=!1})))}))}("resize","optimizedResize");var Pr=fetch;fetch=function(e,t){var n=localStorage.getItem(p.get("USER_ID")),o=sessionStorage.getItem(p.get("PROJECT_ID"));return t||(t={method:"GET",headers:{"Content-Type":"application/json"}}),t.headers||(t.headers={}),t.headers.userid=n,t.headers.projectid=o,Pr(e,t)},s.a.render(Object(Ue.jsx)(a.a,{store:Object(c.e)(ge,fe(Object(c.a)(l.a))),children:Object(Ue.jsx)(Lr,{})}),document.getElementById("root"))},66:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","button-div":"parallelMenu_button-div__CqXRo",button:"parallelMenu_button__3HJW0","button-visible":"parallelMenu_button-visible__QLnNP","button-hidden":"parallelMenu_button-hidden__1ElCd"}},67:function(e,t,n){e.exports={mainContainer:"login_mainContainer__2ftiI",content:"login_content__3M0Jt",authContainer:"login_authContainer__4MJkX",titleContainer:"login_titleContainer__2jWjK",signupBox:"login_signupBox__1PVdU",formStyle:"login_formStyle__1ZL-j",inputContainer:"login_inputContainer__G2f8_",buttonContainer:"login_buttonContainer__34ri8",inputStyle:"login_inputStyle__3lT9w",textInput:"login_textInput__U9FHG",submitInput:"login_submitInput__2lG_8",titleBox:"login_titleBox__1e0sH",title:"login_title__1sS8r"}},86:function(e,t,n){e.exports={projectContainer:"project_projectContainer__tkzkA",imageContainer:"project_imageContainer__1iaDM",textContainer:"project_textContainer__1denn",titleContainer:"project_titleContainer__yV22N",title:"project_title__Oc0MX",numberOfAlts:"project_numberOfAlts__3y1zV",imageStyle:"project_imageStyle__1Of8d",descriptionContainer:"project_descriptionContainer__2ooeR",description:"project_description__14DCK",userContainer:"project_userContainer__3zH_V",circle:"project_circle__o2MnR","icon-style":"project_icon-style__2nIfK",initials:"project_initials__3tjbj"}},90:function(e,t,n){e.exports={ImageContainer:"projectImage_ImageContainer__kZFJu",imagesContainer:"projectImage_imagesContainer__2Mm53",imageStyle:"projectImage_imageStyle__7iUoK"}}},[[655,1,2]]]);
//# sourceMappingURL=main.1da419e2.chunk.js.map