(this["webpackJsonpdstar-design-gallery"]=this["webpackJsonpdstar-design-gallery"]||[]).push([[0],{105:function(e,t,n){e.exports={projectContainer:"project_projectContainer__tkzkA",imageContainer:"project_imageContainer__1iaDM",textContainer:"project_textContainer__1denn",titleContainer:"project_titleContainer__yV22N",title:"project_title__Oc0MX",descriptionContainer:"project_descriptionContainer__2ooeR",description:"project_description__14DCK",userContainer:"project_userContainer__3zH_V",circle:"project_circle__o2MnR",initials:"project_initials__3tjbj"}},106:function(e,t,n){e.exports={mainContainer:"landingPage_mainContainer__1-HFz",content:"landingPage_content__1hjNX",imageContainer:"landingPage_imageContainer__36-WM",titlesContainer:"landingPage_titlesContainer__1mvIe",titles:"landingPage_titles__3xnE0",subTitle:"landingPage_subTitle__33KxK",mainTitle:"landingPage_mainTitle__2tEkN",buttonsContainer:"landingPage_buttonsContainer__2JAQH",buttonsStyle:"landingPage_buttonsStyle__10jNx",image:"landingPage_image__3m7te"}},125:function(e,t,n){e.exports={"panel-content":"settingsPanel_panel-content__3RBWA",projectLabel:"settingsPanel_projectLabel__CNhJT",projectTitle:"settingsPanel_projectTitle__3XhgY",inputLabel:"settingsPanel_inputLabel__16XdQ",textColor:"settingsPanel_textColor__2B2Rk",containerForProjectAndName:"settingsPanel_containerForProjectAndName__Aq05i"}},126:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","right-click-menu":"header_right-click-menu__2S5co","right-click-icon":"header_right-click-icon__37C9J"}},136:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",alternative:"alternative_alternative__3Zy-8","alternative-selected":"alternative_alternative-selected___Q7JJ","alternative-selected-related":"alternative_alternative-selected-related__3wbOR","alternative-hovered":"alternative_alternative-hovered__oSW0r","alternative-hovered-related":"alternative_alternative-hovered-related__2W0bk","alternative-hovered-selected":"alternative_alternative-hovered-selected__1aOBB","alternative-image":"alternative_alternative-image__3KXF5","alternative-toggle1":"alternative_alternative-toggle1__-DgHH","alternative-toggle2":"alternative_alternative-toggle2__3c9Qg"}},137:function(e,t,n){e.exports={"panel-textField":"searchPanel_panel-textField__1_qbA","panel-buttons-container":"searchPanel_panel-buttons-container__2xQeD","panel-content":"searchPanel_panel-content__9j_IE","panel-form":"searchPanel_panel-form__3OuE6","action-button":"searchPanel_action-button__3SF9F","panel-button":"searchPanel_panel-button__1UyXR"}},138:function(e,t,n){e.exports={contextMenuContainer:"projectContextMenu_contextMenuContainer___nezp",openContainer:"projectContextMenu_openContainer__1o2ck",editContainer:"projectContextMenu_editContainer__3McaB",deleteContainer:"projectContextMenu_deleteContainer__2xqRS",listItemText:"projectContextMenu_listItemText__31Fso"}},170:function(e,t,n){e.exports={navigation:"navigation_navigation__hqASe",logo:"navigation_logo__29Y6Y",nav:"navigation_nav__hAati",logoContainer:"navigation_logoContainer__1ENn0",logoStyle:"navigation_logoStyle__3pxZB"}},194:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","list-container":"listView_list-container__jCeoU","alternative-image":"listView_alternative-image__3mYX7"}},195:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",infobar:"infoBar_infobar__3pdfJ","infopar-a":"infoBar_infopar-a__1uRfG","infopar-s":"infoBar_infopar-s__-eoDB","infopar-r":"infoBar_infopar-r__2YaiL"}},274:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",App:"App_App__uQezi",canvas:"App_canvas__Kxp-h",container:"App_container__1L_HV"}},275:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","sink-list-menu":"sinkList_sink-list-menu__2RzZT","hr-sinkList":"sinkList_hr-sinkList__1AF4p","items-list":"sinkList_items-list__274Oj"}},317:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",tagBar:"tagBar_tagBar__1H-mN","tagBar-span":"tagBar_tagBar-span__37aJj"}},32:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",collection:"collection_collection__1tUl8","collection-selected":"collection_collection-selected__1OrOQ","collection-related":"collection_collection-related__1-3Q0","collection-name-div":"collection_collection-name-div__3AYzm","collection-title-div":"collection_collection-title-div__2oFFN","collection-input-div":"collection_collection-input-div__1fQbi",textInputStyle:"collection_textInputStyle__3YorQ","collection-titleView-div":"collection_collection-titleView-div__1JDFz","collection-name":"collection_collection-name__1V28t","collection-name-view":"collection_collection-name-view__3b7wU",tagEdit:"collection_tagEdit__1Y-kx",arrow:"collection_arrow__140E2",down:"collection_down__1UOD-",up:"collection_up__Up4CA","toggle-button":"collection_toggle-button__pwTPt","icon-handle":"collection_icon-handle__17Uy-",pointer:"collection_pointer__3MDXc",pointer2:"collection_pointer2__1bJnG","start-drag":"collection_start-drag__1PNHd",dragging:"collection_dragging__36Z3L"}},320:function(e,t,n){e.exports={navigationItems:"navigationItems_navigationItems__1u2op",name:"navigationItems_name__b0lHH"}},321:function(e,t,n){e.exports={navigationItem:"navigationItem_navigationItem__2VEr0",name:"navigationItem_name__1nIdw",active:"navigationItem_active__2-FdT"}},33:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1",gridLayout:"collections_gridLayout__3NxWr",container:"collections_container__1xvP7"}},441:function(e,t,n){e.exports={"alternative-container":"alternatives_alternative-container__1QqUy"}},447:function(e,t,n){e.exports=n.p+"static/media/SquamishThree1.e36ef145.png"},449:function(e,t,n){e.exports=n.p+"static/media/DStaWhite.3fef72e0.png"},450:function(e,t,n){e.exports=n.p+"static/media/collections.d948da91.png"},46:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","button-div":"parallel_button-div__ZpGrv",button:"parallel_button__32awR",selectStyle:"parallel_selectStyle__1sART",inputBox:"parallel_inputBox__v5_xI"}},503:function(e,t,n){e.exports=n(638)},51:function(e,t,n){e.exports={mainContainer:"auth_mainContainer__3b9bM",content:"auth_content__16JSt",authContainer:"auth_authContainer__3Yq8n",titleContainer:"auth_titleContainer__1JVWQ",signupBox:"auth_signupBox__f8KWQ",inputContainer:"auth_inputContainer__21FZB",buttonContainer:"auth_buttonContainer__1F7aB",inputStyle:"auth_inputStyle__ycit0",textInput:"auth_textInput__2wVm5",submitInput:"auth_submitInput__1JQUc",titleBox:"auth_titleBox__26H6x",title:"auth_title__2Ic2H"}},56:function(e,t,n){e.exports={mainsContainer:"projects_mainsContainer__1SnSK",controlsContainer:"projects_controlsContainer__1D-R2",controlsContent:"projects_controlsContent__1ESIx",initials:"projects_initials__1tHW1",userContainer:"projects_userContainer__2LtrM",userName:"projects_userName__3GORV",circle:"projects_circle__2Ge2Z",projectsContainer:"projects_projectsContainer__1jTl5",projectsRow:"projects_projectsRow__3Id5q",addProjectContainer:"projects_addProjectContainer__3IT8-",plusIcon:"projects_plusIcon__2STRv",logoutContainer:"projects_logoutContainer__1bsg7",logoutText:"projects_logoutText__1nLNj",addProjectText:"projects_addProjectText__2tbx9",homeContainer:"projects_homeContainer__gTYkx",homeText:"projects_homeText__ZHYU2"}},62:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","button-div":"parallelMenu_button-div__CqXRo",button:"parallelMenu_button__3HJW0","button-visible":"parallelMenu_button-visible__QLnNP","button-hidden":"parallelMenu_button-hidden__1ElCd"}},631:function(e,t,n){e.exports=n.p+"static/media/DStar.d0e93082.png"},637:function(e,t,n){},638:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),a=n(25),r=n.n(a),l=n(14),s=n(82),c=n(439),u=n(10),d=n.n(u),p=new d.a.Map({FETCH_ALTERNATIVES:"FETCH_ALTERNATIVES",FETCH_COLLECTIONS:"FETCH_COLLECTIONS",FETCH_LAYOUT:"FETCH_LAYOUT",FETCH_PROJECT:"FETCH_PROJECT",FETCHING_PROJECT:"FETCHING_PROJECT",OPEN_WEB_SOCKET_CONNECTION:"OPEN_WEB_SOCKET_CONNECTION",SET_NEW_WEBSOCKET:"SET_NEW_WEBSOCKET",ADD_NEW_ALTERNATIVES:"ADD_NEW_ALTERNATIVES",CREATE_COLLECTION:"CREATE_COLLECTION",UPDATE_ALTERNATIVE:"UPDATE_ALTERNATIVE",UPDATE_MAX_COLUMNS:"UPDATE_MAX_COLUMNS",ADD_ALTERNATIVE_TO_COLLEECTION:"ADD_ALTERNATIVE_TO_COLLEECTION",DELETE_COLLECTION:"DELETE_COLLECTION",TOGGLE_DRAGGING:"TOGGLE_DRAGGING",SELECT_COLLECTION:"SELECT_COLLECTION",DESELECT_COLLECTION:"DESELECT_COLLECTION",SELECT_ALTERNATIVE:"SELECT_ALTERNATIVE",DESELECT_ALTERNATIVE:"DESELECT_ALTERNATIVE",HOVER_ALTERNATIVE:"HOVER_ALTERNATIVE",DEHOVER_ALTERNATIVE:"DEHOVER_ALTERNATIVE",DEHOVER_ALL_ALTERNATIVES:"DEHOVER_ALL_ALTERNATIVES",INSERT_LAYOUT:"INSERT_LAYOUT",CLIP_ALTERNATIVE:"CLIP_ALTERNATIVE",CLIP_COLLECTION:"CLIP_COLLECTION",CLEAR_ALTS_CLIPBOARD:"CLEAR_ALTS_CLIPBOARD",CLEAR_COLS_CLIPBOARD:"CLEAR_COLS_CLIPBOARD",CHANGE_COLLECTION_NAME:"CHANGE_COLLECTION_NAME",SHOW_HEADER:"SHOW_HEADER",HIDE_HEADER:"HIDE_HEADER",SHOW_SINK_LIST:"SHOW_SINK_LIST",HIDE_SINK_LIST:"HIDE_SINK_LIST",TOGGLE_SINK:"TOGGLE_SINK",SAVE_LAYOUT:"SAVE_LAYOUT",HANDLE_SUCCESS:"HANDLE_SUCCESS",HANDLE_WARNING:"HANDLE_WARNING",HANDLE_ERROR:"HANDLE_ERROR",DESELECT_ALL_ALTERNATIVES:"DESELECT_ALL_ALTERNATIVES",DESELECT_ALL_COLLECTIONS:"DESELECT_ALL_COLLECTIONS",TOGGLE_HISTORY:"TOGGLE_HISTORY",TOGGLE_VIEW_MODE:"TOGGLE_VIEW_MODE",TOGGLE_ALT_VIEW:"TOGGLE_ALT_VIEW",ALTER_ALTERNATIVE:"ALTER_ALTERNATIVE",SELECT_PATH:"SELECT_PATH",DESELECT_PATH:"DESELECT_PATH",ADD_DATA_FIELD:"ADD_DATA_FIELD",REMOVE_DATA_FIELD:"REMOVE_DATA_FIELD",UPDATE_PATH:"UPDATE_PATH",FETCH_KEY_SETS:"FETCH_KEY_SETS",FETCH_VALUE_BANDS:"FETCH_VALUE_BANDS",FETCH_SETTINGS:"FETCH_SETTINGS",ORDER_ALTERNATIVES:"ORDER_ALTERNATIVES",ADD_ALTERNATIVE_TO_COLLECTION:"ADD_ALTERNATIVE_TO_COLLECTION",ORDER_COLLECTION_DIMENSIONS:"ORDER_COLLECTION_DIMENSIONS",SET_LOADING_STATE:"SET_LOADING_STATE",REMOVE_ALTERNATIVE:"REMOVE_ALTERNATIVE",TOGGLE_SETTINGS:"TOGGLE_SETTINGS",SET_ALTERNATIVE_SIZE:"SET_ALTERNATIVE_SIZE",SET_COMPACTION_TYPE:"SET_COMPACTION_TYPE",GATHER_ALL_COLLECTIONS:"GATHER_ALL_COLLECTIONS",SET_COLLISION_PREVENTION:"SET_COLLISION_PREVENTION",SET_VALUE_BANDS:"SET_VALUE_BANDS",SHOULD_COMMIT_QUERY:"SHOULD_COMMIT_QUERY",ADD_QUERY:"ADD_QUERY",REMOVE_QUERY:"REMOVE_QUERY",CLEAR_ALL_QUERIES:"CLEAR_ALL_QUERIES",SET_COLLECTION_DESTINATION:"SET_COLLECTION_DESTINATION",SET_COLLECTION_MODE:"SET_COLLECTION_MODE",UPDATE_COLLECTION_TAGS:"UPDATE_COLLECTION_TAGS",ADD_BRUSH:"ADD_BRUSH",REMOVE_BRUSH:"REMOVE_BRUSH",CLEAR_ALL_BRUSHES:"CLEAR_ALL_BRUSHES",TOGGLE_SEARCH:"TOGGLE_SEARCH",SEARCHED_COLLECTION:"SEARCHED_COLLECTION",SEARCH_COLLECTION_FALID:"SEARCH_COLLECTION_FALID",EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH:"EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH",UPDATE_LAYOUTS:"UPDATE_LAYOUTS",HANDLE_EDIT_NAME_START:"HANDLE_EDIT_NAME_START",EDIT_COLLECTION_NAME:"EDIT_COLLECTION_NAME",REMOVE_FOCUS:"REMOVE_FOCUS",SELECT_PROJECT:"SELECT_PROJECT",CREATING_PROJECT:"CREATING_PROJECT",FETCH_USER:"FETCH_USER",NOT_FETCH_USER:"NOT_FETCH_USER",PROJECT_ID:"PROJECT_ID",USER_ID:"USER_ID",LOGOUT_USER:"LOGOUT_USER",DELETE_PROJECT:"DELETE_PROJECT",PROJECT_EDIT_BOX:"PROJECT_EDIT_BOX",UPDATE_PROJECT:"UPDATE_PROJECT",SHOW_PROJECT_CONTEXT_MENU:"SHOW_PROJECT_CONTEXT_MENU",HIDE_PROJECT_CONTEXT_MENU:"HIDE_PROJECT_CONTEXT_MENU"}),g=new d.a.Map({ID:"viewId",REF:"refId",NAME:"collectionName",ALTERNATIVE_IDS:"altsid"}),h=n(124),f=new d.a.Map({UNTITLED_COLLECTION_NAME:"untitled"}),m=n(55),v=n.n(m),E=n(61),S=n.n(E),y=v()((function(e,t){return e.find((function(e){return e.get(g.get("NAME"))===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),C=v()((function(e,t){return e.find((function(e){return e.get("viewId")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),_=v()((function(e,t){return e.filter((function(e){return e.get(g.get("ID"))!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),b=function(e){var t=f.get("UNTITLED_COLLECTION_NAME");return e.get(g.get("NAME"))&&(t=e.get(g.get("NAME"))),t},w=v()((function(e,t){return t.filter((function(t){return e.get("altsid").includes(t.get("viewId"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),N=v()((function(e,t,n,o){return n*e+t*e+o}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),A=(v()((function(e,t,n,o){return n*e+t*e+o}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),function(e,t){return{x:Math.round(e/200),y:Math.round(t/60)}}),I=function(e){if(!(e&&e.length>0))return e;if(e.includes("View(")){var t=e.indexOf("-View(");return e.slice(0,t)}},O=function(e){if(e.includes("-View(")){var t=e.indexOf("-View(");return e.slice(0,t)}return e},k=d.a.fromJS({collections:[],collectionsFetched:!1,clippedCollections:[],showHelp:!1,shouldRemoveFocus:!1}),T=n(50),j=new d.a.Map({ID:"viewId",REF:"refId",IMAGE:"image"}),L=new d.a.Map({MARGIN:10,CELL_DIM:200,BUFFER:10,ROW_HEIGHT:130,DEFAULT_ALT_HEIGHT:1,DEFAULT_ALT_WIDTH:1,DEFAULT_MAX_COLUMNS:81,LAYOUT_UPDATE_MESSAGE_TYPE:"layout"}),P="76b1cb8a044a.ngrok.io",x=new d.a.Map({getHost:"".concat("https://").concat(P,"/"),alternatives_fetch:"".concat("https://").concat(P,"/alternatives"),collections_fetch:"".concat("https://").concat(P,"/collections"),layout_fetch:"".concat("https://").concat(P,"/layout"),project_fetch:"".concat("https://").concat(P,"/project"),project_select:"".concat("https://").concat(P,"/project/select"),project_create:"".concat("https://").concat(P,"/project"),delete_project:"".concat("https://").concat(P,"/project"),update_project:"".concat("https://").concat(P,"/project"),user_register:"".concat("https://").concat(P,"/user/register"),user_login:"".concat("https://").concat(P,"/user/login"),user_fetch:"".concat("https://").concat(P,"/user"),settings_fetch:"".concat("https://").concat(P,"/settings"),cartesian_product:"".concat("https://").concat(P,"/computeCP"),parameter_spectra:"".concat("https://").concat(P,"/computePS"),sampling:"".concat("https://").concat(P,"/computeSample"),spectral_cartesian_product:"".concat("https://").concat(P,"/computeSCP"),sensitivity_analysis:"".concat("https://").concat(P,"/computeSA"),websocketURL:"".concat("ws://").concat(P,"/delta"),collections:"".concat("https://").concat(P,"/collections"),collectionCopyWithRef:"".concat("https://").concat(P,"/collections/copy/ref"),newCollection:"".concat("https://").concat(P,"/new-collection"),alternativeCopy:"".concat("https://").concat(P,"/alternatives/ref/copy"),alternativeClone:"".concat("https://").concat(P,"/alternatives/clone"),collectionClone:"".concat("https://").concat(P,"/collections/clone"),collectionDeepClone:"".concat("https://").concat(P,"/collections/clone/deep"),alternativeEdit:"".concat("https://").concat(P,"/alternatives/edit"),alternativeCloneEdit:"".concat("https://").concat(P,"/alternatives/edit/clone"),alternativesRemove:"".concat("https://").concat(P,"/alternatives"),alternativeRestore:"".concat("https://").concat(P,"/alternatives/restore"),alternative_sketching:"".concat("https://").concat(P,"/alternatives/sketching"),deleteCollection:"".concat("https://").concat(P,"/collections"),sinkCollection:"".concat("https://").concat(P,"/collections/sink")}),M=v()((function(e,t){return e.find((function(e){return e.get("viewId")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),D=function(e,t){var n=e.find((function(e){return e.get("viewId")===t})),o=n.get("refId");return e.filter((function(e){return e.get("refId")===o})).filter((function(e){return e.get("viewId")!==n.get("viewId")}))},R=(v()((function(e,t){return e.filter((function(e){return e.get(j.get("ID"))!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),v()((function(e){return x.get("getHost")+e.get(j.get("IMAGE"))}))),B=(v()((function(e,t){return e.filter((function(e){return t.includes(e.get("viewId"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),v()((function(e,t){return e.filter((function(e){return e!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")}))),H=v()((function(e){return e.map((function(e){return e.get(j.get("ID"))}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),J=n(324),V=n(325),W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e?t:n},U=function(e,t){e[t];return Object(J.a)(e,[t].map(V.a))},G=function(e,t,n){return e[t]=n[t],e},F=function(e,t,n){return{viewId:e.viewId,refId:e.refId,collectionName:O(e.collectionName),collectionRefId:e.collectionRefId,collectionViewId:e.collectionViewId,params:e.params?e.params:t,outputs:e.outputs?e.outputs:n,parallelData:e.params||e.outputs?Object.assign(e.params,e.outputs):Object.assign(t,n),gltf:e.gltf,image:e.image,altView:!1,isSelected:!1,isHovered:!1,isLoading:!1}},z=function(e,t,n){return{viewId:e.viewId,refId:e.refId,collectionName:O(e.collectionName),collectionNameView:e.collectionNameView,altsid:e.altsid,isSinked:e.isSinked,tags:e.tags,viewType:e.viewType,dimOrder:e.keySets,inputs:t,outputs:n,isSelected:!1,isEditingName:!1,destinations:[],currentMode:{isAltering:!1,isEditing:!1,isLiveEditing:!1,isCloning:!1,isToggling:!1,isSampling:!1,isSketching:!1,isBrushing:!1,isCPing:!1,isPSing:!1,isSAing:!1}}},Y=d.a.fromJS({alternatives:[],alternativesFetched:!1,clippedAlternatives:[]}),Q=v()((function(e,t){return e.get("gridLayout").find((function(e){return e.get("i")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),K=v()((function(e,t){return e.get("layoutClipboard").find((function(e){return e.get("i")===t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),q=v()((function(e,t){return e.filter((function(e){return e.get("i")!==t}))}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S()(t).join("_")})),X=function(e){for(var t=0,n=0,o=e.toJS(),i=0;i<o.length;i++)o[i].w=3,o[i].h=5,t<8?(o[i].x=t,o[i].y=n,t+=o[i].w):(t=0,o[i].x=t,o[i].y=n,t+=o[i].w,n+=o[i].h);return o},Z=d.a.fromJS({gridLayout:[],layoutClipboard:[],layoutsFetched:!1,maxColumns:L.get("DEFAULT_MAX_COLUMNS")}),$=d.a.fromJS({projects:[],projectFetched:!1,projectLoaded:!1,isCreating:!1,showContextMenu:!1,showEditBox:!1,editProject:null,selectedProject:null,contextMenuPosX:0,contextMenuPosY:0,showProjectContextMenu:!1,contextMenuSelectedProject:null}),ee=d.a.fromJS({connected:!1,websocket:null}),te=d.a.fromJS({headerShow:!1,listShow:!1,headerX:0,headerY:0}),ne=d.a.fromJS({successes:[],warnings:[],errors:[],showHistory:!1}),oe=d.a.fromJS({showSettings:!1,alternativeImageSize:180,collectionCompactionType:"none",preventCollision:!0}),ie=function(e,t){return e.filter((function(e){return e.get("id")!==t}))},ae=function(e,t){return e.filter((function(e){return e.get("id")!==t}))},re=d.a.fromJS({queries:[],brushes:[]}),le=d.a.fromJS({keySets:[],valueBands:[]}),se=d.a.fromJS({showSearch:!1,showValidation:!1,missMatchCollectionNames:[]}),ce=d.a.fromJS({user:{},userFetched:!1,userLoggedIn:!1}),ue=Object(s.c)({collections:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(o.type){case p.get("FETCHING_PROJECT"):return n.set("collectionsFetched",!1).set("collections",d.a.fromJS([])).set("shouldRemoveFocus",!1).set("showHelp",!1).set("clippedCollections",d.a.fromJS([]));case p.get("FETCH_COLLECTIONS"):return n.set("collections",d.a.fromJS(o.payload)).set("collectionsFetched",!0);case p.get("CREATE_COLLECTION"):return n.update("collections",(function(e){return e.push(d.a.fromJS(o.payload))}));case p.get("DELETE_COLLECTION"):return n.set("collections",_(n.get("collections"),o.payload));case p.get("SELECT_COLLECTION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"isSelected"],!0)}));case p.get("DESELECT_COLLECTION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"isSelected"],!1)}));case p.get("DESELECT_ALL_COLLECTIONS"):return n.update("collections",(function(e){return e.map((function(e){return e.set("isSelected",!1)}))}));case p.get("CLIP_COLLECTION"):return n.update("clippedCollections",(function(e){return e.push(d.a.fromJS(o.payload))}));case p.get("CLEAR_COLS_CLIPBOARD"):return n.update("clippedCollections",(function(e){return e.clear()}));case p.get("CHANGE_COLLECTION_NAME"):return e=C(n.get("collections"),o.payload.collectionId).set(g.get("NAME"),o.payload.collectionName).set("isEditingName",!1),t=_(n.get("collections"),o.payload.collectionId).push(e),n.set("collections",t);case p.get("HANDLE_EDIT_NAME_START"):return n.update("collections",(function(e){return e.map((function(e){return e.get("refId")===o.payload?e.set("isEditingName",!e.get("isEditingName")):e}))}));case p.get("EDIT_COLLECTION_NAME"):return n.update("collections",(function(e){return e.map((function(e){return e.get("isEditingName")?e.set("collectionName",o.payload.name):e}))}));case p.get("TOGGLE_SINK"):return n.update("collections",(function(e){var t=e.findIndex((function(e){return e.get("viewId")===o.payload}));return e.setIn([t,"isSinked"],!e.get(t).get("isSinked"))}));case p.get("TOGGLE_VIEW_MODE"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collectionId})),"viewType"],o.payload.viewType)}));case p.get("ADD_ALTERNATIVE_TO_COLLECTION"):return n.update("collections",(function(e){return e.map((function(e){if(e.get("viewId")===o.payload.collectionId){var t=e.get("altsid").push(d.a.fromJS(o.payload.alternativeId));return e.set("altsid",t).set("dimOrder",d.a.fromJS(o.payload.dimOrder)).set("inputs",d.a.fromJS(o.payload.collectionInputs)).set("outputs",d.a.fromJS(o.payload.collectionOutputs))}return e}))}));case p.get("ORDER_COLLECTION_DIMENSIONS"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.viewId})),"dimOrder"],d.a.fromJS(o.payload.dimOrder))}));case p.get("SET_COLLECTION_DESTINATION"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"destinations"],d.a.fromJS(o.payload.destinations))}));case p.get("SET_COLLECTION_MODE"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collection})),"currentMode"],d.a.fromJS(o.payload.mode))}));case p.get("UPDATE_COLLECTION_TAGS"):return n.update("collections",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===o.payload.collectionId})),"tags"],d.a.fromJS(o.payload.tags))}));case p.get("REMOVE_FOCUS"):return n.set("shouldRemoveFocus",!n.get("shouldRemoveFocus"));default:return n}},alternatives:function(){var e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(i.type){case p.get("FETCHING_PROJECT"):return o.set("alternativesFetched",!1).set("alternatives",d.a.fromJS([])).set("clippedAlternatives",d.a.fromJS([]));case p.get("FETCH_ALTERNATIVES"):return o.set("alternatives",d.a.fromJS(i.payload)).set("alternativesFetched",!0);case p.get("ADD_NEW_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.push(d.a.fromJS(i.payload))}));case p.get("UPDATE_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.viewId?e.mergeDeepWith((function(e,t,n){return"isSelected"===n?e:t}),d.a.fromJS(i.payload.alternative)):e}))}));case p.get("SELECT_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isSelected"],!0)}));case p.get("DESELECT_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isSelected"],!1)}));case p.get("HOVER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.viewId?e.set("isHovered",!0):e.set("isHovered",!1)}))}));case p.get("DEHOVER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isHovered"],!1)}));case p.get("DEHOVER_ALL_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.map((function(e){return e.set("isHovered",!1)}))}));case p.get("DESELECT_ALL_ALTERNATIVES"):return o.update("alternatives",(function(e){return e.map((function(e){return e.set("isSelected",!1)}))}));case p.get("CLIP_ALTERNATIVE"):return o.update("clippedAlternatives",(function(e){return e.push(d.a.fromJS(i.payload))}));case p.get("REMOVE_ALTERNATIVE"):return o.set("alternatives",B(o.get("alternatives"),i.payload));case p.get("CLEAR_ALTS_CLIPBOARD"):return o.update("clippedAlternatives",(function(e){return e.clear()}));case p.get("TOGGLE_ALT_VIEW"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload?e.set("altView",!e.get("altView")):e}))}));case p.get("SET_LOADING_STATE"):return o.update("alternatives",(function(e){return e.setIn([e.findIndex((function(e){return e.get("viewId")===i.payload.viewId})),"isLoading"],i.payload.isLoading)}));case p.get("ALTER_ALTERNATIVE"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternativeID?e.setIn(["parallelData",i.payload.parameter],i.payload.newValue):e}))}));case p.get("ADD_DATA_FIELD"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternative.get("viewId")?(t=i.payload.alternative.get("parallelData").toJS(),e.setIn(["parallelData"],d.a.fromJS(G(t,i.payload.field,Object.assign(e.get("params").toJS(),e.get("outputs").toJS()))))):e}))}));case p.get("REMOVE_DATA_FIELD"):return o.update("alternatives",(function(e){return e.map((function(e){return e.get("viewId")===i.payload.alternative.get("viewId")?(t=i.payload.alternative.get("parallelData").toJS(),e.setIn(["parallelData"],d.a.fromJS(U(t,i.payload.field)))):e}))}));case p.get("ORDER_ALTERNATIVES"):return o.update("alternatives",(function(t){return n=t.findIndex((function(e){return e.get("viewId")===i.payload})),e=t[n],t.delete(n).push(e)}));default:return o}},layouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("layoutsFetched",!1).set("gridLayout",d.a.fromJS([])).set("layoutClipboard",d.a.fromJS([])).set("maxColumns",d.a.fromJS(L.get("DEFAULT_MAX_COLUMNS")));case p.get("FETCH_LAYOUT"):return e.set("gridLayout",d.a.fromJS(t.payload)).set("layoutsFetched",!0);case p.get("UPDATE_MAX_COLUMNS"):return e.set("gridLayout",d.a.fromJS(t.layout)).set("maxColumns",t.width);case p.get("TOGGLE_DRAGGING"):return e.set("dragging",!e.get("dragging"));case p.get("DELETE_COLLECTION"):return e.set("gridLayout",q(e.get("gridLayout"),t.payload));case p.get("INSERT_LAYOUT"):return e.update("gridLayout",(function(e){return e.push(d.a.fromJS(t.payload))}));case p.get("SAVE_LAYOUT"):return e.update("layoutClipboard",(function(e){return e.push(d.a.fromJS(t.payload))}));case p.get("GATHER_ALL_COLLECTIONS"):return e.set("gridLayout",d.a.fromJS(X(e.get("gridLayout"))));case p.get("UPDATE_LAYOUTS"):default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCH_PROJECT"):return e.set("projects",d.a.fromJS(t.payload.projects)).set("projectLoaded",t.payload.db_loaded).set("projectFetched",!0);case p.get("SELECT_PROJECT"):return e.set("projectLoaded",!0).set("selectedProject",t.payload);case p.get("CREATING_PROJECT"):return e.set("isCreating",!e.get("isCreating"));case p.get("DELETE_PROJECT"):return e.set("projects",e.get("projects").filter((function(e){return e.get("id")!==t.payload})));case p.get("PROJECT_EDIT_BOX"):return e.set("showEditBox",!e.get("showEditBox")).set("editProject",t.payload);case p.get("UPDATE_PROJECT"):var n=e.get("projects").findIndex((function(e){return e.get("id")===t.payload.projectId}));return e.set("showEditBox",!e.get("showEditBox")).setIn(["projects",n,"name"],t.payload.projectName).setIn(["projects",n,"description"],t.payload.projectDescription);case p.get("SHOW_PROJECT_CONTEXT_MENU"):return e.set("contextMenuPosX",t.payload.xPos).set("contextMenuPosY",t.payload.yPos).set("showProjectContextMenu",!0).set("contextMenuSelectedProject",t.payload.project);case p.get("HIDE_PROJECT_CONTEXT_MENU"):return e.set("contextMenuPosX",0).set("contextMenuPosY",0).set("showProjectContextMenu",!1).set("contextMenuSelectedProject",null);default:return e}},websocket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("OPEN_WEB_SOCKET_CONNECTION"):return d.a.fromJS({connected:!0});case p.get("SET_NEW_WEBSOCKET"):return d.a.fromJS({websocket:t.payload});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("SHOW_HEADER"):return e.set("headerShow",!0).set("headerX",t.headerX).set("headerY",t.headerY);case p.get("HIDE_HEADER"):return e.set("headerShow",!1).set("headerX",0).set("headerY",0);case p.get("SHOW_SINK_LIST"):return e.set("listShow",!0);case p.get("HIDE_SINK_LIST"):return e.set("listShow",!1);default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e;case p.get("HANDLE_SUCCESS"):return e.update("successes",(function(e){return e.push(d.a.fromJS(t.payload))}));case p.get("HANDLE_WARNING"):return e.update("warnings",(function(e){return e.push(d.a.fromJS(t.payload)).set("cursorChange",!0)}));case p.get("HANDLE_ERROR"):return e.update("errors",(function(e){return e.push(d.a.fromJS(t.payload)).set("cursorChange",!0).set("freezeApp",!0)}));case p.get("TOGGLE_HISTORY"):return e.set("showHistory",!e.get("showHistory"));default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("showSettings",!1);case p.get("FETCH_SETTINGS"):return e.set("alternativeImageSize",d.a.fromJS(t.payload.alternativeImageSize)).set("collectionCompactionType",d.a.fromJS(t.payload.collectionCompactionType)).set("preventCollision",d.a.fromJS(t.payload.preventCollision));case p.get("TOGGLE_SETTINGS"):return e.set("showSettings",!e.get("showSettings"));case p.get("SET_ALTERNATIVE_SIZE"):return e.set("alternativeImageSize",t.payload);case p.get("SET_COMPACTION_TYPE"):return e.set("collectionCompactionType",t.payload);case p.get("SET_COLLISION_PREVENTION"):return e.set("preventCollision",t.payload);default:return e}},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("queries",d.a.fromJS([])).set("brushes",d.a.fromJS([]));case p.get("ADD_QUERY"):return e.update("queries",(function(e){return e.push(d.a.fromJS(t.payload))}));case p.get("REMOVE_QUERY"):return e.set("queries",ie(e.get("queries"),t.payload.queryId));case p.get("CLEAR_ALL_QUERIES"):return e.update("queries",(function(e){return e.clear()}));case p.get("ADD_BRUSH"):return e.update("brushes",(function(e){return e.push(d.a.fromJS(t.payload))}));case p.get("REMOVE_BRUSH"):return e.set("brushes",ae(e.get("brushes"),t.payload.queryId));case p.get("CLEAR_ALL_BRUSHES"):return e.update("brushes",(function(e){return e.clear()}));default:return e}},scales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("keySets",d.a.fromJS([])).set("valueBands",d.a.fromJS([]));case p.get("FETCH_KEY_SETS"):return e.set("keySets",d.a.fromJS(t.payload));case p.get("FETCH_VALUE_BANDS"):return e.set("valueBands",d.a.fromJS(t.payload));case p.get("SET_VALUE_BANDS"):return e.setIn(["valueBands",t.payload.dim,t.payload.end],d.a.fromJS(t.payload.val));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCHING_PROJECT"):return e.set("showSearch",!1).set("showValidation",!1).set(" missMatchCollectionNames",d.a.fromJS([]));case p.get("TOGGLE_SEARCH"):return e.set("showSearch",!e.get("showSearch")).set("showValidation",!1);case p.get("SEARCH_COLLECTION_FALID"):return e.set("showValidation",!0).set("missMatchCollectionNames",d.a.fromJS(t.payload));case p.get("EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH"):return e.set("missMatchCollectionNames",[]);case p.get("SEARCHED_COLLECTION"):return e.set("showValidation",!1);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.get("FETCH_USER"):return e.set("user",d.a.fromJS(t.payload)).set("userFetched",!0).set("userLoggedIn",!0);case p.get("NOT_FETCH_USER"):return e.set("userFetched",!1);case p.get("LOGOUT_USER"):return e.set("userLoggedIn",!1).set("user",d.a.fromJS({})).set("userFetched",!1);default:return e}}}),de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;var pe=n(17),ge=n(20),he=n(19),fe=n(18),me=n(274),ve=n.n(me),Ee=n(117),Se=n(245),ye=n.n(Se),Ce=n(440),_e=n.n(Ce),be=n(77),we=n.n(be),Ne=n(29),Ae=n(445),Ie=n(446),Oe=n(0),ke=n(441),Te=n.n(ke),je=n(136),Le=n.n(je),Pe=n(401),xe=n(83),Me=n(442),De=n(571)(xe),Re=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).initializeOrbits=function(){e.controls.rotateSpeed=1,e.controls.zoomSpeed=1.2,e.controls.panSpeed=.8},e.initializeCamera=function(){var t=e.scene.children[1].children[0],n=new xe.Box3;n.setFromObject(t);var o=n.getSize(),i=Math.max(o.x,o.y,o.z),a=e.camera.fov*(Math.PI/180),r=Math.abs(i/4*Math.tan(2*a));r*=20,e.camera.position.z=r;var l=n.min.z,s=l<0?-l+r:r-l;e.camera.far=3*s,e.camera.updateProjectionMatrix()},e.animate=function(){e.frameId=window.requestAnimationFrame(e.animate),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.gammaOutput=!0,e.renderer.gammaFactor=2.2,e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.type=xe.PCFSoftShadowMap,e.renderer.render(e.scene,e.camera)},e.handleControls=function(e){e.stopPropagation()},e}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.scene=new xe.Scene,this.scene.background=new xe.Color(15592941),this.camera=new xe.PerspectiveCamera(80,1,.001,1e3),this.scene.add(this.camera),this.renderer=new xe.WebGLRenderer({antialias:!0}),this.controls=new De(this.camera,this.renderer.domElement),this.renderer.setSize(this.props.width,this.props.height),this.renderer.toneMapping=xe.ReinhardToneMapping,this.mount.appendChild(this.renderer.domElement),this.renderer.domElement.setAttribute("style",this.props.customStyle),this.initializeOrbits(),this.loader=new Me,this.loader.load(x.get("getHost")+this.props.gltf,(function(t){e.scene.add(t.scene),e.scene.add(new xe.AmbientLight(14024704)),e.scene.traverse((function(t){t instanceof xe.Mesh&&(t.geometry.center(),t.material=new xe.MeshPhongMaterial({color:5178115,emissive:0,shading:xe.FlatShading,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1})),e.initializeCamera()}))})),this.animate(),window.onresize=function(){var t=window.innerWidth,n=window.innerHeight;e.camera.aspect=t/n,e.camera.updateProjectionMatrix(),e.renderer.setSize(t,n)}}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{onMouseDownCapture:this.handleControls,className:"boardCanvas",ref:function(t){e.mount=t}})}}]),n}(o.PureComponent),Be=n(144),He=n.n(Be),Je=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={transform:null,left:0,top:0,wasDragged:!1},e.toggleAltView=function(t){t.stopPropagation(),t.preventDefault(),e.props.toggleAltView(e.props.alternative.get("viewId"))},e.handleDoubleClick=function(t){t.stopPropagation(),e.props.restoreAlternative(e.props.alternative.get("viewId"))},e.handleHover=function(t,n){t?e.props.hoverAlternative(e.props.alternative.get("viewId"),e.props.alternative.get("refId")):e.props.dehoverAlternative(e.props.alternative.get("viewId"),e.props.alternative.get("refId"))},e.handleDeleteClick=function(t){t.stopPropagation(),t.preventDefault(),e.props.removeAlternativesFromCollection(Object(u.fromJS)([e.props.alternative.toJS()]))},e.handleDragStart=function(e){e.preventDefault()},e.move=function(t){var n=document.getElementById(e.props.alternative.get("viewId"));if(null!=n&&e.state.top&&e.state.left&&(e.state.left!==n.style.left||e.state.top!==n.style.top)){var o=e.state.top.replace("px",""),i=e.state.left.replace("px",""),a=n.style.top.replace("px",""),r=n.style.left.replace("px","");o=parseInt(o),i=parseInt(i),a=parseInt(a),r=parseInt(r),((o>=a?o-a:a-o)>=6||(i>=r?i-r:r-i)>=6)&&(e.state.wasDragged||e.setState({wasDragged:!0}))}},e.handleMouseDown=function(t){var n=t.target,o=document.getElementById(e.props.alternative.get("viewId"));e.setState({transform:o.style.transform,left:o.style.left,top:o.style.top}),n.addEventListener("mousemove",e.move,!0)},e.handleMouseUp=function(t){t.stopPropagation();var n=t.target;!1!==e.props.alternative.get("altView")||e.state.wasDragged?(e.setState({top:0,left:0,wasDragged:!1}),n.removeEventListener("mousemove",e.move,!0)):e.props.alternative.get("isSelected")?e.props.deselectAlternative(e.props.alternative.get("viewId")):e.props.selectAlternative(e.props.alternative.get("viewId"))},e}return Object(ge.a)(n,[{key:"render",value:function(){var e="C";this.props.alternative.get("isSelected")?e="A":!this.props.alternative.get("isSelected")&&this.props.selectedAlts.includes(this.props.alternative.get("refId"))&&(e="B");var t=we()({[Le.a.alternative]:"C"===e,[Le.a["alternative-selected"]]:"A"===e,[Le.a["alternative-selected-related"]]:"B"===e}),n=this.props.layoutForAlt?this.props.layoutForAlt.w:1,o=this.props.layoutForAlt?this.props.layoutForAlt.h:1,a={width:(this.props.alternativeImageSize-12)*n,height:(this.props.alternativeImageSize-20)*o},r={width:(this.props.alternativeImageSize-22)*n,height:(this.props.alternativeImageSize-30)*o};return i.a.createElement("div",{id:this.props.alternative.get("viewId"),className:"alt alt-ref-"+this.props.alternative.get("refId")+" alt-view-"+this.props.alternative.get("viewId")+" "+t,style:a,onDoubleClick:this.handleDoubleClick,onMouseEnter:He()(this.handleHover.bind(this,!0)),onMouseLeave:He()(this.handleHover.bind(this,!1)),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},"A"!==e&&"E"!==e||!1!==this.props.alternative.get("isLoading")?null:i.a.createElement(Ne.r,{className:Le.a["alternative-toggle1"],onMouseUp:this.toggleAltView}),"A"!==e&&"E"!==e||!1!==this.props.alternative.get("isLoading")?null:i.a.createElement(Ne.d,{className:Le.a["alternative-toggle2"],onMouseUp:this.handleDeleteClick}),i.a.createElement("div",null,!this.props.alternative.get("altView")||"A"!==e&&"E"!==e?!0===this.props.alternative.get("isLoading")?i.a.createElement("div",null,i.a.createElement(Pe.a,{style:{marginTop:"37.5%",marginLeft:"37.5%"}})):i.a.createElement("img",{onDragStart:this.handleDragStart,src:R(this.props.alternative),style:r,className:Le.a["alternative-image"],alt:"img-"+this.props.alternative.get("viewId")}):i.a.createElement(Re,{width:r.width,height:r.height,customStyle:"padding: 5px",className:Le.a["alternative-image"],gltf:this.props.alternative.get("gltf"),id:this.props.alternative.get("altView")})))}}]),n}(o.PureComponent),Ve=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).renderAlternatives=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return i.a.createElement("div",{key:e.get("viewId"),"data-grid":o.state.layouts.find((function(t){return t.i===e.get("viewId")}))},i.a.createElement(Je,Object.assign({isResizable:!0,alternative:e,key:e.get("viewId"),layoutForAlt:o.state.layouts.find((function(t){return t.i===e.get("viewId")}))},t)))}))},o.onLayoutChange=function(e){o.setState({layouts:e})},o.state={layouts:[]},o}return Object(ge.a)(n,[{key:"render",value:function(){var e=N(this.props.layoutForCollection.get("w"),5,L.get("CELL_DIM"),0),t=Math.floor((e-40)/170),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0,o=0,i=L.get("DEFAULT_ALT_WIDTH"),a=L.get("DEFAULT_ALT_HEIGHT"),r=0;return e.map((function(e){var l={x:n,y:o,w:i,h:a,i:e};return(r+=1)%t===0?(r=0,o+=1,n=0):n+=1,l}))}(this.props.altsInCollection.map((function(e){return e.get("viewId")})),t);return i.a.createElement(ye.a,{width:t*this.props.alternativeImageSize,rowHeight:this.props.alternativeImageSize-20,isResizable:!0,cols:t,onLayoutChange:this.onLayoutChange,className:Te.a["alternative-container"],item:this.props.altsInCollection.size,compactType:"horizontal",margin:[10,10],containerPadding:this.margin,layout:n.toJS(),useCSSTransforms:!1},this.renderAlternatives(this.props.altsInCollection,{alternativeImageSize:this.props.alternativeImageSize,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,toggleAltView:this.props.toggleAltView,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts}))}}]),n}(o.PureComponent),We=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return W(this.props.alternativeImageSize,i.a.createElement(Ve,this.props))}}]),n}(o.Component),Ue=Object(l.c)((function(e){return{alternativeImageSize:e.settings.get("alternativeImageSize")}}))(We),Ge=n(32),Fe=n.n(Ge),ze=n(40),Ye=n.n(ze),Qe=n(98),Ke=n(123),qe=n(7),Xe=n(46),Ze=n.n(Xe),$e=n(255),et=n(402),tt=n(659),nt=n(664),ot=n(662),it=n(663),at=n(661),rt=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleOk=function(){null!=o.props.confirmAction&&o.props.confirmAction(),o.setState({open:!1})},o.handleCancel=function(){o.setState({open:!1}),null!=o.props.confirmAction&&o.props.handleDeleteCancel()},o.state={open:!0,pressedOk:!1,pressedcancel:!1},o}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(tt.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(at.a,{id:"alert-dialog-title"},"Warning"),i.a.createElement(ot.a,null,i.a.createElement(it.a,{id:"alert-dialog-description"},this.props.message)),i.a.createElement(nt.a,null,i.a.createElement(et.a,{onClick:this.handleCancel,color:"primary"},"Cancel"),i.a.createElement(et.a,{onClick:this.handleOk,color:"primary",autoFocus:!0},"OK"))))}}]),n}(o.PureComponent),lt=n(62),st=n.n(lt),ct=n(240),ut=n.n(ct);n(217);var dt=function(e){return o.createElement("svg",Object.assign({viewBox:"1 1 18 18",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"brush_svg__cls-15",fill:"none",stroke:"#1d1d1b",strokeWidth:2.381,strokeMiterlimit:10,d:"M5.704 6.757h6.876"}),o.createElement("path",{className:"brush_svg__cls-1",d:"M12.924 6.754h.688a.69.69 0 01.688.688v1.374a.69.69 0 01-.688.688h-3.313a1.445 1.445 0 00-1.5 1.373v1.378",fill:"none",stroke:"#1d1d1b",strokeWidth:.265,strokeMiterlimit:10}),o.createElement("path",{className:"brush_svg__cls-16",fill:"none",stroke:"#1d1d1b",strokeWidth:1.587,strokeLinecap:"round",strokeMiterlimit:10,d:"M8.799 12.599v2.408"}))};var pt=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"CartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M3.825 8.042L7.94 3.928"}),o.createElement("path",{className:"CartesianProduct_svg__cls-7",d:"M4.145 7.722l-.251-1.028h-.038l-.629 1.459-.85 1.33 1.33-.85 1.46-.629V7.97zM7.62 4.244l-1.029-.248v-.038l1.46-.629 1.333-.853-.853 1.333-.618 1.46H7.88z",fill:"#1d1d1b"}),o.createElement("path",{className:"CartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M7.94 8.042L3.825 3.928"}),o.createElement("path",{className:"CartesianProduct_svg__cls-7",d:"M7.62 7.722l-1.029.252v.034l1.46.633 1.333.85-.853-1.33-.618-1.448H7.88zM4.145 4.248l-.251 1.028H3.86l-.633-1.459-.85-1.333 1.33.853 1.46.629V4z",fill:"#1d1d1b"}))};var gt=function(e){return o.createElement("svg",Object.assign({viewBox:"2 0 18 18",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,d:"M6.104 4.858v7.885M7.958 4.858v7.885"}),o.createElement("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,strokeDasharray:"1.6,1.6",d:"M9.813 4.858v7.885M11.67 4.858v7.885"}),o.createElement("path",{className:"coords_svg__cls-4",fill:"none",stroke:"#1d1d1b",strokeWidth:.529,strokeMiterlimit:10,d:"M13.525 4.858v7.885"}))};var ht=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"directEditRef_svg__cls-7",d:"M11.488 5.336h-1.265v-.87h1.265V3.16h.895v1.307h1.265v.869h-1.265v1.306h-.895z",fill:"#1d1d1b"}),o.createElement("path",{className:"directEditRef_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.28575,strokeMiterlimit:10,d:"M6.355 1.499H1.734v5.57"}),o.createElement("path",{className:"directEditRef_svg__cls-7",d:"M5.86 1.495l-.644 1.021.035.023 1.68-.667 1.752-.38-1.752-.382L5.25.444l-.035.019z",fill:"#1d1d1b"}),o.createElement("path",{className:"directEditRef_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.28575,strokeMiterlimit:10,d:"M5.677 13.649h4.618v-5.57"}),o.createElement("path",{className:"directEditRef_svg__cls-7",d:"M6.192 13.649l.624-1.029-.034-.023-1.684.667-1.752.381 1.752.381 1.68.667h.035z",fill:"#1d1d1b"}),o.createElement("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M8.554 11.824V3.233"}),o.createElement("circle",{className:"directEditRef_svg__cls-9",cx:8.554,cy:6.673,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M5.868 11.824V3.233"}),o.createElement("circle",{className:"directEditRef_svg__cls-9",cx:5.868,cy:9.092,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"directEditRef_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.25 3.233v8.591"}),o.createElement("circle",{className:"directEditRef_svg__cls-9",cx:3.25,cy:8.216,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}))};var ft=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M8.839 10.432V1.841"}),o.createElement("circle",{className:"edirRef_svg__cls-11",cx:8.839,cy:5.281,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10}),o.createElement("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M6.153 10.432V1.841"}),o.createElement("circle",{className:"edirRef_svg__cls-11",cx:6.153,cy:7.7,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10}),o.createElement("path",{className:"edirRef_svg__cls-10",fill:"none",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10,d:"M3.536 1.841v8.591"}),o.createElement("circle",{className:"edirRef_svg__cls-11",cx:3.536,cy:6.824,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.572,strokeMiterlimit:10}))};var mt=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"editClone_svg__cls-7",d:"M9.474 4.236H8.213v-.873h1.26V2.06h.896v1.303h1.261v.873h-1.26v1.303h-.9z",fill:"#1d1d1b"}),o.createElement("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M6.54 10.724V2.129"}),o.createElement("circle",{className:"editClone_svg__cls-9",cx:6.54,cy:5.573,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.858 10.724V2.129"}),o.createElement("circle",{className:"editClone_svg__cls-9",cx:3.858,cy:7.989,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"editClone_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M1.237 2.129v8.595"}),o.createElement("circle",{className:"editClone_svg__cls-9",cx:1.237,cy:7.116,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}))};var vt=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"parameterSpecturm_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10,d:"M3.187 1.471v8.892M5.903 1.398v8.897M8.677 1.471v8.892"}),o.createElement("path",{className:"parameterSpecturm_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.21 7.841l2.712-4.157M8.715 6.031L5.922 3.684M5.907 8.531l2.808-2.5M5.93 6.187l2.785-.156M3.29 7.845l2.61.663M5.93 6.187L3.21 7.841"}),o.createElement("circle",{className:"parameterSpecturm_svg__cls-9",cx:5.903,cy:6.218,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"parameterSpecturm_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.21 7.841l2.724-5.867M5.903 2.134l2.812 3.897M8.715 6.031L5.903 9.944M3.21 7.841l2.693 2.103"}),o.createElement("circle",{className:"parameterSpecturm_svg__cls-9",cx:3.187,cy:7.845,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("circle",{className:"parameterSpecturm_svg__cls-9",cx:8.677,cy:6.012,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}))};var Et=function(e){return o.createElement("svg",Object.assign({viewBox:"1 2 18 18",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{d:"M13.09 13.143a5.762 5.327 0 01-4.194-1.753 5.762 5.327 0 01-1.467-4.034",fill:"none",stroke:"#131d1b",strokeWidth:.265,strokeMiterlimit:8.5}),o.createElement("circle",{transform:"rotate(60)",className:"pareto_svg__cls-2",cx:16.865,cy:-3.434,r:.873,fill:"#fff",stroke:"#131d1b",strokeWidth:.2,strokeMiterlimit:8.5}),o.createElement("circle",{r:.873,cy:8.936,cx:7.536,className:"pareto_svg__cls-2",fill:"#fff",stroke:"#131d1b",strokeWidth:.2,strokeMiterlimit:8.5}),o.createElement("circle",{r:.873,cy:-2.033,cx:14.403,className:"pareto_svg__cls-2",transform:"rotate(60)",fill:"#fff",stroke:"#131d1b",strokeWidth:.2,strokeMiterlimit:8.5}))};var St=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"perturbation_svg__cls-3",fill:"none",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10,d:"M1.413 1.431v8.897M4.13 1.363v8.892M10.451 1.431v8.897M7.121 1.229v8.897M4.168 6.194l2.953-.145M1.413 5.439l2.743.682M7.185 6.022l3.266.347"}),o.createElement("circle",{className:"perturbation_svg__cls-15",cx:1.413,cy:5.439,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),o.createElement("circle",{className:"perturbation_svg__cls-15",cx:10.451,cy:6.369,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),o.createElement("circle",{className:"perturbation_svg__cls-15",cx:4.13,cy:6.182,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),o.createElement("circle",{className:"perturbation_svg__cls-15",cx:7.121,cy:6.049,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.286,strokeMiterlimit:10}),o.createElement("path",{className:"perturbation_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M4.084 3.569l2.953-.149M1.329 2.81l2.74.682M7.102 3.393l3.265.347M4.084 8.967l2.953-.144M1.329 8.213l2.74.682M7.102 8.796l3.265.347"}))};var yt=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M9.203 10.33V1.738"}),o.createElement("circle",{className:"sketch_svg__cls-9",cx:9.203,cy:5.179,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M6.136 10.33V1.738"}),o.createElement("circle",{className:"sketch_svg__cls-9",cx:6.136,cy:7.598,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"sketch_svg__cls-8",fill:"none",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10,d:"M3.137 1.738v8.592"}),o.createElement("circle",{className:"sketch_svg__cls-9",cx:3.137,cy:6.722,r:.663,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.476,strokeMiterlimit:10}),o.createElement("path",{className:"sketch_svg__cls-16",d:"M1.754 4.238a.1.1 0 01.107 0l.076.038.149.072.3.13.576.251a3.429 3.429 0 003.43-.38c.17-.111.342-.226.51-.351.167-.126.316-.282.48-.404a6.096 6.096 0 00.472-.43 1.749 1.749 0 00.248-.275 1.273 1.273 0 01.335-.21 1.989 1.989 0 011.444 0 4.282 4.282 0 01.633.275c.099.053.194.114.29.175l.136.1.065.049.034.026v.08c0 .057-.06.046-.072.038h-.038l-.072-.034-.153-.065-.297-.13a3.147 3.147 0 00-.606-.178 1.375 1.375 0 00-1.337.316.518.518 0 00-.21.206c-.125.171-.251.38-.404.552a3.764 3.764 0 01-.499.488 5.608 5.608 0 01-.548.434 4.012 4.012 0 01-2.728.762 3.383 3.383 0 01-1.353-.465 2.362 2.362 0 01-.556-.43 4.972 4.972 0 01-.225-.27l-.103-.142c-.053-.106-.118-.122-.084-.228z",fill:"#e30613"}))};var Ct=function(e){return o.createElement("svg",Object.assign({viewBox:"-4 -2 20 16",height:e.height,width:e.width},e),o.createElement("title",{id:"title"},e.title),o.createElement("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M4.175 8.196l4.114-4.119"}),o.createElement("path",{className:"spectralCartesianProduct_svg__cls-7",d:"M4.495 7.876l-.252-1.033h-.038L3.576 8.33l-.853 1.334 1.333-.854 1.46-.628v-.035zM7.97 4.397l-1.03-.251v-.038l1.46-.629 1.333-.85-.85 1.33-.628 1.46h-.034z",fill:"#1d1d1b"}),o.createElement("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M8.289 8.192L4.175 4.081"}),o.createElement("path",{className:"spectralCartesianProduct_svg__cls-7",d:"M7.97 7.872l-1.03.251v.038l1.46.63 1.33.853-.846-1.315-.629-1.46h-.034zM4.495 4.397l-.252 1.029h-.038l-.629-1.46-.85-1.352 1.33.85 1.46.632v.03z",fill:"#1d1d1b"}),o.createElement("path",{className:"spectralCartesianProduct_svg__cls-1",fill:"none",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10,d:"M1.275 1.688v8.897M10.895 10.585V1.688"}),o.createElement("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:1.275,cy:8.062,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),o.createElement("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:1.275,cy:3.247,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),o.createElement("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:10.895,cy:4.21,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}),o.createElement("circle",{className:"spectralCartesianProduct_svg__cls-2",cx:10.895,cy:9.026,r:.69,fill:"#fff",stroke:"#1d1d1b",strokeWidth:.381,strokeMiterlimit:10}))};var _t=st.a.colorCurrentCommand,bt=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleClick=function(e){switch(e){case"search":o.setState({showSearch:!o.state.showSearch,showEdit:!1,showGenerate:!1,showSettings:!1});break;case"edit":o.setState({showEdit:!o.state.showEdit,showSearch:!1,showGenerate:!1,showSettings:!1});break;case"generate":o.setState({showGenerate:!o.state.showGenerate,showSearch:!1,showEdit:!1,showSettings:!1});break;case"settings":o.setState({showSettings:!o.state.showSettings,showSearch:!1,showGenerate:!1,showEdit:!1});break;case"unlock":o.setState({showUnlock:!1});break;case"lock":o.setState({showUnlock:!0})}},o.handleUnlockclick=function(){o.props.lockAspectRatio(!0),o.handleClick("unlock")},o.handleLockClick=function(){o.props.lockAspectRatio(!1),o.handleClick("lock")},o.state={showSearch:!1,showEdit:!1,showGenerate:!1,showSettings:!1,showUnlock:!0},o}return Object(ge.a)(n,[{key:"render",value:function(){var e=we()({[st.a["button-visible"]]:!0===this.state.showSearch,[st.a["button-hidden"]]:!1===this.state.showSearch}),t=we()({[st.a["button-visible"]]:!0===this.state.showEdit,[st.a["button-hidden"]]:!1===this.state.showEdit}),n=we()({[st.a["button-visible"]]:!0===this.state.showGenerate,[st.a["button-hidden"]]:!1===this.state.showGenerate}),o=we()({[st.a["button-visible"]]:!0===this.state.showSettings,[st.a["button-hidden"]]:!1===this.state.showSettings}),a=this.state.showSearch||this.props.isBrushing||this.props.isSampling?{backgroundColor:_t}:{},r=this.state.showEdit||this.props.isSketching||this.props.isAltering||this.props.isLiveEditing||this.props.isCloning?{backgroundColor:_t}:{},l=this.state.showGenerate||this.props.isCPing||this.props.isPSing||this.props.isSAing||this.props.isSCPing?{backgroundColor:_t}:{},s=this.state.showSettings||this.props.isToggling?{backgroundColor:_t}:{},c=(this.state.showUnlock,this.props.isBrushing?{backgroundColor:_t}:{}),u=this.props.isSketching?{backgroundColor:_t}:{},d=this.props.isAltering?{backgroundColor:_t}:{},p=this.props.isSampling?{backgroundColor:_t}:{},g=this.props.isLiveEditing?{backgroundColor:_t}:{},h=this.props.isCloning?{backgroundColor:_t}:{},f=this.props.isToggling?{backgroundColor:_t}:{},m=this.props.isCPing?{backgroundColor:_t}:{},v=this.props.isPSing?{backgroundColor:_t}:{},E=this.props.isSAing?{backgroundColor:_t}:{},S=this.props.isSCPing?{backgroundColor:_t}:{},y=[0,1,2,3,4,5,6],C=y[0];return i.a.createElement("div",{className:st.a["button-div"]},i.a.createElement(Oe.b.Provider,{value:{size:"1.80em"}},i.a.createElement(Ne.t,{title:"search",className:st.a.button,style:a,onClick:this.handleClick.bind(this,"search")})),i.a.createElement(dt,{height:"12mm",width:"12mm",title:"brush axis",className:e,style:c,onClick:this.props.handleBrushAxisClick}),i.a.createElement(Et,{height:"12mm",width:"12mm",title:"sample axis",className:e,style:p,onClick:this.props.handleSampleAxisClick}),i.a.createElement(Oe.b.Provider,{value:{size:"1.80em"}},i.a.createElement(Ne.g,{title:"edit",className:st.a.button,style:r,onClick:this.handleClick.bind(this,"edit")})),i.a.createElement(yt,{height:"12mm",width:"12mm",title:"sketch alternative",className:t,style:u,onClick:this.props.handleSketchAlternativeClick}),i.a.createElement(ft,{height:"12mm",width:"12mm",title:"edit alternative",className:t,style:d,onClick:this.props.toggleAlterMode}),i.a.createElement(mt,{height:"12mm",width:"12mm",title:"clone-edit alternative",className:t,style:h,onClick:this.props.handleCloneEditAlternativeClick}),i.a.createElement(ht,{height:"12mm",width:"12mm",title:"live-edit alternative",className:t,style:g,onClick:this.props.toggleLiveEditMode}),i.a.createElement(Oe.b.Provider,{value:{size:"1.80em"}},i.a.createElement(Ne.m,{title:"generate",className:st.a.button,style:l,onClick:this.handleClick.bind(this,"generate")})),i.a.createElement(pt,{height:"12mm",width:"12mm",title:"cartesian product",className:n,style:m,onClick:this.props.handleCartesianProductClick}),i.a.createElement(Ct,{height:"12mm",width:"12mm",title:"spectral cartesian product",className:n,style:S,onClick:this.props.handleSpectralCartesianProductClick}),i.a.createElement(St,{height:"12mm",width:"12mm",title:"perturbation",className:n,style:E,onClick:this.props.handleSensitivityAnalysisClick}),this.props.isSAing?i.a.createElement("input",{type:"text",onChange:this.props.onSensitivityAnalysisDeltaChange,placeholder:"delta"}):null,i.a.createElement(vt,{height:"12mm",width:"12mm",title:"parameter spectra/sensitivity analysis",className:n,style:v,onClick:this.props.handleParameterSpectraClick}),this.props.isPSing?i.a.createElement("div",null,i.a.createElement(ut.a,{options:y,onChange:this.props.onParameterSpectraSelect,value:C,placeholder:"arity"}),i.a.createElement("input",{type:"text",onChange:this.props.onParameterSpectraDeltaChange,placeholder:"delta"})):null,i.a.createElement(Oe.b.Provider,{value:{size:"1.80em"}},i.a.createElement(Ne.u,{title:"settings",className:st.a.button,style:s,onClick:this.handleClick.bind(this,"settings")})),i.a.createElement(gt,{height:"12mm",width:"12mm",title:"toggle dimension",className:o,style:f,onClick:this.props.selectParameter}),i.a.createElement(Oe.b.Provider,{value:{size:"1.80em"}},this.state.showUnlock?i.a.createElement(Ne.n,{title:"lock aspect ratio",className:st.a.button,onClick:this.handleUnlockclick}):i.a.createElement(Ne.o,{title:"lock aspect ratio",className:st.a.button,onClick:this.handleLockClick,style:{backgroundColor:_t}})))}}]),n}(o.PureComponent),wt=n(8),Nt=function(e){for(var t=[],n=0;n<e;n++)t[n]=[];return t},At=function(e){return new Set(e).size},It=function(e,t){var n=new Map;return e.forEach((function(e){var o=t(e),i=n.get(o);i?i.push(e):n.set(o,[e])})),n},Ot=function(e,t){for(var n=0;n<e.length-1;n+=2)t(e[n],e[n+1])};var kt=20,Tt=20,jt=145,Lt=40,Pt=Ze.a.colorWhite,xt=Ze.a.colorUnselected,Mt=Ze.a.colorHovered,Dt=Ze.a.colorSelected,Rt=Ze.a.colorSelectedRelated,Bt=(Ze.a.colorHoveredRelated,Ze.a.colorHoveredSelected,Ze.a.colorSketch),Ht=Ze.a.colorSketchPath,Jt=Ze.a.colorBrush,Vt=(Ze.a.colorBrushSelected,Ze.a.colorBrushed),Wt=Ze.a.colorQuerySelected,Ut=Ze.a.colorQueryNotSelected,Gt=Ze.a.colorSelectedCoordinate,Ft=(Ze.a.colorCurrentCommand,Ze.a.opacity0),zt=Ze.a.opacityMid1,Yt=Ze.a.opacityMid2,Qt=Ze.a.opacity1,Kt=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;Object(pe.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){o.drawChart(o.props.width,o.props.height,o.state.inputParams,o.state.outputParams,o.state.dimensions,o.state.isBrushing,o.state.isSampling,o.state.sketchData)},o.componentDidUpdate=function(){o.queryEngine.advMode&&(o.queryEngine={current:o.queryEngine.memo.current,temp:o.queryEngine.memo.temp,total:o.queryEngine.memo.total,advMode:o.queryEngine.memo.advMode,memo:{}}),o.drawChart(o.props.width,o.props.height,o.state.inputParams,o.state.outputParams,o.state.dimensions,o.state.isBrushing,o.state.isSampling,o.state.sketchData)},o.drawChart=function(e,t,n,i,a,r,l,s){var c=o.brushes,u=o.brushSelections,d=Object.assign([],o.state.selectedDimensions),p=o.commitChanges,g=o.changeEditingState,h=o.submitChanges,f=o.findNonEmptyBrushes,m=o.findNonEmptyOutputBrushes,v=o.findNonEmptyInputBrushes,E=o.commitDimensions,S=o.commitValueBands,y=o.commitBrushSelections,C=o.commitSketch,_=o.reOrderDefaultOptions,b=o.updateBrushes,w=o.alreadySelected,N=o.toggleAdjustInputBrushes,A=o.state.adjustInputBrushes,I=o.samples,O={},k=o.props.alternatives.get("alternatives"),T=o.props.scales.get("valueBands").toJS(),j=o.props.altsInCollection,L=j.map((function(e){return e.get("parallelData")})).toJS(),P=j.map((function(e){return e.get("viewId")})).toJS(),x=j.filter((function(e){return!0===e.get("isSelected")})).map((function(e){return e.get("parallelData")})).toJS(),M=o.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(o.props.collection.get("collectionNameView"))[1],R=o.props.collection.get("viewId"),B=o.brushEngine,H=o.queryEngine,J={};a.map((function(e){var n=e;J[n]=qe.h().domain([T[e].min,T[e].max]).range([t-200,50]).nice();var o=J[n].domain();o[0]===o[1]&&J[n].domain([o[0],o[0]+10]).nice()}));var V=qe.i().range([0,e-30]).padding(2).domain(a),W=qe.j(o.svgEl),U=qe.j("body").select("#textField").style("display","none").style("z-index","10").style("position","absolute").style("width","28px").style("background-color",Pt).style("border","solid").style("border-width","0.5px").on("keypress",(function(){13===qe.e.keyCode&&(isNaN(qe.e.target.value)?S("NaN"):"min"===this.getAttribute("which")&&qe.e.target.value<=this.getAttribute("bound")||"max"===this.getAttribute("which")&&qe.e.target.value>=this.getAttribute("bound")?S("OK",this.getAttribute("dim"),this.getAttribute("which"),qe.e.target.value):S("OoB"),qe.e.target.value=null)})),G=qe.j("body").select("#myTooltip").style("position","absolute").style("z-index","10").style("background-color",Pt).style("border","solid").style("border-width","0.25px").style("border-radius","6px").style("box-shadow","1px 1px 2px 1px").style("padding","5px").style("visibility","hidden"),F=W.selectAll(".myPath").data(L).attr("d",ee).style("fill","none").style("stroke-width",(function(){return r||l?2.2:3.1})).style("pointer-events",(function(){return r?"none":"stroke"})),z=(W.selectAll(".myPoint").data(x).selectAll("circle").data((function(e){return Object.entries(e)})).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return J[e[0]](e[1])})).enter().append("circle").attr("class","data-points-"+M).attr("id",(function(e,t){return"data-point-"+t+"-on-"+e[0]+"-"+M})).attr("r",5.5).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return J[e[0]](e[1])})).style("fill",Dt).style("stroke",xt).style("stroke-width",1.9).on("mouseover",(function(e){G.style("visibility","visible").style("left",qe.e.pageX+"px").style("top",qe.e.pageY-28+"px").text(Math.round(e[1]))})).on("mouseout",(function(e){G.style("visibility","hidden")})),W.selectAll(".myAxis").data(a).attr("transform",(function(e){return"translate("+V(e)+")"})).style("cursor",(function(){return o.state.isSketching?"pointer":"move"})).style("fill",(function(e){if(d.includes(e))return Gt})).style("stroke-width",(function(e){return i.includes(e)?2.6:1.4})).each((function(e){qe.j(this).call(qe.a().scale(J[e]))})));z.each((function(e){if(i.includes(e)){var t=L.map((function(t){return t[e]})),n=Math.max.apply(Math,Object(Ee.a)(t)),o=Math.min.apply(Math,Object(Ee.a)(t));qe.j(this.childNodes[1].childNodes[1]).on("dblclick",(function(){U.node().focus(),U.attr("dim",this.parentNode.parentNode.getAttribute("dim")).attr("which","min").attr("value",qe.j(this).text()).attr("bound",o).style("display","inline-block").style("left",qe.e.pageX-40+"px").style("top",qe.e.pageY-7+"px").property("value",qe.j(this).text())})),qe.j(this.childNodes[this.childNodes.length-1].childNodes[1]).on("dblclick",(function(){U.node().focus(),U.attr("dim",this.parentNode.parentNode.getAttribute("dim")).attr("which","max").attr("value",qe.j(this).text()).attr("bound",n).style("display","inline-block").style("left",qe.e.pageX-40+"px").style("top",qe.e.pageY-7+"px").property("value",qe.j(this).text())}))}}));W.selectAll(".myBrushText").attr("font-family","sans-serif").attr("font-size","12px").attr("fill","black");var Y,Q,K=W.select("#myBrushTextN"),q=W.select("#myBrushTextS"),X=W.selectAll(".myClickAxis").data(a).attr("transform",(function(e){return"translate("+V(e)+")"})).style("cursor",(function(){return o.state.isSketching?"pointer":"move"})).style("opacity",Ft).each((function(e,t){qe.j(this).call(qe.a().scale(J[e]))})),Z=(X.selectAll("path.domain").data(a).style("stroke-width",20).style("opacity",Ft),z.append("text").attr("class","myText").style("text-anchor","start").style("text-shadow","0 1px 0"+Pt).style("cursor","move").attr("y",33).attr("x",-20).text((function(e){return e})).style("fill",(function(e){return d.includes(e)?Dt:"black"})).style("font-weight",(function(e){return i.includes(e)||d.includes(e)?"bold":"normal"})).attr("transform","rotate(-22)"));(o.state.isSampling&&f(c).then((function(e){e.map((function(e,t){qe.j("body").select("[name=inputBox-"+(t+1)+"]").style("display","inline-block").style("z-index","10").style("position","absolute").style("width","24px").style("background-color",Pt).style("border","solid").style("border-radius","4px").style("border-width","0.5px").on("input",(function(){isNaN(qe.e.target.value)||(o.samples[e.dimension]=qe.e.target.value,console.log(e.dimension+" : "+qe.e.target.value))}))}))})).catch((function(e){return console.log(e)})),o.state.isSketching&&X.on("click",(function(e){Object.keys(s).includes(e)?(s[e]=J[e].invert(qe.g(this)[1]),W.selectAll(".mySketchPoint").select("#"+e).attr("cy",J[e](J[e].invert(qe.g(this)[1])))):n.includes(e)&&(Object.assign(s,{[e]:J[e].invert(qe.g(this)[1])}),C(s)),$(s)})),o.state.isCPing||o.state.isAltering||o.state.isLiveEditing||o.state.isCloning||o.state.isPSing||o.state.isSCPing)&&Z.style("cursor","pointer").on("click",(function(e){if(d.includes(e)){var t=d.indexOf(e);d.splice(t,1)}else n.includes(e)&&d.push(e);E(d)})).on("mouseover",(function(e){Y=qe.j(this).style("fill"),Q=qe.j(this).style("font-weight"),qe.j(this).style("fill",Mt).style("font-weight","bold")})).on("mouseout",(function(e){qe.j(this).style("fill",Y).style("font-weight",Q)}));function $(e){var t=W.selectAll(".mySketchPoint").data([e]).selectAll("circle").data((function(e){return Object.entries(e)})).enter().append("circle").attr("id",(function(e){return e[0]})).attr("r",3.5).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return J[e[0]](e[1])})).style("fill",Bt).style("stroke",xt).style("stroke-width",.8),n=W.selectAll(".mySketchPath").data([e]).attr("d",te).style("fill","none").style("stroke-width",1.7).style("stroke",Ht).style("opacity",Qt);t.exit().remove(),n.exit().remove()}function ee(e){return e?qe.f()(a.map((function(t){return[ne(t),J[t](e[t])]}))):""}function te(e){return qe.f()(a.filter((function(e){return Object.keys(s).includes(e)})).map((function(t){return[ne(t),J[t](e[t])]})))}function ne(e){var t=O[e];return null==t?V(e):t}function oe(e){return e.transition().duration(500)}o.state.isBrushing||o.state.isSampling?(W.selectAll("polygon").remove(),function(e,o){var i,r=c.length<1;A&&m(c).then((function(t){E(t,e.multiPairs.map((function(e){return e.filter((function(e){for(var t=!0,o=0;o<e.length;o++){var i=e[o].split("_");n.includes(i[1])&&(t=!1)}return t}))}))).then((function(e){p(e).then((function(e){v(c).then((function(t){t.length>0&&t.map((function(t){for(var n=[],o=0;o<e.length;o++)n[0]?n[0]<e[o][t.dimension]&&(n[0]=e[o][t.dimension]):n[0]=e[o][t.dimension],n[1]?n[1]>e[o][t.dimension]&&(n[1]=e[o][t.dimension]):n[1]=e[o][t.dimension];n[0]==n[1]&&(n[0]=n[0]+5*(T[t.dimension].min+T[t.dimension].max)/100,n[1]=n[1]-5*(T[t.dimension].min+T[t.dimension].max)/100,n[0]>T[t.dimension].max&&(n[0]=T[t.dimension].max),n[1]<T[t.dimension].min&&(n[1]=T[t.dimension].min));var i=c.findIndex((function(e){return e.id===t.id}));c[i].extent=n})),N()})).catch((function(e){return N()}))})).catch((function(e){return N()}))})).catch((function(e){return N()}))})).catch((function(e){return N()}));function l(e){var t=this;qe.e.sourceEvent&&qe.e.sourceEvent.stopPropagation&&qe.e.sourceEvent.stopPropagation(),i=c.find((function(e){return e.id===t.getAttribute("id")})).extent,qe.k(".myBrush rect.selection").attr("fill",Jt),qe.k(".myBrush rect.selection").attr("x",-7.5),qe.k(".myBrush rect.selection").attr("width",15),qe.k(".myBrush rect.handle").attr("width",36).attr("height",22)}function s(t){var n=this,o=c.find((function(e){return e.id===n.id}));null!==qe.e.selection&&(o.extent=qe.e.selection.map(J[t].invert,J[t])),qe.j("#"+this.id).selectAll(".handle").each((function(e){"n"===e.type?K.attr("x",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+5).attr("y",parseInt(this.getAttribute("y"))).text(o.extent[0].toFixed(3)):q.attr("x",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+5).attr("y",parseInt(this.getAttribute("y"))+14).text(o.extent[1].toFixed(3))})),qe.k(".myBrush rect.selection").attr("x",-7.5),qe.k(".myBrush rect.selection").attr("width",15),f(c).then((function(t){E(t,e.multiPairs).then((function(e){p(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}function d(u){var p=this,g=c.find((function(e){return e.id===p.id}));if(void 0===g.temp)if(0===o.current||1===o.total||o.current===o.total)g.temp=++e.temp;else{for(var h=o.current-1;h<e.tempOrder.length;h++)e.tempOrder[h]+=1;g.temp=++o.temp,++e.temp;try{c.map((function(e){void 0!==e.temp&&e.temp>=o.temp&&e.id!==g.id&&++e.temp}))}catch(S){console.log(S)}}if(void 0===g.query&&(0!==o.current?g.query=o.current:g.query=null),null!==qe.b(this)&&i[0]===qe.b(this).map(J[u].invert,J[u])[0]&&i[1]===qe.b(this).map(J[u].invert,J[u])[1]&&(qe.e.sourceEvent&&qe.e.sourceEvent.shiftKey&&1!==g.temp&&!e.tempOrder.includes(c.find((function(e){return e.id===p.id})).temp)&&c.filter((function(e){return e.query===g.query})).length>1&&function(e){var t=c.find((function(t){return t.id===e.getAttribute("id")})),n=c.findIndex((function(e){return e===t})),o=c.find((function(e){return e.dimension===t.dimension&&e.count===t.count+1}));try{qe.j(e).call(qe.c().move,null),qe.j(e).remove(),qe.j("#"+o.id).attr("id",t.id)}catch(S){console.log(S)}o.id=t.id,o.count=t.count,c.splice(n,1)}(this),1===c.filter((function(e){return e.query===g.query})).length&&(qe.j(this.childNodes[1]).attr("fill",Wt),o.current=g.query,o.temp=g.temp)),o.advMode){if(!e.tempOrder.includes(e.temp)){e.tempOrder.push(e.temp),e.multiPairs=Nt(e.tempOrder.length);var m=At(Array.from(W.selectAll("polygon")._groups[0]).map((function(e){return e.id})));o.current=m+1,o.total=m+1,1===o.current?o.temp=e.multiPairs[o.current-1].length:o.current===o.total?o.temp=e.tempOrder.slice(-1)[0]:o.temp=e.tempOrder[o.current-2];var v=c.find((function(e){return null===e.query}));v&&(v.query=o.current)}o.advMode=!1}!function(e,o){var i,a=c.filter((function(t){return t.dimension===e})),u=a[a.length-1].id,p=document.getElementById(u);i=p?qe.b(p):[0,1];if(o+=1,i&&i[0]!==i[1]){var g="#"+M+"_"+e+"_brush"+(o-1);qe.j("#"+e+"on"+M).insert("g",g).attr("class","myBrush").each((function(i){var a=M+"_"+e+"_brush"+o;if(qe.j(this).attr("id",a).call(J[i].brush=qe.c().extent([[-10,50],[10,t-200]]).on("start",l).on("brush",s).on("end",d)),r)c.push({id:a,count:o,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(i)});else{var u=c.findIndex((function(e){return e.id===a}));u>=0?0===c[u].extent[0]&&0===c[u].extent[1]||J[i].brush.move(qe.j(this),[J[i](c[u].extent[0]),J[i](c[u].extent[1])]):c.push({id:a,count:o,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(i)})}qe.k(".myBrush rect.overlay").attr("x",-25).attr("width",40)}))}}(u,g.count),f(c).then((function(t){E(t,e.multiPairs).then((function(t){var n;n=t,W.selectAll("polygon").each((function(){this.remove()})),n.map((function(t,i){return t.map((function(t){if(t.length>0){var a=[[],[]];t.map((function(e){qe.j("#"+e).selectAll(".handle").each((function(e){"n"===e.type?a[0].push({x:parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14)),y:parseInt(this.getAttribute("y"))}):a[1].push({x:parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14)),y:parseInt(this.getAttribute("y"))})}))}));var r=a[0].sort((function(e,t){return e.x-t.x})).concat(a[1].sort((function(e,t){return t.x-e.x}))),l=[];r.map((function(e){l.push(e.x.toString()+","+e.y.toString()+" ")})),W.append("polygon").attr("id","polygon"+(i+1)).attr("points",l.join("")).style("fill",(function(){return o.current===parseInt(this.getAttribute("id").slice(-1))?Wt:Ut})).style("strokeWidth","0px").style("cursor","cell").on("click",(function(){console.log(this.getAttribute("id")),o.current!==parseInt(this.getAttribute("id").slice(-1))?(!0===o.advMode&&(o.advMode=!1),o.current=parseInt(this.getAttribute("id").slice(-1)),o.total=n.length,1===o.current?o.temp=n[o.current-1].length:o.current===o.total?o.temp=e.tempOrder.slice(-1)[0]:o.temp=e.tempOrder[o.current-2],qe.k("polygon").style("fill",Ut),qe.k("#"+this.getAttribute("id")).style("fill",Wt)):(o.memo={current:o.current,temp:o.temp,total:o.total,advMode:o.advMode},o.advMode=!0,o.current=0,o.temp=0,qe.k("#"+this.getAttribute("id")).style("fill",Ut))}))}}))})),qe.j("#drawArea").raise()})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),a.forEach((function(e){var t=c.filter((function(t){return t.dimension===e})),n=t[t.length-1];t.forEach((function(o,i){qe.j("#"+M+"_"+e+"_brush"+i).selectAll(".overlay").style("pointer-events",(function(){return i===t.indexOf(n)?"all":"none"}))}))})),qe.k(".myBrush rect.selection").attr("x",-7.5),qe.k(".myBrush rect.selection").attr("width",15),qe.k(".myBrush rect.handle").attr("width",36).attr("height",22),b(g,R),qe.j("#"+this.id).selectAll(".selection").each((function(e){qe.j("body").select("#"+g.id+"_input").style("left",parseInt(this.parentNode.parentNode.getAttribute("transform").slice(10,14))+"px").style("top",parseInt(this.getAttribute("y"))+100+"px").attr("value",I[g.dimension]?I[g.dimension]:0)}))}function p(e){return new Promise(function(){var t=Object(Qe.a)(Ye.a.mark((function t(n,o){var i,a;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=M.length+1,a=[],t.next=4,F.style("stroke",(function(t){var n=e.some((function(e){var n=At(e.map((function(e){return e[0].substring(i,e[0].indexOf("_",i))}))),o=Nt(n);if(!e.length)return!1;for(var a=e[0][0].substring(i,e[0][0].indexOf("_",i)),r=0,l=0;l<e.length;l++)a===e[l][0].substring(i,e[l][0].indexOf("_",i))?o[r].push(e[l]):(o[++r].push(e[l]),a=e[l][0].substring(i,e[l][0].indexOf("_",i)));return o.every((function(e){return e.some((function(e){return 2!==e.length||e[0].substring(i,e[0].indexOf("_",i))===e[1].substring(i,e[1].indexOf("_",i))?e.some((function(e){return(t[e.substring(i,e.indexOf("_",i))]!==c.find((function(t){return t.id===e})).extent[0]||t[e.substring(i,e.indexOf("_",i))]!==c.find((function(t){return t.id===e})).extent[1])&&(c.find((function(t){return t.id===e})).extent[1]<=t[e.substring(i,e.indexOf("_",i))]&&t[e.substring(i,e.indexOf("_",i))]<=c.find((function(t){return t.id===e})).extent[0])})):e.every((function(e){return(t[e.substring(i,e.indexOf("_",i))]!==c.find((function(t){return t.id===e})).extent[0]||t[e.substring(i,e.indexOf("_",i))]!==c.find((function(t){return t.id===e})).extent[1])&&(c.find((function(t){return t.id===e})).extent[1]<=t[e.substring(i,e.indexOf("_",i))]&&t[e.substring(i,e.indexOf("_",i))]<=c.find((function(t){return t.id===e})).extent[0])}))}))}))}))?g(this):h(this);return n===Vt&&a.push(t),n}));case 4:n(a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}function g(e){return u.includes(e.getAttribute("id"))||(u.push(e.getAttribute("id")),y(u)),D(k,e.getAttribute("id")).map((function(e){return e.get("viewId")})).toJS().map((function(e){qe.j(document.getElementById(e)).style("border","1.5px").style("border-style","solid").style("border-color",Rt).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Rt)})),w(e.getAttribute("id"))?Dt:Vt}function h(e){return u.includes(e.getAttribute("id"))&&(u.splice(u.indexOf(e.getAttribute("id")),1),y(u)),D(k,e.getAttribute("id")).map((function(e){return e.get("viewId")})).toJS().map((function(e){qe.j(document.getElementById(e)).style("border","none").style("border-style","none").style("border-color","none").style("border-radius","none").style("-webkit-box-shadow","none")})),xt}function E(e,t){return S.apply(this,arguments)}function S(){return(S=Object(Qe.a)(Ye.a.mark((function t(n,o){return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(Qe.a)(Ye.a.mark((function t(i,a){var r,l,s;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.length){t.next=18;break}if(0!==e.tempOrder.length){t.next=8;break}return t.next=4,C(n);case 4:r=t.sent,o[0]=r,t.next=15;break;case 8:l=Ye.a.mark((function t(i){var a;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=void 0,!e.tempOrder[i]){t.next=7;break}return t.next=4,C(n.splice(0,n.findIndex((function(t){return t.temp===e.tempOrder[i]}))));case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,C(n.splice(0,n.length));case 9:a=t.sent;case 10:o[i]=a;case 11:case"end":return t.stop()}}),t)})),s=0;case 10:if(!(s<=e.tempOrder.length)){t.next=15;break}return t.delegateYield(l(s),"t0",12);case 12:s++,t.next=10;break;case 15:i(o),t.next=19;break;case 18:a([[]]);case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(e){return _.apply(this,arguments)}function _(){return(_=Object(Qe.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Qe.a)(Ye.a.mark((function e(n,o){var i,r,l,s,c,u,d;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?(i=[],a.map((function(e){t.some((function(t){return t.dimension===e}))&&i.push(e)})),r=It(t,(function(e){return e.dimension})),l=[],i.map((function(e){l.push(r.get(e))})),s=[],s=i.reduce((function(e,t,n,o){return n%2!==0&&n%2!==1||e.push(o.slice(n,n+2)),e}),[]),c=[],s.map((function(e,t){return l.map((function(t,n){e.length&&c.push(t.filter((function(t){return t.dimension===e[0]})).map((function(e){return e.id})).concat(t.filter((function(t){return t.dimension===e[1]})).map((function(e){return e.id}))))}))})),1===(u=c.filter((function(e){return e.length}))).length?n(u):u.length>1&&(d=[],Ot(u,(function(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)d.push([e[n],t[o]])})),n(d))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}z.append("g").attr("class","myBrush").each((function(e){var o=M+"_"+e+"_brush0";if(qe.j(this).attr("id",o).call(J[e].brush=qe.c().extent([[-10,50],[10,t-200]]).on("start",l).on("brush",s).on("end",d)),r)c.push({id:o,count:0,dimension:e,extent:[0,0],temp:void 0,query:void 0,isInput:n.includes(e)});else{var i=c.findIndex((function(e){return e.id===o}));i>=0&&(0===c[i].extent[0]&&0===c[i].extent[1]||J[e].brush.move(qe.j(this),[J[e](c[i].extent[0]),J[e](c[i].extent[1])]))}})),qe.k(".myBrush rect.overlay").attr("x",-25).attr("width",40)}(B,H)):W.selectAll("polygon").remove(),o.state.isSketching||function(){var t=Object.assign([],a);z.call(qe.d().subject((function(e){return{x:V(e)}})).on("start",(function(e){O[e]=V(e)})).on("drag",(function(t){O[t]=Math.min(e,Math.max(0,qe.e.x)),W.selectAll(".myPath").attr("d",ee),a.sort((function(e,t){return ne(e)-ne(t)})),V.domain(a),W.selectAll(".myAxis").attr("transform",(function(e){return"translate("+ne(e)+")"}))})).on("end",(function(e){delete O[e],oe(qe.j(this)).attr("transform","translate("+V(e)+")"),oe(W.selectAll(".myPath")).attr("d",ee),oe(W.selectAll(".data-points")).attr("cx",(function(e){return V(e[0])})).attr("cy",(function(e){return J[e[0]](e[1])})),JSON.stringify(t)!==JSON.stringify(a)&&_()})))}(),function(){var e,t,o,i,a,r,l=[],s={},c=[];W.selectAll(".data-points-"+M).call(qe.d().on("start",(function(e){if(g(!0),n.includes(e[0])){qe.j(document.getElementById(e[0]+"on"+M)).style("fill",Gt),qe.j(document.getElementById(e[0]+"on"+M).children[document.getElementById(e[0]+"on"+M).children.length-1]).style("fill",Dt).style("font-weight","bold");var a=qe.j(this.parentNode).nodes()[0].attributes.id.nodeValue;i=P.indexOf(a),t=L[i][e[0]],qe.k("#"+this.getAttribute("id")).each((function(){return r=this.parentElement.getAttribute("id"),i=P.indexOf(r),o=L[i][e[0]],c.push(r),l.push({id:r,index:i,dim:e[0],origin:o})})),0!==d.length&&d.map((function(e){qe.k("#data-point-"+Object.keys(x[0]).indexOf(e)+"-on-"+e+"-"+M).each((function(){return r=this.parentElement.getAttribute("id"),i=P.indexOf(r),o=L[i][e],c.push(r),l.push({id:r,index:i,dim:e,origin:o})}))}))}})).on("drag",(function(c){c[1]=J[c[0]].invert(qe.e.y),n.includes(c[0])&&(a=c[1]-t,qe.k("#"+this.getAttribute("id")).each((function(){r=this.parentElement.getAttribute("id"),i=l.find((function(e){return e.id===r&&e.dim===c[0]})).index,(o=l.find((function(e){return e.id===r&&e.dim===c[0]})).origin)+a>=J[c[0]].domain()[0]&&o+a<=J[c[0]].domain()[1]&&(qe.j(this).attr("cy",J[c[0]](o+a)),L[i][c[0]]=o+a),s[r]||(s[r]={}),s[r][c[0]]=L[i][c[0]]})),0!==d.length&&d.map((function(t){qe.k("#data-point-"+Object.keys(x[0]).indexOf(t)+"-on-"+t+"-"+M).each((function(){r=this.parentElement.getAttribute("id"),i=l.find((function(e){return e.id===r&&e.dim===t})).index,o=l.find((function(e){return e.id===r&&e.dim===t})).origin,e=(J[t].domain()[1]-J[t].domain()[0])/(J[c[0]].domain()[1]-J[c[0]].domain()[0]),o+a*e>=J[t].domain()[0]&&o+a*e<=J[t].domain()[1]&&(qe.j(this).attr("cy",J[t](o+a*e)),L[i][t]=o+a*e,s[r]||(s[r]={}),s[r][t]=L[i][t])}))})),F.attr("d",ee),G.style("visibility","visible").style("left",qe.e.pageX+"px").style("top",qe.e.pageY-28+"px").text(Math.round(J[c[0]].invert(qe.e.y))))})).on("end",(function(e){if(n.includes(e[0])){var t={};l.map((function(e){t[e.id]||(t[e.id]={}),t[e.id][e.dim]=L[e.index][e.dim],p(e.id,e.dim,L[e.index][e.dim])})),h(t),l=[],s={}}G.style("visibility","hidden"),g(!1)})))}(),$(s)},o.updateBrushes=function(e,t){try{o.props.queries.get("brushes").toJS().filter((function(e){return e.colId=t})).find((function(t){return t.id===e.id}))||o.props.addBrush(e,t)}catch(n){console.log(n)}},o.commitChanges=function(e,t,n){o.props.alterAlternative(e,t,n)},o.submitChanges=function(e){o.props.editAlternatives(e)},o.alreadySelected=function(e){return o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).filter((function(t){return t.get("viewId")===e})).size>0},o.findNonEmptyBrushes=function(){var e=Object(Qe.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Qe.a)(Ye.a.mark((function e(n,o){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0})).sort((function(e,t){return e.temp-t.temp}))):o([]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.findNonEmptyOutputBrushes=function(){var e=Object(Qe.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Qe.a)(Ye.a.mark((function e(n,o){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0&&!e.isInput})).sort((function(e,t){return e.temp-t.temp}))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.findNonEmptyInputBrushes=function(){var e=Object(Qe.a)(Ye.a.mark((function e(t){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Qe.a)(Ye.a.mark((function e(n,o){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length?n(t.filter((function(e){return e.extent[0]+e.extent[1]!==0&&e.isInput})).sort((function(e,t){return e.temp-t.temp}))):o("empty brushes");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.changeEditingState=function(e){o.isEditing=e},o.commitBrushSelections=function(e){o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=e.length},o.commitDimensions=function(e){o.setState({selectedDimensions:e})},o.toggleAdjustInputBrushes=function(){o.setState({adjustInputBrushes:!o.state.adjustInputBrushes})},o.commitValueBands=function(e,t,n,i){"OK"===e?o.props.setValueBands(t,n,i):"NaN"===e?o.setState({shouldWarn:!0,warningMessage:"Please enter a number."}):"OoB"===e&&o.setState({shouldWarn:!0,warningMessage:"Please enter a proper range."})},o.commitSketch=function(e){o.setState({sketchData:Object.assign(o.state.sketchData,e)})},o.reOrderDefaultOptions=function(){var e=Object.assign([],o.state.dimensions);o.defaultOptions=[],e.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),e)},o.selectPath=function(e){var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).filter((function(t){return t.get("viewId")===e.target.getAttribute("id")}));o.state.isLiveEditing?0===t.size?(o.props.deselectAllAlternatives(),o.props.selectAlternative(e.target.getAttribute("id"))):o.props.deselectAlternative(e.target.getAttribute("id")):0===t.size?(o.props.selectAlternative(e.target.getAttribute("id")),!0===o.state.isCloning&&(o.cloneBases.push(e.target.getAttribute("id")),o.props.cloneEditAlternatives([e.target.getAttribute("id")],[o.props.collection.get("viewId")]))):o.props.deselectAlternative(e.target.getAttribute("id"))},o.toggleParameter=function(e,t){var n,i=t.action,a=t.removedValue,r=Object.assign({},o.state.valueBands),l=Object.assign([],o.state.dimensions);switch(o.defaultOptions=[],i){case"remove-value":console.log("in remove value"),o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){o.props.removeDataField(e,a.value)})),n=l.indexOf(a.value),l.splice(n,1),o.setState({dimensions:l,valueBands:U(r,a.value)}),l.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),l),o.state.isLocked&&o.props.lockAspectRatio(l);break;case"select-option":o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(t){o.props.addDataField(t,e[e.length-1].label)})),l.push(e[e.length-1].label),o.setState({dimensions:l,valueBands:G(r,e[e.length-1].label,o.state.backupValueBands)}),l.map((function(e){return o.defaultOptions.push({value:e,label:e.toString()})})),o.props.orderCollectionDimensions(o.props.collection.get("viewId"),l),o.state.isLocked&&o.props.lockAspectRatio(l);break;default:console.log("no valid selection")}},o.selectParameter=function(){o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isToggling:!o.state.isToggling})},o.toggleAlterMode=function(){o.setState({isCloning:!1}),o.setState({isToggling:!1}),o.setState({isLiveEditing:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isAltering:!o.state.isAltering}),o.setState({selectedDimensions:[]})},o.toggleLiveEditMode=function(){o.setState({isCloning:!1}),o.setState({isToggling:!1}),o.setState({isSketching:!1}),o.setState({sketchData:{}}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isAltering:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isLiveEditing:!o.state.isLiveEditing}),o.setState({selectedDimensions:[]})},o.toggleSketchMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isCPing:!1}),o.setState({isSCPing:!1}),o.setState({isBrushing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isSketching:!o.state.isSketching})},o.toggleCPMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({sketchData:{}}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isCPing:!o.state.isCPing}),o.setState({selectedDimensions:[]})},o.togglePSMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isPSing:!o.state.isPSing}),o.setState({sketchData:{}}),o.setState({selectedDimensions:[]})},o.toggleSCPMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isSAing:!1}),o.setState({isPSing:!1}),o.setState({isSampling:!1}),o.setState({isSCPing:!o.state.isSCPing}),o.setState({sketchData:{}}),o.setState({selectedDimensions:[]})},o.toggleSAMode=function(){o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isBrushing:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({isSAing:!o.state.isSAing}),o.setState({sketchData:{}})},o.toggleCloneMode=function(){o.setState({isToggling:!1}),o.setState({isBrushing:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({sketchData:{}}),o.setState({isSampling:!1}),o.setState({isCloning:!o.state.isCloning}),o.props.setCollectionMode(o.props.collection.get("viewId"),{isCloning:!o.state.isCloning}),o.setState({selectedDimensions:[]})},o.toggleBrushMode=function(){if(o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({isSampling:!1}),o.setState({sketchData:{}}),o.setState({isBrushing:!o.state.isBrushing}),o.brushSelections.length>0){var e=o.props.alternatives.get("alternatives");o.brushSelections.map((function(t){D(e,t).map((function(e){qe.j(document.getElementById(e.get("viewId"))).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)})),o.props.selectAlternative(t)}))}o.brushSelections=[],o.committedQueries=[],o.brushes=[],o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.props.clearAllBrushes(),o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=o.brushSelections.length},o.toggleSampleMode=function(){if(o.setState({isToggling:!1}),o.setState({isAltering:!1}),o.setState({isLiveEditing:!1}),o.setState({isCloning:!1}),o.setState({isSketching:!1}),o.setState({isCPing:!1}),o.setState({isPSing:!1}),o.setState({isSAing:!1}),o.setState({isSCPing:!1}),o.setState({sketchData:{}}),o.setState({isBrushing:!1}),o.setState({isSampling:!o.state.isSampling}),o.brushSelections.length>0){var e=o.props.alternatives.get("alternatives");o.brushSelections.map((function(t){D(e,t).map((function(e){qe.j(document.getElementById(e.get("viewId"))).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)})),o.props.selectAlternative(t)}))}o.brushSelections=[],o.committedQueries=[],o.brushes=[],o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.props.clearAllBrushes(),o.props.infoRef.current.childNodes[0].childNodes[2].innerHTML=o.brushSelections.length},o.createAlternative=function(){var e=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).map((function(e){return e.get("viewId")}));o.props.createNewAlternative(e,o.state.sketchData),o.setState({sketchData:{}})},o.cartesianProduct=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));console.log(t," selectedAltsInCollection"),2===t.size&&(o.props.newCartesianProduct(t.map((function(e){return e.get("viewId")})).toJS(),e,o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.parameterSpectra=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));t.size>0&&(o.props.newParameterSpectra(t.map((function(e){return e.get("viewId")})).toJS(),e,o.paramaterSpectraAltNum,o.paramaterSpectraDelta,o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.spectralCartesianProduct=function(){var e=Object.assign([],o.state.selectedDimensions),t=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));t.size>0&&(o.props.newSpectralCartesianProduct(t.map((function(e){return e.get("viewId")})).toJS(),e,o.props.collection.get("viewId"),o.props.collection.get("destinations").toJS()),o.setState({selectedDimensions:[]}))},o.sensitivityAnalysis=function(){var e=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));e.size>0&&(console.log(o.sensitivityAnalysisDelta),o.props.newSensitivityAnalysis(e.map((function(e){return e.get("viewId")})).toJS(),o.sensitivityAnalysisDelta,o.props.collection.get("destinations").toJS()))},o.handleConfirmQuery=function(e){if(e.length>0)if(0===o.props.collection.get("destinations").size){for(var t=function(t){var n,i,a,r;n=e[t],i=t,a=o.props.createNewCollection,r=o.props.collection.get("collectionName"),setTimeout((function(){a(0+2*i,5,3,5,n,r+"-query"+(i+1))}),3500*t),o.props.addQuery(o.props.collection.get("collectionName")+"-query"+(t+1),o.props.collection.get("collectionName"),"someString",e[t])},n=0;n<e.length;n++)t(n);wt.b.info("Please wait while queries are being committed...",{autoClose:3500*e.length,position:"bottom-center",rtl:!1})}else{for(var i=0;i<o.props.collection.get("destinations").size;i++)if(o.props.collection.get("destinations").toJS()[i].__isNew__)for(var a=function(t){var n,a,r,l;n=e[t],a=t,r=o.props.createNewCollection,l=o.props.collection.get("destinations").toJS()[i].label,setTimeout((function(){r(0+2*a,5,2,4,n,l)}),3500*t)},r=0;r<e.length;r++)a(r);else for(var l=function(t){var n,a,r;n=e[t],a=o.props.collection.get("destinations").toJS()[i].value,r=o.props.cloneAlternatives,setTimeout((function(){r(n,[a])}),3500*t),o.props.addQuery(o.props.collection.get("collectionName")+"-query"+(t+1),o.props.collection.get("collectionName"),"someString",e[t])},s=0;s<e.length;s++)l(s);wt.b.info("Please wait while queries are being committed...",{autoClose:3e3*e.length*o.props.collection.get("destinations").size,position:"bottom-center",rtl:!1})}o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleBrushAxisClick=function(){var e=Object.assign([],o.committedQueries);o.setState({shouldWarn:!1,warningMessage:""}),o.toggleBrushMode(),o.state.isBrushing?(o.props.infoRef.current.childNodes[0].childNodes[1].style.display="inline",o.props.infoRef.current.childNodes[0].childNodes[2].style.display="none",e.length>0&&o.setState({shouldWarn:!0,warningMessage:"Do you want to commit these queries?",confirmAction:o.handleConfirmQuery.bind(Object(Ke.a)(o),e)})):(o.props.infoRef.current.childNodes[0].childNodes[1].style.display="none",o.props.infoRef.current.childNodes[0].childNodes[2].style.display="inline")},o.handleSampleAxisClick=function(){o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSampleMode()},o.handleParameterSpectraClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.togglePSMode(),o.state.isPSing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});o.parameterSpectra()}},o.handleSpectralCartesianProductClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSCPMode(),o.state.isSCPing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});if(o.state.selectedDimensions.length>4)return void o.setState({shouldWarn:!0,warningMessage:"You can select at most 4 dimensions."});o.spectralCartesianProduct()}},o.handleSensitivityAnalysisClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSAMode(),o.state.isSAing){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 1 alternatives."});o.sensitivityAnalysis()}},o.handleCloneEditAlternativeClick=function(){if(!1===o.state.isCloning)o.altsInCollectionBefore=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){return e.get("viewId")})).toJS(),o.props.deselectAllAlternatives(),o.cloneBases=[],o.toggleCloneMode();else{if(o.altsInCollectionAfter=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){return e.get("viewId")})).toJS(),o.altsInCollectionBefore.length!==o.altsInCollectionAfter.length)o.altsInCollectionAfter.filter((function(e){return!o.altsInCollectionBefore.includes(e)})).map((function(e){return o.props.hoverAlternativeSpecial(e)}));o.props.deselectAllAlternatives(),o.cloneBases.map((function(e){return o.props.selectAlternative(e)})),o.toggleCloneMode()}},o.handleSketchAlternativeClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleSketchMode(),o.state.isSketching){if(o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size<1)return void o.setState({shouldWarn:!0,warningMessage:"You must select a base alternative first."});o.createAlternative()}},o.handleCartesianProductClick=function(){if(o.setState({shouldWarn:!1,warningMessage:""}),o.toggleCPMode(),o.state.isCPing){if(2!==o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).size)return void o.setState({shouldWarn:!0,warningMessage:"You must select at least 2 alternatives."});if(o.state.selectedDimensions.length>4)return void o.setState({shouldWarn:!0,warningMessage:"You can select at most 4 dimensions."});o.cartesianProduct()}},o.handleHover=function(e,t,n,i){e.stopPropagation(),o.isEditing||(i?o.props.hoverAlternative(t,n):o.props.dehoverAlternative(t,n))},o.handleMouseEnter=function(e){o.handleHover(e,e.target.getAttribute("id"),e.target.getAttribute("refid"),!0)},o.handleMouseLeave=function(e){o.handleHover(e,e.target.getAttribute("id"),e.target.getAttribute("refid"),!1)},o.handleKeyEvents=function(e){if(o.state.isBrushing||o.state.isSampling){var t=null;81!==e.keyCode&&113!==e.keyCode||0!==o.brushSelections.length&&(0!==o.committedQueries.length&&JSON.stringify(o.committedQueries[o.committedQueries.length-1])===JSON.stringify(o.brushSelections)||(o.committedQueries.push(Object.assign([],o.brushSelections)),wt.b.isActive(t)||(t=wt.b.success("Query committed",{autoClose:3e3,position:"bottom-right",rtl:!0})))),82===e.keyCode&&(o.toggleBrushMode(),o.props.deselectAllAlternatives(),setTimeout((function(){o.toggleBrushMode()}),300))}if(!0===o.state.isSampling)if(83===e.keyCode){var n=o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")}));1===n.size&&o.findNonEmptyInputBrushes(o.brushes).then((function(e){var t=n.map((function(e){return e.get("viewId")})).toJS(),i=e.map((function(e){return{dim:e.dimension,sampleNum:parseInt(o.samples[e.dimension]),min:Math.min(e.extent[0],e.extent[1]),max:Math.max(e.extent[0],e.extent[1])}}));o.props.newSampling(t,i,o.props.collection.get("destinations").toJS())}))}else 65===e.keyCode&&o.setState({adjustInputBrushes:!0})},o.handleVisibility=function(){o.setState({menuHidden:!o.state.menuHidden})},o.handleOpen=function(){o.setState({menuOpen:!0})},o.handleClose=function(){o.setState({menuOpen:!1})},o.lockRatio=function(e){e?(o.props.lockAspectRatio(o.state.dimensions),o.setState({isLocked:e})):(o.props.unlockAspectRatio(o.state.dimensions),o.setState({isLocked:e}))},o.onParameterSpectraSelect=function(e){o.paramaterSpectraAltNum=e.value},o.onParameterSpectraDeltaChange=function(e){o.paramaterSpectraDelta=e.target.value},o.onSensitivityAnalysisDeltaChange=function(e){o.sensitivityAnalysisDelta=e.target.value},o.handleDoubleClick=function(e){e.stopPropagation(),o.props.restoreAlternative(e.target.getAttribute("id"))},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})};var i=o.props.collection.get("dimOrder")?o.props.collection.get("dimOrder").toJS():[];return o.options=[],i.map((function(e){return o.options.push({value:e,label:e.toString()})})),o.defaultOptions=o.options,o.state={dimensions:i,valueBands:o.props.scales.get("valueBands").toJS(),backupValueBands:o.props.scales.get("valueBands").toJS(),inputParams:o.props.collection.get("inputs").toJS(),outputParams:o.props.collection.get("outputs").toJS(),brushCount:0,sketchData:{},selectedDimensions:[],isAltering:!1,isLiveEditing:!1,isCloning:!!o.props.collection.get("currentMode")&&o.props.collection.get("currentMode").get("isCloning"),isToggling:!1,isSampling:!1,isSketching:!1,isBrushing:!1,isCPing:!1,isPSing:!1,isSAing:!1,isLocked:!1,shouldWarn:!1,adjustInputBrushes:!1,confirmAction:null,warningMessage:"",menuOpen:!1,menuHidden:!1},o.paramaterSpectraAltNum=2,o.paramaterSpectraDelta=5,o.sensitivityAnalysisDelta=5,o.brushEngine={temp:0,tempOrder:[],multiPairs:[[]]},o.queryEngine={current:1,temp:1,total:1,advMode:!1,memo:{}},o.samples={},o.brushes=[],o.brushSelections=[],o.committedQueries=[],o.cloneBases=[],o.altsInCollectionBefore=[],o.altsInCollectionAfter=[],o.isEditing=!1,o}return Object(ge.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.width-Lt-Tt,o=this.props.height-kt-jt,a=this.props.altsInCollection.map((function(n){var o=t.props.altsInCollection.filter((function(e){return e.get("isSelected")})).filter((function(e){return e.get("viewId")===n.get("viewId")})),a=t.props.altsInCollection.filter((function(e){return t.props.selectedAlts.includes(e.get("refId"))&&e.get("viewId")===n.get("viewId")}));return 0===o.size?e=0!==a.size?{stroke:Rt,opacity:Yt}:{stroke:xt,opacity:zt}:0!==o.size&&(e={stroke:Dt,opacity:Qt}),i.a.createElement("path",{className:"pc pc-ref-"+n.get("refId")+" pc-view-"+n.get("viewId")+" myPath",style:e,key:"p-"+n.get("viewId")+"-key",refid:n.get("refId"),id:n.get("viewId"),onMouseEnter:t.state.isBrushing||t.state.isSampling?null:t.handleMouseEnter,onMouseLeave:t.state.isBrushing||t.state.isSampling?null:t.handleMouseLeave,onClick:t.state.isBrushing||t.state.isBrushing?null:t.selectPath,onDoubleClick:t.handleDoubleClick})})),r=this.state.dimensions.map((function(e,n){return i.a.createElement("g",{className:"myAxis",id:e+"on"+t.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(t.props.collection.get("collectionNameView"))[1],dim:e,key:Math.random()})})),l=this.state.dimensions.map((function(e,n){return i.a.createElement("g",{className:"myClickAxis",id:e+"onClick"+t.props.collection.get("collectionName")+/\(([^)]+)\)/.exec(t.props.collection.get("collectionNameView"))[1],key:e+"-key"})})),s=this.props.alternatives.get("alternatives").filter((function(e){return t.props.collection.get("altsid").contains(e.get("viewId"))&&!0===e.get("isSelected")})).map((function(e){return i.a.createElement("g",{className:"myPoint",id:e.get("viewId"),key:"pt-"+e.get("viewId")+"-key"})})),c=this.state.dimensions.map((function(e,t){return i.a.createElement("g",{className:"mySketchPoint",key:"sp-"+e+"-key"})})),u=i.a.createElement("path",{className:"mySketchPath",style:e}),d=i.a.createElement("text",{className:"myBrushText",id:"myBrushTextN"}),p=i.a.createElement("text",{className:"myBrushText",id:"myBrushTextS"}),g=this.brushes.filter((function(e){return e.extent[0]+e.extent[1]!==0})).map((function(e,t){return i.a.createElement("input",{className:"inputBox",type:"text",name:"inputBox-"+(t+1),id:e.id+"_input",key:"ibox-"+e.id+"-key"})})),h={container:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{zIndex:t.isFocused?"998":"1"})},dropdownIndicator:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{color:"black"})},control:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{backgroundColor:"#fff",borderWidth:"2px",borderColor:"#000"})}};return i.a.createElement("div",{onKeyDown:this.handleKeyEvents,tabIndex:"0"},i.a.createElement("svg",{width:n,height:o,ref:function(e){return t.svgEl=e}},i.a.createElement("g",{id:"drawArea",width:n,height:o},l,r,a,this.state.isAltering||this.state.isCloning||this.state.isLiveEditing?s:null,this.state.isSketching?u:null,this.state.isSketching?c:null,this.state.isBrushing||this.state.isSampling?d:null,this.state.isBrushing||this.state.isSampling?p:null)),this.state.isSampling?g:null,this.state.shouldWarn?i.a.createElement(rt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null,i.a.createElement(bt,{isBrushing:this.state.isBrushing,isSketching:this.state.isSketching,isAltering:this.state.isAltering,isSampling:this.state.isSampling,isLiveEditing:this.state.isLiveEditing,isCloning:this.state.isCloning,isToggling:this.state.isToggling,isCPing:this.state.isCPing,isPSing:this.state.isPSing,isSAing:this.state.isSAing,isSCPing:this.state.isSCPing,handleBrushAxisClick:this.handleBrushAxisClick,handleSampleAxisClick:this.handleSampleAxisClick,handleParameterSpectraClick:this.handleParameterSpectraClick,handleSpectralCartesianProductClick:this.handleSpectralCartesianProductClick,toggleAlterMode:this.toggleAlterMode,handleSensitivityAnalysisClick:this.handleSensitivityAnalysisClick,toggleLiveEditMode:this.toggleLiveEditMode,handleCloneEditAlternativeClick:this.handleCloneEditAlternativeClick,handleSketchAlternativeClick:this.handleSketchAlternativeClick,handleCartesianProductClick:this.handleCartesianProductClick,selectParameter:this.selectParameter,lockAspectRatio:this.lockRatio.bind(this),onParameterSpectraSelect:this.onParameterSpectraSelect,onParameterSpectraDeltaChange:this.onParameterSpectraDeltaChange,onSensitivityAnalysisDeltaChange:this.onSensitivityAnalysisDeltaChange}),this.state.isToggling?i.a.createElement($e.a,{styles:h,defaultValue:this.defaultOptions,isMulti:!0,isClearable:!1,options:this.options,onChange:this.toggleParameter,closeMenuOnSelect:!1}):null)}}]),n}(o.PureComponent),qt=Kt,Xt=function(e,t){return{type:p.get("HANDLE_SUCCESS"),payload:{id:e,message:t}}},Zt=function(e,t){return{type:p.get("HANDLE_WARNING"),payload:{id:e,message:t}}},$t=function(e,t){return{type:p.get("HANDLE_ERROR"),payload:{id:e,message:t}}},en=function(e){return{type:p.get("TOGGLE_HISTORY"),payload:e}},tn=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),nn=function(e){return{type:p.get("FETCH_COLLECTIONS"),payload:e}},on=function(e){return{type:p.get("FETCH_LAYOUT"),payload:e}},an=function(e){return{type:p.get("FETCH_PROJECT"),payload:e}},rn=function(){return{type:p.get("FETCHING_PROJECT")}},ln=function(e){return{type:p.get("FETCH_KEY_SETS"),payload:e}},sn=function(e){return{type:p.get("FETCH_VALUE_BANDS"),payload:e}},cn=function(e){return{type:p.get("ADD_NEW_ALTERNATIVES"),payload:e}},un=function(e,t,n,o,i){return{type:p.get("ADD_ALTERNATIVE_TO_COLLECTION"),payload:{collectionId:e,alternativeId:t,collectionInputs:n,collectionOutputs:o,dimOrder:i}}},dn=function(e,t,n,o,i,a,r,l,s,c,u,d,g,h,f){return{type:p.get("CREATE_COLLECTION"),payload:{altsid:e,collectionName:t,refId:n,tags:o,viewId:i,isSelected:a,isSinked:r,viewType:l,dimOrder:s,inputs:c,outputs:u,destinations:d,currentMode:g,isEditingName:h,collectionNameView:f}}},pn=function(e){return{type:p.get("DESELECT_COLLECTION"),payload:{viewId:e}}},gn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{type:p.get("CLIP_COLLECTION"),payload:{viewId:e,refId:t,altsid:n,layout:o}}},hn=function(e){return{type:p.get("SELECT_ALTERNATIVE"),payload:{viewId:e}}},fn=function(e){return{type:p.get("HOVER_ALTERNATIVE"),payload:{viewId:e}}},mn=function(){return{type:p.get("DEHOVER_ALL_ALTERNATIVES")}},vn=function(e){return{type:p.get("DESELECT_ALTERNATIVE"),payload:{viewId:e}}},En=function(e){return{type:p.get("INSERT_LAYOUT"),payload:e}},Sn=function(e,t){return{type:p.get("CHANGE_COLLECTION_NAME"),payload:{collectionId:e,collectionName:t}}},yn=function(){return{type:p.get("HIDE_HEADER")}},Cn=function(){return{type:p.get("HIDE_SINK_LIST")}},_n=function(e){return{type:p.get("TOGGLE_SINK"),payload:e}},bn=function(e,t,n){return{type:p.get("ALTER_ALTERNATIVE"),payload:{alternativeID:e,parameter:t,newValue:n}}},wn=function(e,t){return{type:p.get("SET_LOADING_STATE"),payload:{viewId:e,isLoading:t}}},Nn=function(){return{type:p.get("TOGGLE_SETTINGS")}},An=function(){return{type:p.get("TOGGLE_SEARCH")}},In=function(){return{type:p.get("CREATING_PROJECT")}},On=function(e){return{type:p.get("FETCH_USER"),payload:e}},kn=function(e){return{type:p.get("NOT_FETCH_USER"),payload:e}},Tn=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),jn=function(e){return function(t,n){try{t(vn(e));var o=n().collections.get("collections"),i=n().alternatives.get("alternatives"),a=M(i,e),r=_(o,a.get("collectionViewId")),l=C(o,a.get("collectionViewId")),s=l.get("altsid"),c=B(s,e),u=l.set("altsid",c),d=r.push(u);t(nn(d))}catch(p){console.error(p.message)}}},Ln=function(e){return function(t,n){if(e.size>0){var o=[],i=[];return e.map((function(e){o.push(e.get("refId")),i.push(e.get("collectionRefId"))})),fetch(x.get("alternativesRemove"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({refIds:o,collectionRefId:i})}).then((function(e){return e.json()})).then((function(e){e.map((function(e){Object(l.b)((function(){var n;t(vn(e)),t((n=e,{type:p.get("REMOVE_ALTERNATIVE"),payload:n})),t(jn(e))}))})),t(Xt(wt.b.success("Alternative(s) removed"),"alternative(s) removed "+Tn))})).catch((function(e){console.log(e),t($t(wt.b.error("Alternative(s) not removed"),"alternative(s) not removed "+Tn))}))}t(Zt(wt.b.warning("please select an alternative"),"please select an alternative"+Tn))}},Pn=function(e,t){return function(n,o){if(e.length>0&&t.length>0){var i=wt.b.info("Copying Alts To collection",{toastId:"CopyAltsWithRef",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(x.get("alternativeCopy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t})}).then((function(e){return e.json()})).then((function(t){wt.b.update(i,{progress:.5}),t.forEach((function(t){var i=o().alternatives.get("alternatives").toJS()[0].params,a=o().alternatives.get("alternatives").toJS()[0].outputs,r=z(t.collection,Object.keys(i),Object.keys(a));t.alts.map((function(e){n(cn(F(e,i,a)))})),t.alts.map((function(o,i){Object(l.b)((function(){n(un(t.collectionId,o.viewId,r.inputs,r.outputs,r.dimOrder)),n(vn(e[i])),n(Rn(o.viewId))}))}))})),wt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n(Xt(wt.b.success("Alternative(s) copied"),"alternative(s) copied "+Tn))})).catch((function(e){wt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n($t(wt.b.error("Alternative(s) not copied"),"alternative(s) not copied "+Tn))}))}n(Zt(wt.b.warning("please select an alternative and a collection"),"please select an alternative and a collection"+Tn))}},xn=function(e,t){return function(n,o){if(e.length>0&&t.length>0){var i=wt.b.info("Cloning alts to collection",{toastId:"CloneAltsToCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(x.get("alternativeClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t})}).then((function(e){return e.json()})).then((function(t){wt.b.update(i,{progress:.5}),t.forEach((function(t){var i=o().alternatives.get("alternatives").toJS()[0].params,a=o().alternatives.get("alternatives").toJS()[0].outputs,r=z(t.collection,Object.keys(i),Object.keys(a));t.alts.map((function(e){n(cn(F(e,i,a)))})),t.alts.map((function(o,i){Object(l.b)((function(){n(un(t.collectionId,o.viewId,r.inputs,r.outputs,r.dimOrder)),n(vn(e[i])),n(Rn(o.viewId))}))}))})),wt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n(Xt(wt.b.success("Alternative(s) cloned"),"alternative(s) cloned "+Tn))})).catch((function(e){wt.b.update(i,{progress:0,closeOnClick:!0,autoClose:1}),n($t(wt.b.success("Alternative(s) not cloned"),"alternative(s) not cloned "+Tn))}))}n(Zt(wt.b.warning("Please select an alternative and a collection"),"please select an alternative and a collection"+Tn))}},Mn=function(e,t){return function(n,o){return fetch(x.get("alternativeCloneEdit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:e,destination:t})}).then((function(e){return e.json()})).then((function(t){t.forEach((function(t){var i=o().alternatives.get("alternatives").toJS()[0].params,a=o().alternatives.get("alternatives").toJS()[0].outputs,r=z(t.collection,Object.keys(i),Object.keys(a));t.alts.map((function(e){n(cn(F(e,i,a)))})),t.alts.map((function(o,i){Object(l.b)((function(){n(un(t.collectionId,o.viewId,r.inputs,r.outputs,r.dimOrder)),n(vn(e[i])),n(hn(o.viewId))}))}))})),n(Xt(wt.b.success("Alternative cloned"),"alternative cloned "+Tn))})).catch((function(e){console.log(e),n($t(wt.b.success("Alternative not cloned"),"alternative not cloned "+Tn))}))}},Dn=function(e){return function(t,n){return Object.keys(e).map((function(e){t(wn(e,!0)),D(n().alternatives.get("alternatives"),e).map((function(e){t(wn(e.get("viewId"),!0))}))})),fetch(x.get("alternativeEdit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){!0===e.success?t(Xt(wt.b.success("Alternative(s) edited"),"alternative(s) edited "+Tn)):t(Zt(wt.b.success("Edit failed"),"edit failed "+Tn))})).catch((function(e){console.log(e),t($t(wt.b.success("Alternative(s) not edited"),"alternative(s) not edited "+Tn))}))}},Rn=function(e){return function(t){t(fn(e))}},Bn=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement(qt,Object.assign({key:"parallelView-"+this.props.collection.get("viewId")},this.props))}}]),n}(o.Component),Hn=Object(l.c)((function(e){return{scales:e.scales,queries:e.queries}}),(function(e){return{alterAlternative:function(t,n,o){e(bn(t,n,o))},editAlternatives:function(t){e(Dn(t))},cloneEditAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(Mn(t,n))},createNewAlternative:function(t,n,o){e(function(e,t){return function(n){return fetch(x.get("alternative_sketching"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e.toJS(),values:t})}).then((function(e){return e.json()})).then((function(e){n(Xt(wt.b.success("New alternative created"),"new alternative created"+Tn))})).catch((function(e){console.log(e),n($t(wt.b.error("New alternative creation failed"),"new alternative creation failed"+Tn))}))}}(t,n))},newCartesianProduct:function(t,n,o){e(function(e,t,n){return function(o,i){return fetch(x.get("cartesian_product"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,destinations:n})}).then((function(e){o(Xt(wt.b.success("Cartesian Product has started"),"Cartesian Product has started "+tn))})).catch((function(e){console.log(e),o($t(wt.b.error("Cartesian Product has not started"),"Cartesian Product has not started "+tn))}))}}(t,n,o))},newParameterSpectra:function(t,n,o,i,a){e(function(e,t,n,o,i){return function(a,r){return fetch(x.get("parameter_spectra"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,psnum:n,psdelta:o,destinations:i})}).then((function(e){a(Xt(wt.b.success("Parameter Spectra has started"),"Parameter Spectra has started "+tn))})).catch((function(e){console.log(e),a($t(wt.b.error("Parameter Spectra has not started"),"Parameter Spectra has not started "+tn))}))}}(t,n,o,i,a))},newSensitivityAnalysis:function(t,n,o){e(function(e,t,n){return function(o){return fetch(x.get("sensitivity_analysis"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,destinations:n,sadelta:t})}).then((function(e){o(Xt(wt.b.success("Sensitivity Analysis has started"),"Sensitivity Analysis has started "+tn))})).catch((function(e){console.log(e),o($t(wt.b.error("Sensitivity Analysis has not started"),"Sensitivity Analysis has not started "+tn))}))}}(t,n,o))},newSpectralCartesianProduct:function(t,n,o,i){e(function(e,t,n,o){return function(i){return fetch(x.get("spectral_cartesian_product"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt_ids:e,keySets:t,collection_id:n,destinations:o})}).then((function(e){i(Xt(wt.b.success("Spectral Cartesian Product has started"),"Spectral Cartesian Product has started "+tn))})).catch((function(e){console.log(e),i($t(wt.b.error("Spectral Cartesian Product has not started"),"Spectral Cartesian Product has not started "+tn))}))}}(t,n,o,i))},newSampling:function(t,n,o){e(function(e,t,n){return function(o,i){return fetch(x.get("sampling"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({altIds:e,brushes:t,destinations:n})}).then((function(e){o(Xt(wt.b.success("Sampling has started"),"Sampling has started "+tn))})).catch((function(e){console.log(e),o($t(wt.b.error("Sampling has not started"),"Sampling has not started "+tn))}))}}(t,n,o))},addDataField:function(t,n){e(function(e,t){return{type:p.get("ADD_DATA_FIELD"),payload:{alternative:e,field:t}}}(t,n))},removeDataField:function(t,n){e(function(e,t){return{type:p.get("REMOVE_DATA_FIELD"),payload:{alternative:e,field:t}}}(t,n))},orderCollectionDimensions:function(t,n){e(function(e,t){return{type:p.get("ORDER_COLLECTION_DIMENSIONS"),payload:{viewId:e,dimOrder:t}}}(t,n))},setValueBands:function(t,n,o){e(function(e,t,n){return{type:p.get("SET_VALUE_BANDS"),payload:{dim:e,end:t,val:n}}}(t,n,o))},addQuery:function(t,n,o,i){e(function(e,t,n,o){return{type:p.get("ADD_QUERY"),payload:{queryId:e,fromCollection:t,queryString:n,selections:o}}}(t,n,o,i))},removeQuery:function(t){e(function(e){return{type:p.get("REMOVE_QUERY"),payload:{queryId:e}}}(t))},clearAllQueries:function(){e({type:p.get("CLEAR_ALL_QUERIES")})},addBrush:function(t,n){e(function(e,t){return{type:p.get("ADD_BRUSH"),payload:Object(T.a)(Object(T.a)({},e),{},{colId:t})}}(t,n))},removeBrush:function(t){e(function(e){return{type:p.get("REMOVE_BRUSH"),payload:{brushId:e}}}(t))},clearAllBrushes:function(){e({type:p.get("CLEAR_ALL_BRUSHES")})}}}))(Bn),Jn=n(194),Vn=n.n(Jn),Wn=n(258),Un=n.n(Wn),Gn=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleMouseEnter=function(t,n){e.props.hoverAlternative(t,n)},e.handleMouseLeave=function(t,n){e.props.dehoverAlternative(t,n)},e.handleRowClick=function(t,n){e.props.altsInCollection.find((function(e){return e.get("viewId")===n.viewId})).get("isSelected")?e.props.deselectAlternative(n.viewId):e.props.selectAlternative(n.viewId)},e}return Object(ge.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:Vn.a["list-container"]},i.a.createElement(Un.a,{columns:this.props.columns,data:this.props.data,options:{search:!0,sorting:!0,paging:!1,padding:"dense",showTitle:!1,maxBodyHeight:this.props.height,headerStyle:{position:"sticky",top:0},rowStyle:function(t){return{backgroundColor:0===e.props.altsInCollection.filter((function(e){return e.get("isSelected")&&e.get("viewId")===t.viewId})).size?0!==e.props.altsInCollection.filter((function(n){return e.props.selectedAlts.includes(n.get("refId"))&&n.get("viewId")===t.viewId})).size?Vn.a.colorSelectedRelated:"#ffffff":Vn.a.colorSelected}}},components:{Row:function(t){return i.a.createElement(Wn.MTableBodyRow,Object.assign({},t,{id:t.data.viewId,key:"tableList-"+t.data.viewId,className:"tableList tableList-ref-"+t.data.refId+" tableList-view-"+t.data.viewId,onMouseEnter:He()(e.handleMouseEnter.bind(e,t.data.viewId,t.data.refId)),onMouseLeave:He()(e.handleMouseLeave.bind(e,t.data.viewId,t.data.refId))}))}},onRowClick:this.handleRowClick.bind(this),detailPanel:[{icon:function(){return i.a.createElement(Ne.l,null)},tooltip:"Show Image",render:function(t){return i.a.createElement("div",null,i.a.createElement("img",{src:R(M(e.props.altsInCollection,t.viewId)),className:Vn.a["alternative-image"],style:{height:800,width:800},alt:"image for "+t.viewId}))}},{icon:function(){return i.a.createElement(Ne.a,null)},tooltip:"Show Model",render:function(e){return i.a.createElement("div",null,i.a.createElement(Re,{customStyle:"position: sticky; left: 0;",width:800,height:800,gltf:e.gltf,id:e.viewId}))}}]}))}}]),n}(o.PureComponent),Fn=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;Object(pe.a)(this,n);var i=(o=t.call(this,e)).props.dimensions.toJS().map((function(e){return{title:e,field:e,headerStyle:{position:"sticky",top:0,fontWeight:Object.keys(o.props.collection.get("outputs")).includes(e)?"bold":"normal"}}})),a=o.props.altsInCollection.map((function(e){return Object(T.a)({viewId:e.get("viewId"),gltf:e.get("gltf"),refId:e.get("refId"),collectionViewId:e.get("collectionViewId")},e.get("parallelData").toJS())})).toJS();return o.state={columns:i,data:a},o}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement(Gn,Object.assign({key:"listView-"+this.props.collection.get("viewId"),columns:this.state.columns,data:this.state.data},this.props))}}]),n}(o.Component),zn=Object(l.c)((function(e){return{dimensions:e.scales.get("keySets")}}))(Fn),Yn=n(195),Qn=n.n(Yn),Kn=function(e){var t=e.altsInCollection.filter((function(e){return e.isSelected})).length;return i.a.createElement("div",{className:Qn.a.infobar,ref:e.infoRef},i.a.createElement("span",null,i.a.createElement("span",{className:Qn.a["infopar-a"]},e.altsInCollection.length),i.a.createElement("span",{className:Qn.a["infopar-s"]},t),i.a.createElement("span",{className:Qn.a["infopar-r"]})))},qn=n(317),Xn=n.n(qn),Zn=function(e){var t=e.tagOptions.map((function(e,t){return i.a.createElement("span",{className:Xn.a["tagBar-span"],key:"tagBar-key"+t},"#",e.label)}));return i.a.createElement("div",{className:Xn.a.tagBar},t)},$n=n(318),eo=[{value:1,label:"folder view"},{value:2,label:"parallel view"},{value:3,label:"list view"}],to=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).componentDidMount=function(){var e=o.cmpEl.getBoundingClientRect();o.setState({width:e.width,height:e.height,collectionName:b(o.props.collection)})},o.componentDidUpdate=function(e,t,n){var i=o.cmpEl.getBoundingClientRect();if(o.setState({width:i.width}),o.setState({height:i.height}),e.collection.get("collectionName")!==o.props.collection.get("collectionName")&&o.setState({collectionName:o.props.collection.get("collectionName")}),o.props.shouldRemoveFocus&&(o.setState({shouldFocus:null}),o.props.removeFocus()),e.collection.get("isEditingName")!==o.props.collection.get("isEditingName")){var a=document.getElementById(o.state.shouldFocus);null!==a&&a.select()}},o.loadTags=function(){o.tagOptions=o.props.collection.get("tags").toJS().map((function(e){return{label:e,value:e,__isNew__:!1}}))},o.toggleTagging=function(){o.setState({isTagging:!o.state.isTagging})},o.toggleEditViewForCollection=function(e){e.stopPropagation(),e.preventDefault(),o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:o.props.collection.get("viewId")})},o.handleCloseClick=function(e){e.stopPropagation(),o.props.deleteCollections(o.props.collection.get("viewId"))},o.handleEmptyClick=function(e){e.stopPropagation();var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")&&e.get("collectionViewId")===o.props.collection.get("viewId")}));o.props.removeAlternativesFromCollection(t)},o.handleMinimizeClick=function(e){e.stopPropagation(),o.props.toggleViewMode(o.props.collection.get("viewId"),1),o.props.saveLayoutObject(Q(o.props.layouts,o.props.collection.get("viewId"))),o.props.toggleSink(o.props.collection.get("viewId")),o.props.deselectCollection(o.props.collection.get("viewId"))},o.handleSelect=function(){o.props.collection.get("isSelected")?o.props.deselectCollection(o.props.collection.get("viewId")):o.props.selectCollection(o.props.collection.get("viewId"))},o.handleHovsClick=function(e){e.stopPropagation(),e.preventDefault(),o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){0!==o.props.alternatives.get("alternatives").filter((function(t){return e.get("isHovered")||t.get("isHovered")&&t.get("refId")===e.get("refId")&&!o.props.collection.get("altsid").contains(t.get("viewId"))})).size&&(o.props.selectAlternative(e.get("viewId")),qe.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",Fe.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Fe.a.colorSelected))}))},o.handleRefsClick=function(e){e.stopPropagation(),e.preventDefault(),o.props.alternatives.get("alternatives").filter((function(e){return o.props.collection.get("altsid").contains(e.get("viewId"))})).map((function(e){0!==o.props.alternatives.get("alternatives").filter((function(t){return t.get("isSelected")&&t.get("refId")===e.get("refId")&&!o.props.collection.get("altsid").contains(t.get("viewId"))})).size&&(o.props.selectAlternative(e.get("viewId")),qe.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",Fe.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Fe.a.colorSelected))}))},o.handleUnselectClick=function(e){e.stopPropagation(),e.preventDefault(),w(o.props.collection,o.props.alternatives.get("alternatives")).map((function(e){o.props.deselectAlternative(e.get("viewId")),qe.k(".alt-ref-"+e.get("refId")).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null)}))},o.handleBlur=function(e){if("Enter"===e.key){var t;if(e.target.value.includes("#")&&"#"+o.props.collection.get("collectionName")!==e.target.value&&!0,t=e.target.value.replace(/#/g,"").replace(/ /g,"-"),o.props.collection.get("collectionName")!==t&&t.length>0){var n=o.props.nameExists(t,o.props.collection);if(o.props.isMultipleInputs)if(n)o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:null});else{var i={name:t,collection:o.props.collection};o.props.updateMultipleNames(i),o.setState({shouldFocus:null})}else if(n)o.props.isEditingCollectionsName(o.props.collection.get("refId")),o.setState({shouldFocus:null});else try{var a=o.props.collection.toJS();a.collectionName=t+"-"+a.collectionNameView,o.props.updateCollection(a)}catch(r){console.log(r)}finally{o.props.editNameForCollection(o.props.collection.get("viewId"),t),o.setState({shouldFocus:null})}}else o.props.nameHasTheSameValue(o.props.collection.get("refId")),o.setState({collectionName:o.props.collection.get("collectionName"),shouldFocus:null})}},o.handleTaggingSelect=function(e,t){if(e)try{var n=o.props.collection.toJS();n.tags=e.map((function(e){return e.value})),o.props.updateCollection(n)}catch(a){console.log(a)}finally{o.props.updateCollectionTags(o.props.collection.get("viewId"),e.map((function(e){return e.value})))}else try{var i=o.props.collection.toJS();i.tags=[],o.props.updateCollection(i)}catch(a){console.log(a)}finally{o.props.updateCollectionTags(o.props.collection.get("viewId"),[])}},o.handleViewSelect=function(e){switch(e.label){case"folder view":case"parallel view":case"list view":o.props.toggleViewMode(o.props.collection.get("viewId"),e.value);break;default:console.log("no valid selection")}},o.handleDestinationSelect=function(e){e?o.props.setCollectionDestination(o.props.collection.get("viewId"),e):o.props.setCollectionDestination(o.props.collection.get("viewId"),[])},o.handleDoubleClick=function(e){e.stopPropagation(),e.preventDefault()},o.handleFocus=function(e){e.target.select()},o.handleKeyPress=function(e){"Enter"===e.key&&o.handleBlur(e)},o.handleDrag=function(e){e.stopPropagation(),e.preventDefault(),o.setState({isDragging:!o.state.isDragging})},o.handleDragClick=function(e){e.stopPropagation(),e.preventDefault()},o.handleTextChange=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.value.replace(/#/g,"").replace(/ /g,"-"),n={refId:o.props.collection.get("refId"),viewId:o.props.collection.get("viewId")};o.props.changeMultipleName(n),o.setState({collectionName:t})},o.handleAspectRatio=function(e){var t={viewId:o.props.collection.get("viewId"),width:0,height:6,isResizable:!1};t.width=Math.floor(.4*e.length)>4?Math.floor(.4*e.length):4,o.props.updateAspectRatio(t)},o.handleUnlockAspectRatio=function(){var e={viewId:o.props.collection.get("viewId"),isResizable:!0};o.props.updateUnlockAspectRatio(e)},o.state={width:0,height:0,isTagging:!1,isDragging:!1,collectionName:"",shouldFocus:null},o.infoRef=i.a.createRef(),o.destinationOptions=[],o.tagOptions=[],o}return Object(ge.a)(n,[{key:"render",value:function(){var e=this,t=Q(this.props.layouts,this.props.collection.get("viewId")).get("h"),n="C";this.props.collection.get("isSelected")?n="A":!this.props.collection.get("isSelected")&&this.props.selectedCols.includes(this.props.collection.get("refId"))&&(n="B");var o=we()({[Fe.a.collection]:"C"===n,[Fe.a["collection-selected"]]:"A"===n,[Fe.a["collection-related"]]:"B"===n}),a=we()({[Fe.a["start-drag"]]:!this.state.dragging,"drag-handle":!0,[Fe.a.dragging]:this.state.dragging}),r={container:function(e,t){return Object(T.a)(Object(T.a)({},e),{},{zIndex:t.isFocused?"998":"1"})}};return this.destinationOptions=this.props.loadOptions(this.props.collection.get("viewId")),this.loadTags(),i.a.createElement("div",{key:"collection-box-"+this.props.collection.get("viewId"),ref:function(t){return e.cmpEl=t},className:o,style:this.props.style,onDoubleClick:this.handleDoubleClick},i.a.createElement("div",{onClick:this.handleSelect,className:Fe.a.pointer2},i.a.createElement("div",{className:Fe.a["icon-handle"]},i.a.createElement("span",null,i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.25em"}},i.a.createElement(Ae.a,{title:"move",className:a,onClick:this.handleDragClick,onDragStart:this.handleDrag,onDragEnd:this.handleDrag}))),i.a.createElement("span",{style:{marginLeft:"12px"}},i.a.createElement(Oe.b.Provider,{value:{size:"1.25em",color:Fe.a.colorSelected,paddingLeft:"2px"}},i.a.createElement(Ne.b,{title:"unselect",onClick:this.handleUnselectClick,className:Fe.a.pointer}))),i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.25em",color:Fe.a.colorHovered}},i.a.createElement(Ne.c,{title:"select hovered",className:Fe.a.pointer,onClick:this.handleHovsClick}))),i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.25em",color:Fe.a.colorSelectedRelated}},i.a.createElement(Ne.c,{title:"select refed",className:Fe.a.pointer,onClick:this.handleRefsClick})))),W(!this.props.collection.get("isEditingName"),i.a.createElement("div",{className:Fe.a["collection-name-div"],onDoubleClick:this.toggleEditViewForCollection},i.a.createElement("div",{className:Fe.a["collection-title-div"]},i.a.createElement("h4",{className:Fe.a["collection-name"],onDoubleClick:this.toggleEditViewForCollection},b(this.props.collection))),i.a.createElement("div",{className:Fe.a["collection-titleView-div"]},i.a.createElement("h4",{className:Fe.a["collection-name-view"]},this.props.collection.get("collectionNameView")))),i.a.createElement("div",{className:Fe.a["collection-name-div"]},i.a.createElement("div",{className:Fe.a["collection-input-div"]},i.a.createElement("input",{id:this.props.collection.get("viewId"),type:"text",onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,className:Fe.a.textInputStyle,onChange:this.handleTextChange,value:this.state.collectionName})),i.a.createElement("div",{className:Fe.a["collection-titleView-div"]},i.a.createElement("h4",{className:Fe.a["collection-name-view"]},this.props.collection.get("collectionNameView"))))),i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.35em"}},i.a.createElement(Ne.v,{title:"sink",className:Fe.a.pointer,onClick:this.handleMinimizeClick})),i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.35em"}},i.a.createElement(Ne.h,{title:"empty",className:Fe.a.pointer,onClick:this.handleEmptyClick}))),i.a.createElement("span",null,i.a.createElement(Oe.b.Provider,{value:{size:"1.35em"}},i.a.createElement(Ne.i,{title:"delete",className:Fe.a.pointer,onClick:this.handleCloseClick})))))),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row"}},t<2?null:i.a.createElement("div",{style:{flex:"60%",marginRight:"1%"}},i.a.createElement($e.a,{styles:r,defaultValue:eo[this.props.collection.get("viewType")-1],options:eo,onChange:this.handleViewSelect})),2!==this.props.collection.get("viewType")?null:i.a.createElement("div",{style:{flex:"30%",marginLeft:"1%"}},i.a.createElement($n.a,{styles:r,isMulti:!0,placeholder:"destination collection(s)",options:this.destinationOptions,onChange:this.handleDestinationSelect}))),i.a.createElement("hr",null),1===this.props.collection.get("viewType")?i.a.createElement(Ue,{altsInCollection:this.props.altsInCollection,layoutForCollection:this.props.layoutForCollection,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,toggleAltView:this.props.toggleAltView,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts}):null,2===this.props.collection.get("viewType")?i.a.createElement(Hn,{width:this.state.width,height:this.state.height,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,deselectAllAlternatives:this.props.deselectAllAlternatives,hoverAlternative:this.props.hoverAlternative,hoverAlternativeSpecial:this.props.hoverAlternativeSpecial,dehoverAlternative:this.props.dehoverAlternative,sendMessage:this.props.sendMessage,altsInCollection:this.props.altsInCollection,collection:this.props.collection,alternatives:this.props.alternatives,cloneAlternatives:this.props.cloneAlternatives,createNewCollection:this.props.createNewCollection,setCollectionMode:this.props.setCollectionMode,infoRef:this.infoRef,restoreAlternative:this.props.restoreAlternative,selectedAlts:this.props.selectedAlts,lockAspectRatio:this.handleAspectRatio.bind(this),unlockAspectRatio:this.handleUnlockAspectRatio}):null,3===this.props.collection.get("viewType")?i.a.createElement(zn,{width:this.state.width,height:this.state.height,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,hoverAlternative:this.props.hoverAlternative,dehoverAlternative:this.props.dehoverAlternative,altsInCollection:this.props.altsInCollection,collection:this.props.collection,alternatives:this.props.alternatives,selectedAlts:this.props.selectedAlts}):null,i.a.createElement(Oe.b.Provider,{value:{size:"1.15em"}},i.a.createElement(Ie.a,{title:"tag",className:Fe.a.tagEdit,onClick:this.toggleTagging})),i.a.createElement(Kn,{altsInCollection:this.props.altsInCollection.toJS(),infoRef:this.infoRef}),this.state.isTagging?i.a.createElement("div",{style:{marginLeft:"5%"}},i.a.createElement($n.a,{styles:r,isMulti:!0,onChange:this.handleTaggingSelect,defaultValue:this.tagOptions,menuPosition:"fixed"})):null,i.a.createElement(Zn,{tagOptions:this.tagOptions}))}}]),n}(o.PureComponent),no=n(125),oo=n.n(no),io=n(312),ao=n(405),ro=n(311),lo=n(315),so=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleSizeChange=function(e){o.setState({altSize:e.target.value}),o.props.setAlternativeSize(e.target.value)},o.handleTypeChange=function(e){o.setState({colType:e.target.value}),o.props.setCompactionType(e.target.value)},o.handlePreventionChange=function(e){o.setState({colPrev:e.target.value}),o.props.setCollisionPrevention(e.target.value)},o.handleSettingsClose=function(){o.setState({settingsOpen:!1}),o.props.toggleSettings()},o.handleSizeClose=function(){o.setState({selectBox1Open:!1})},o.handleSizeOpen=function(){o.setState({selectBox1Open:!0})},o.handleTypeClose=function(){o.setState({selectBox2Open:!1})},o.handleTypeOpen=function(){o.setState({selectBox2Open:!0})},o.handlePreventionClose=function(){o.setState({selectBox3Open:!1})},o.handlePreventionOpen=function(){o.setState({selectBox3Open:!0})},o.handleSelect=function(){"undefined"!==typeof o.selectProject&&o.selectProject.name&&(o.props.selectProject(o.selectProject),o.setState({settingsOpen:!1}))},o.handleCreate=function(){""!==o.newProjectName&&(o.props.createProject(o.newProjectName,o.newProjectDescription),o.setState({settingsOpen:!1}))},o.onProjectChange=function(e){var t=o.props.projects.toJS().findIndex((function(t){return t.name===e.value}));t>-1&&(o.selectProject=o.props.projects.toJS()[t])},o.onProjectNameChange=function(e){o.newProjectName=e.target.value},o.onProjectDescriptionChange=function(e){o.newProjectDescription=e.target.value},o.state={settingsOpen:!0,selectBox1Open:!1,selectBox2Open:!1,selectBox3Open:!1,altSize:o.props.settings.get("alternativeImageSize"),colType:o.props.settings.get("collectionCompactionType"),colPrev:o.props.settings.get("preventCollision")},o.selectedProject={},o.newProjectName="",o.newProjectDescription="",o}return Object(ge.a)(n,[{key:"render",value:function(){this.props.projects.toJS().map((function(e){return e.name}))[0];return i.a.createElement("div",null,i.a.createElement(tt.a,{className:oo.a.panel,open:this.state.settingsOpen,onClose:this.handleSettingsClose,"aria-labelledby":"settings-dialog-title","aria-describedby":"settings-dialog-description"},i.a.createElement(at.a,{id:"settings-dialog-title"},"Settings"),i.a.createElement("hr",null),i.a.createElement(ot.a,{className:oo.a["panel-content"]},i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,"alternative image size")),i.a.createElement("td",null,i.a.createElement(ro.a,null,i.a.createElement(io.a,{id:"open-select-label"}),i.a.createElement(lo.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox1Open,onClose:this.handleSizeClose,onOpen:this.handleSizeOpen,value:this.state.altSize,onChange:this.handleSizeChange},i.a.createElement(ao.a,{value:150},"Small"),i.a.createElement(ao.a,{value:180},"Medium"),i.a.createElement(ao.a,{value:210},"Large"))))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,"collection tiling method")),i.a.createElement("td",null,i.a.createElement(ro.a,null,i.a.createElement(io.a,{id:"open-select-label"}),i.a.createElement(lo.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox2Open,onClose:this.handleTypeClose,onOpen:this.handleTypeOpen,value:this.state.colType,onChange:this.handleTypeChange},i.a.createElement(ao.a,{value:"none"},"None"),i.a.createElement(ao.a,{value:"vertical"},"Vertical"),i.a.createElement(ao.a,{value:"horizontal"},"Horizontal"))))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("p",null,"prevent collection collision")),i.a.createElement("td",null,i.a.createElement(ro.a,null,i.a.createElement(io.a,{id:"open-select-label"}),i.a.createElement(lo.a,{labelId:"open-select-label",id:"open-select",open:this.state.selectBox3Open,onClose:this.handlePreventionClose,onOpen:this.handlePreventionOpen,value:this.state.colPrev,onChange:this.handlePreventionChange},i.a.createElement(ao.a,{value:!1},"Yes"),i.a.createElement(ao.a,{value:!0},"No"))))))),i.a.createElement("hr",null),i.a.createElement("div",{className:oo.a.containerForProjectAndName},i.a.createElement("p",{className:oo.a.projectLabel},"User Name: "),i.a.createElement("p",{className:oo.a.projectTitle}," ",this.props.user.get("username"))),i.a.createElement("div",{className:oo.a.containerForProjectAndName},i.a.createElement("p",{className:oo.a.projectLabel},"Project: "),i.a.createElement("p",{className:oo.a.projectTitle}," ",this.props.selectedProject.name)),i.a.createElement(nt.a,null,i.a.createElement(et.a,{onClick:this.handleSettingsClose,color:"primary"},"OK")))))}}]),n}(o.PureComponent),co=n(137),uo=n.n(co),po=n(417),go=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleSearchClose=function(e){e.preventDefault(),o.setState({searchOpen:!1}),o.props.toggleSearch()},o.handleSearchText=function(e){o.setState({searchText:e.target.value})},o.handleSubmit=function(e){if(e.preventDefault(),o.state.searchText)o.props.handleSearch(o.state.searchText);else{o.props.searchedCollectionFailed([])}},o.removeValidation=function(){o.props.search.get("showValidation")&&(o.props.searchedCollectionSuccess(),o.props.emptyMissMatchArray())},o.state={searchOpen:!0,searchText:""},o}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(tt.a,{className:uo.a.panel,open:this.state.searchOpen,onClose:this.handleSearchClose,"aria-labelledby":"search-dialog-title"},i.a.createElement(at.a,{id:"search-dialog-title"},"Collection Search"),i.a.createElement("hr",null),i.a.createElement(ot.a,{className:uo.a["panel-content"]},i.a.createElement("form",{onSubmit:this.handleSubmit,className:uo.a["panel-form"]},i.a.createElement(po.a,{className:uo.a["panel-textField"],onClick:this.removeValidation,id:"outlined-full-width",label:"Search",placeholder:"Enter Collection name",variant:"outlined",onChange:this.handleSearchText,value:this.state.searchText,error:this.props.search.get("showValidation"),helperText:this.props.search.get("showValidation")?"Can't find collection "+this.props.search.get("missMatchCollectionNames").toString():null}),i.a.createElement("div",{className:uo.a["panel-buttons-container"]},i.a.createElement(et.a,{type:"submit",color:"primary",className:uo.a["panel-button"]},"Search"),i.a.createElement(et.a,{onClick:this.handleSearchClose,color:"primary",className:uo.a["action-button"]},"Close"))))))}}]),n}(o.PureComponent),ho=n(126),fo=n.n(ho),mo=n(275),vo=n.n(mo),Eo=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleClick=function(t,n){var o=t.clientX,i=t.clientY,a=A(o,i-64),r=K(e.props.layouts,n),l=d.a.fromJS({x:a.x,y:a.y,w:r?r.get("w"):3,h:r?r.get("h"):5,i:n});e.props.addLayoutObject(l),e.props.restoreCollection(n)},e}return Object(ge.a)(n,[{key:"render",value:function(){var e=this,t=this.props.collections.get("collections").filter((function(e){return!0===e.get("isSinked")})).map((function(t){return i.a.createElement("tr",{className:vo.a["items-list"],key:"sink-item-"+t.get("viewId"),onClick:function(n){return e.handleClick(n,t.get("viewId"))}},i.a.createElement("td",null,t.get("collectionName")))}));return i.a.createElement("div",{className:vo.a["sink-list-menu"]},i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null," Collections in Sink ",i.a.createElement("hr",{className:vo.a["hr-sinkList"]}))),t)))}}]),n}(o.PureComponent),So=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),yo=function(e){return function(t,n){return fetch(x.get("deleteCollection"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(){var o=n().collections.get("collections"),i=n().alternatives.get("alternatives");C(o,e).get("altsid").map((function(e){var n=M(i,e);t(vn(n.get("viewId")))})),Object(l.b)((function(){t(pn(e)),t(function(e){return{type:p.get("DELETE_COLLECTION"),payload:e}}(e)),t(Xt(wt.b.success("Collection deleted"),"collection deleted "+So))}))})).catch((function(e){console.log(e),t($t(wt.b.error("Collection is not deleted"),"collection not deleted "+So))}))}},Co=function(e){return function(t){return fetch(x.get("collections"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){200===e.status?t(Xt(wt.b.success("Collection updated"),"collection updated "+So)):t(Zt(wt.b.warning("Something went wrong"),"something went wrong "+So))})).catch((function(e){t($t(wt.b.error("Collection is not updated"),"collection not updated "+So))}))}},_o=function(e){return fetch(x.get("layout_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({layout:e})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))},bo=function(e){Object(he.a)(o,e);var t=Object(fe.a)(o);function o(){var e;Object(pe.a)(this,o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).handleSinkClick=function(t){t.stopPropagation(),e.props.header.get("listShow")?e.props.hideSinkList():e.props.showSinkList()},e.handleHistoryClick=function(t){t.stopPropagation(),e.props.toggleHistory()},e.handleUnselectAllClick=function(t){t.stopPropagation(),e.props.deselectAllCollections(),e.props.deselectAllAlternatives(),e.props.hideHeader(),qe.k(".alt").style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null),qe.k(".pc").style("stroke",fo.a.colorUnselected).style("opacity",.3),qe.k(".tableList").style("background-color","#ffffff")},e.handleSettingsClick=function(t){t.stopPropagation(),e.props.toggleSettings()},e.handleSearchClick=function(t){t.stopPropagation(),e.props.toggleSearch()},e.handleHelpClick=function(e){e.stopPropagation();window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","docs")},e.handleGatherAll=function(t){try{e.props.gatherAllCollections()}catch(n){console.log(n)}finally{_o(e.props.layouts.get("gridLayout").toJS())}},e}return Object(ge.a)(o,[{key:"render",value:function(){var e={position:"absolute",top:this.props.header.get("headerY"),left:this.props.header.get("headerX"),zIndex:3},t={backgroundColor:"white"};return i.a.createElement("div",{style:e},i.a.createElement("input",{className:fo.a["right-click-menu"],id:"right-click-menu"}),i.a.createElement("label",{htmlFor:"right-click-menu"}),i.a.createElement("img",{style:t,src:n(631),alt:"DStar-logo",onClick:this.handleGatherAll}),i.a.createElement("ul",null,i.a.createElement("li",{title:"Unselect All",className:fo.a["right-click-icon"],onClick:this.handleUnselectAllClick}," ",i.a.createElement("a",{style:t},i.a.createElement(Ne.s,null))," "),i.a.createElement("li",{title:"Show History",className:fo.a["right-click-icon"],onClick:this.handleHistoryClick}," ",i.a.createElement("a",{style:t},i.a.createElement(Ne.p,null))," "),i.a.createElement("li",{title:"Show Sink",className:fo.a["right-click-icon"],onClick:this.handleSinkClick}," ",i.a.createElement("a",{style:t},i.a.createElement(Ne.v,null))," "),i.a.createElement("li",{title:"Settings",className:fo.a["right-click-icon"],onClick:this.handleSettingsClick}," ",i.a.createElement("a",{style:t},i.a.createElement(Ne.u,null))),i.a.createElement("li",{title:"Search",className:fo.a["right-click-icon"],onClick:this.handleSearchClick},"  ",i.a.createElement("a",{style:t},i.a.createElement(Ne.t,null))," "),i.a.createElement("li",{title:"Help",className:fo.a["right-click-icon"],onClick:this.handleHelpClick}," ",i.a.createElement("a",{style:t},i.a.createElement(Ne.j,null))),i.a.createElement("div",null,this.props.header.get("listShow")?i.a.createElement(Eo,this.props):null)))}}]),o}(o.PureComponent),wo=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return W(this.props.header.get("headerShow"),i.a.createElement(bo,this.props))}}]),n}(o.Component),No=Object(l.c)((function(e){return{header:e.header,layouts:e.layouts,collections:e.collections}}),(function(e){return{showSinkList:function(){var t,n;e({type:p.get("SHOW_SINK_LIST"),listX:t,listY:n})},hideSinkList:function(){e(Cn())},addLayoutObject:function(t){e(En(t))},toggleHistory:function(){e(en())},gatherAllCollections:function(){e({type:p.get("GATHER_ALL_COLLECTIONS")})},toggleSettings:function(){e(Nn())},dehoverAllAlternative:function(){e(mn())},hideHeader:function(){e(yn())},toggleSearch:function(){e(An())},restoreCollection:function(t){e(function(e){return function(t){return fetch(x.get("sinkCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionId:e})}).then((function(){Object(l.b)((function(){t(_n(e)),t(Xt(wt.b.success("Collection restored"),"collection restored "+So))}))})).catch((function(e){console.log(e),t($t(wt.b.error("Collection not restored"),"collection not restored "+So))}))}}(t))}}}))(wo),Ao=n(84),Io=n.n(Ao),Oo=(n(632),function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){var e;Object(pe.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).hideHistoryPane=function(t){t.stopPropagation(),e.props.toggleHistory()},e}return Object(ge.a)(n,[{key:"render",value:function(){var e=this.props.notifications.get("errors"),t=this.props.notifications.get("warnings"),n=this.props.notifications.get("successes"),o=e.map((function(e){return i.a.createElement("tr",{key:e.get("id")},i.a.createElement("td",null,e.get("message")))})),a=t.map((function(e){return i.a.createElement("tr",{key:e.get("id")},i.a.createElement("td",null,e.get("message")))})),r=n.map((function(e){return i.a.createElement("tr",{key:e.get("id")},i.a.createElement("td",null,e.get("message")))}));return i.a.createElement("div",null,i.a.createElement(wt.a,{className:Io.a["toast-container"],toastClassName:Io.a["each-toast"],position:"bottom-right",draggable:!1,closeButton:!1,autoClose:3e3,rtl:!0}),i.a.createElement("div",null," ",this.props.notifications.get("showHistory")?i.a.createElement("div",{className:Io.a["history-pane"],onClick:this.hideHistoryPane},i.a.createElement("span",null,i.a.createElement(Ne.e,{className:Io.a.closeIcon,onClick:this.handleCloseClick})),i.a.createElement("div",{className:Io.a["success-pane"]},i.a.createElement("span",{className:Io.a["title-bar"]},n.size+" messages"),i.a.createElement("hr",{className:Io.a["hr-history-pane"]}),i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("tbody",null,r)))),i.a.createElement("div",{className:Io.a["warning-pane"]},i.a.createElement("span",{className:Io.a["title-bar"]},t.size+" messages"),i.a.createElement("hr",{className:Io.a["hr-history-pane"]}),i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("tbody",null,a)))),i.a.createElement("div",{className:Io.a["error-pane"]},i.a.createElement("span",{className:Io.a["title-bar"]},e.size+" messages"),i.a.createElement("hr",{className:Io.a["hr-history-pane"]}),i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("tbody",null,o))))):null," "))}}]),n}(o.PureComponent)),ko=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return W(!0,i.a.createElement(Oo,this.props))}}]),n}(o.Component),To=Object(l.c)((function(e){return{notifications:e.notifications}}),(function(e){return{successMessage:function(t,n){e(Xt(t,n))},warningMessage:function(t,n){e(Zt(t,n))},errorMessage:function(t,n){e($t(t,n))},toggleHistory:function(){e(en())}}}))(ko),jo=n(33),Lo=n.n(jo),Po=n(319),xo=n.n(Po),Mo=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Do=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).renderCollection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.map((function(e){return i.a.createElement("div",{key:e.get("viewId"),"data-grid":Q(t,e.get("viewId")).toJS()},i.a.createElement(to,Object.assign({key:e.get("viewId"),id:e.get("refId"),layouts:t,collection:e,altsInCollection:w(e,o.props.alternatives.get("alternatives")),isDraggable:!0,isResizable:!0,layoutForCollection:Q(t,e.get("viewId"))},n)))}))},o.onLayoutChange=function(e){o.props.sendMessage(o.refWebSocket,{layout:e,type:L.get("LAYOUT_UPDATE_MESSAGE_TYPE")})},o.sendMessage=function(e){o.props.sendMessage(o.refWebSocket,e)},o.handleKeyEvents=function(e){e.altKey&&67===e.keyCode&&(console.log("you have pressed ALT+C "),o.props.clearAltsClipboard(),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).toJS().length>0?o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){o.props.clipAlternatives(e.get("viewId"),e.get("refId")),o.props.successMessage(wt.b.success("alternative cliped"),"alternative cliped "+Mo)})):o.props.warningMessage(wt.b.warning("Please select an alternative"),"please select an alternative "+Mo));e.altKey&&88===e.keyCode&&(console.log("you have pressed ALT+X "),o.props.clearAltsClipboard(),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).length>0?o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){o.props.clipAlternatives(e.get("viewId"),e.get("refId")),o.props.cutAlternativesFromCollection(e.get("viewId"))})):o.props.warningMessage(wt.b.warning("Please select an alternative"),"please select an alternative "+Mo));if(!e.shiftKey&&e.altKey&&8===e.keyCode){console.log("you have pressed ALT+BACKSPACE/DELETE"),o.props.clearAltsClipboard();var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")}));t.size>0?o.props.removeAlternativesFromCollection(t):o.props.warningMessage(wt.b.warning("Please select an alternative"),"please select an alternative "+Mo)}e.shiftKey&&e.altKey&&8===e.keyCode&&(console.log("you have pressed SHIFT+ALT+BACKSPACE/DELETE"),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).size>0?o.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected alternative views and their underlying alternative?",confirmAction:o.handleAlternativeDelete}):o.props.warningMessage(wt.b.warning("Please select an alternative"),"please select an alternative "+Mo));if(e.altKey&&86===e.keyCode){console.log("you have pressed ALT+V");var n=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS(),i=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();o.props.refAlternatives(n,i)}if(e.altKey&&66===e.keyCode){console.log("you have pressed ALT+B");var a=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS(),r=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).toJS();o.props.cloneAlternatives(a,r)}e.ctrlKey&&67===e.keyCode&&(console.log("you have pressed CTRL+C"),o.props.clearColsClipboard(),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).toJS().length>0?o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(t){try{var n=C(o.props.collections.get("collections"),t.get("viewId")).get("altsid"),i=Q(o.props.layouts,t.get("viewId"));o.props.clipCollection(t.get("viewId"),t.get("refId"),n,i),o.props.successMessage(wt.b.success("collection copied"),"collection copied"+Mo)}catch(e){console.error(e.message)}})):o.props.warningMessage(wt.b.warning("Please select a collection"),"please select a collection "+Mo));e.ctrlKey&&88===e.keyCode&&(console.log("you have pressed CTRL+X"),o.props.clearColsClipboard(),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).size>0?o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(t){try{var n=C(o.props.collections.get("collections"),t.get("viewId")).get("altsid");n.toJS().map((function(e){return o.props.deselectAlternative(e.viewId)}));var i=Q(o.props.layouts,t.get("viewId"));o.props.clipCollection(t.get("viewId"),t.get("refId"),n,i),o.props.deselectCollection(t.get("viewId")),o.props.deleteCollections(t.get("viewId"))}catch(e){console.error(e.message)}})):o.props.warningMessage(wt.b.warning("Please select a collection"),"please select a collection "+Mo));if(!e.shiftKey&&e.ctrlKey&&8===e.keyCode){console.log("you have pressed CTRL+BACKSPACE/DELETE"),o.props.clearColsClipboard();var l=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")}));l.size>0?l.map((function(e){o.props.deleteCollections(e)})):o.props.warningMessage(wt.b.warning("Please select a collection"),"please select a collection "+Mo)}e.shiftKey&&e.ctrlKey&&8===e.keyCode&&(console.log("you have pressed SHIFT+CTRL+BACKSPACE/DELETE"),o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})).size>0?o.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected collection views and their underlying collection?",confirmAction:o.handleCollectionDelete}):o.props.warningMessage(wt.b.warning("Please select a collection"),"please select a collection "+Mo));if(e.ctrlKey&&86===e.keyCode)if(console.log("you have pressed CTRL+V"),o.props.collections.get("clippedCollections").size>0){var s=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.copyWithRefCollection(s.toJS())}else o.props.warningMessage(wt.b.warning("Please copy a collection first"),"please copy a collection first "+Mo);if(!e.shiftKey&&e.ctrlKey&&66===e.keyCode)if(console.log("you have pressed CTRL+B"),o.props.collections.get("clippedCollections").size>0){var c=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.cloneCollection(c.toJS())}else o.props.warningMessage(wt.b.warning("Please copy a collection first"),"please copy a collection first "+Mo);if(e.shiftKey&&e.ctrlKey&&66===e.keyCode)if(console.log("you have pressed SHIFT+CTRL+B"),o.props.collections.get("clippedCollections").size>0){var u=o.props.collections.get("clippedCollections").map((function(e){return{layout:e.get("layout").toJS(),viewId:e.get("viewId")}}));o.props.deepCloneCollection(u.toJS())}else o.props.warningMessage(wt.b.warning("Please copy a collection first"),"please copy a collection first "+Mo);if(e.shiftKey&&e.ctrlKey&&78===e.keyCode)if(console.log("you have pressed SHIFT+CTRL+N"),o.props.alternatives.get("clippedAlternatives").size>0){var d=o.props.alternatives.get("clippedAlternatives").map((function(e){return e.get("viewId")})).toJS();o.props.cloneAltInNewCollection(d)}else o.props.warningMessage(wt.b.warning("Please copy an alternative first"),"please copy an alternative first "+Mo)},o.handleCollectionDelete=function(e){o.props.clearColsClipboard();var t=o.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("viewId")})),n=[];t.map((function(e){return function(e,t){var n=e.find((function(e){return e.get("viewId")===t})),o=n.get("refId");return e.filter((function(e){return e.get("refId")===o})).filter((function(e){return e.get("viewId")!==n.get("viewId")}))}(o.props.collections.get("collections"),e).map((function(e){return n.push(e.get("viewId"))}))})),n.concat(t.toJS()).map((function(e){o.props.deselectCollection(e),o.props.deleteCollections(e)})),o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleAlternativeDelete=function(e){o.props.clearAltsClipboard();var t=o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})),n=[];t.map((function(e){return n.push(e)})),t.map((function(e){return D(o.props.alternatives.get("alternatives"),e.get("viewId")).map((function(e){return n.push(e)}))})),o.props.removeAlternativesFromCollection(n),o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleDoubleClick=function(e){if(console.log(o.props.settings.get("showSettings")),!o.props.header.get("headerShow")&&!o.props.settings.get("showSettings")){var t=A(e.clientX-12,e.clientY-48);o.props.createNewCollection(t.x,t.y)}},o.handleContextMenu=function(e){e.preventDefault(),o.props.showHeader(e.pageX,e.pageY)},o.getRefId=function(e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){return t.value.get("refId")}}catch(o){n.e(o)}finally{n.f()}},o.hideHeader=function(){var e=o.props.collections.get("collections").filter((function(e){return e.get("isEditingName")}));if(e.size>0){var t=o.getRefId(e);o.props.isEditingCollectionsName(t),o.props.removeFocus()}o.props.header.get("headerShow")&&(o.props.hideHeader(),o.props.hideSinkList())},o.loadOptions=function(e){return o.props.collections.get("collections").filter((function(t){return t.get("viewId")!==e})).map((function(e){return{label:e.get("collectionName"),collectionName:e.get("collectionName")+"-"+e.get("collectionNameView"),value:e.get("viewId"),__isNew__:!1}}))},o.cloneAlternativesFromTaggedCollections=function(e,t){var n,i;(n=o.props.collections.get("collections"),i=e,n.filter((function(e){return!!e.get("tags").contains(i)}))).map((function(e){var n=C(o.props.collections.get("collections"),e.get("viewId")).get("altsid").toJS();o.props.cloneAlternatives(n,[t])}))},o.hoverAlternative=function(e,t){var n=o.props.alternatives.get("alternatives").find((function(t){return t.get("viewId")===e})).get("isSelected");n?(qe.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",Lo.a.colorHoveredSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Lo.a.colorHoveredSelected),qe.k(".pc-ref-"+t).style("stroke",Lo.a.colorHoveredSelected).style("opacity",1),qe.k(".tableList-ref-"+t).style("background-color",Lo.a.colorHoveredSelected)):!n&&o.selectedAlts.includes(t)?(qe.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",Lo.a.colorHoveredRelated).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Lo.a.colorHoveredRelated),qe.k(".pc-ref-"+t).style("stroke",Lo.a.colorHoveredRelated).style("opacity",1),qe.k(".tableList-ref-"+t).style("background-color",Lo.a.colorHoveredRelated)):(qe.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",Lo.a.colorHovered).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Lo.a.colorHovered),qe.k(".pc-ref-"+t).style("stroke",Lo.a.colorHovered).style("opacity",1),qe.k(".tableList-ref-"+t).style("background-color",Lo.a.colorHovered))},o.dehoverAlternative=function(e,t){var n=o.props.alternatives.get("alternatives").find((function(t){return t.get("viewId")===e})).get("isSelected");n||!n&&o.selectedAlts.includes(t)?(qe.k(".alt-ref-"+t).style("border","1.5px").style("border-style","solid").style("border-color",Lo.a.colorSelectedRelated).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Lo.a.colorSelectedRelated),qe.k(".pc-ref-"+t).style("stroke",Lo.a.colorSelectedRelated).style("opacity",.7),qe.k(".tableList-ref-"+t).style("background-color",Lo.a.colorSelectedRelated),o.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){qe.j(".alt-view-"+e.get("viewId")).style("border","1.5px").style("border-style","solid").style("border-color",Lo.a.colorSelected).style("border-radius","7px").style("-webkit-box-shadow","0px 0px 5px "+Lo.a.colorSelected),qe.j(".pc-view-"+e.get("viewId")).style("stroke",Lo.a.colorSelected).style("opacity",1),qe.j(".tableList-view-"+e.get("viewId")).style("background-color",Lo.a.colorSelected)}))):n||o.selectedAlts.includes(t)||(qe.k(".alt-ref-"+t).style("border",null).style("border-style",null).style("border-color",null).style("border-radius",null).style("-webkit-box-shadow",null),qe.k(".pc-ref-"+t).style("stroke",Lo.a.colorUnselected).style("opacity",.3),qe.k(".tableList-ref-"+t).style("background-color","#ffffff"))},o.handleSearch=function(e){for(var t=e.replace(/ /g,"").split(","),n=null,i=!0,a=[],r=function(e){(n=o.props.collections.get("collections").find((function(n){return n.get("collectionName").toLowerCase()===t[e].toLowerCase()})))?o.props.selectCollection(n.get("viewId")):(i=!1,a.push(t[e]),o.props.searchedCollectionFailed())},l=0;l<t.length;l++)r(l);i?(o.props.searchedCollectionSuccess(),o.props.toggleSearch()):o.props.searchedCollectionFailed(a)},o.updateLayoutForCollection=function(e){var t=e.get("i");o.props.updateLayoutForCollection(t)},o.changeMultipleName=function(e){var t=o.props.collections.get("collections").filter((function(t){return t.get("refId")===e.refId}));if(t.size>1){var n,i=Object(h.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.get("isEditingName")){var r=document.getElementById(e.viewId);if(a.get("viewId")!==e.viewId){var l=document.getElementById(a.get("viewId"));null!==l&&(l.value=r.value)}}}}catch(s){i.e(s)}finally{i.f()}o.state.isMultipleInputs||o.setState({isMultipleInputs:!0})}},o.checkNameExists=function(e,t){var n,o=0,i=0,a=Object(h.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value,l=r.get("collectionName").substring(0,e.length+1);if(r.get("collectionName")===e)o++;else if(l===e+":"){o++;var s=r.get("collectionName").split(":"),c=parseInt(s[1],10);i<=c&&(i=c)}}}catch(u){a.e(u)}finally{a.f()}return i>o?i+1:o},o.updateMultipleNames=function(e){var t=o.props.collections.get("collections").filter((function(t){return t.get("refId")===e.collection.get("refId")}));if(null!==t&&t.size>1){var n,i=Object(h.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{var r=a.toJS();r.collectionName=e.name+"-"+r.collectionNameView,o.props.updateCollection(r)}catch(l){console.log(l)}finally{o.props.editNameForCollection(a.get("viewId"),e.name)}}}catch(l){i.e(l)}finally{i.f()}o.setState({isMultipleInputs:!1})}else console.log("has no ref")},o.namesExists=function(e,t){return function(e,t,n){var o,i=t.filter((function(e){return e.get("viewId")!==n.get("viewId")&&e.get("refId")!==n.get("refId")})),a=!1,r=Object(h.a)(i);try{for(r.s();!(o=r.n()).done;){o.value.get("collectionName").toLowerCase()===e.toLowerCase()&&(a=!0)}}catch(l){r.e(l)}finally{r.f()}return a}(e,o.props.collections.get("collections"),t)},o.showWarningMessage=function(){o.props.warningMessage(wt.b.warning("Name already exists"),"Name already exists"+Mo)},o.handleNameExists=function(e,t){return o.props.warningMessage(wt.b.warning("Collection ".concat(t," already exists")),"Name already exists"+Mo),function(e,t,n){var o,i=0,a=0,r=e.filter((function(e){return e.get("viewId")!==n.get("viewId")})),l=Object(h.a)(r);try{for(l.s();!(o=l.n()).done;){var s=o.value,c=s.get("collectionName").split(":");if(s.get("collectionName").toLowerCase()===t.toLowerCase())i++;else if(c[0].toLowerCase()===t.toLowerCase()){var u=parseInt(c[1],10);u>a&&(a=u)}}}catch(d){l.e(d)}finally{l.f()}return a>=i?a+1:i}(o.props.collections.get("collections"),t,e)},o.nameHasTheSameValue=function(e){o.props.warningMessage(wt.b.warning("Collection name did not change"),"collection name did not change"+Mo),o.props.isEditingCollectionsName(e)},o.updateAspectRatio=function(e){var t=Object(Ee.a)(o.props.layouts.get("gridLayout").toJS()).map((function(t){return t.i===e.viewId?(t.w=e.width,t.h=e.height,t.isResizable=e.isResizable,t):t}));o.props.updateMaxColumns(t)},o.updateUnlockAspectRatio=function(e){var t=Object(Ee.a)(o.props.layouts.get("gridLayout").toJS()).map((function(t){return t.i===e.viewId?(t.isResizable=e.isResizable,t):t}));o.props.updateMaxColumns(t)},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.state={shouldWarn:!1,confirmAction:null,warningMessage:"",matchNumOfColums:0,scrollX:0,editingNames:!1,editName:"",isMultipleInputs:!1},o.selectedAlts=[],o.selectedCols=[],o}return Object(ge.a)(n,[{key:"render",value:function(){var e=this,t=N(this.props.layouts.get("maxColumns"),L.get("MARGIN"),L.get("CELL_DIM"),L.get("BUFFER")),n={width:window.innerWidth+"px",minWidth:"100%",height:window.innerHeight+"px",minHeight:"100%"};return this.selectedAlts=Object(Ee.a)(new Set(this.props.alternatives.get("alternatives").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("refId")})).toJS())),this.selectedCols=Object(Ee.a)(new Set(this.props.collections.get("collections").filter((function(e){return e.get("isSelected")})).map((function(e){return e.get("refId")})).toJS())),i.a.createElement("div",{ref:this.mainRef,onKeyDown:this.handleKeyEvents,onDoubleClick:this.handleDoubleClick,tabIndex:"0",style:n,onContextMenu:this.handleContextMenu,onClick:this.hideHeader,className:Lo.a.container},i.a.createElement(No,{deselectAllCollections:this.props.deselectAllCollections,deselectAllAlternatives:this.props.deselectAllAlternatives}),i.a.createElement(To,null),i.a.createElement(ye.a,{className:Lo.a.gridLayout,cols:this.props.layouts.get("maxColumns"),rowHeight:60,layout:this.props.layouts.get("gridLayout").toJS(),width:t,isDraggable:!0,isResizable:!0,onLayoutChange:this.onLayoutChange,onResizeStop:xo()(this.props.updateMaxColumns.bind(this.props.layouts.get("gridLayout"))),onDragStop:xo()(this.props.updateMaxColumns.bind(this.props.layouts.get("gridLayout"))),compactType:"none"!==this.props.settings.get("collectionCompactionType")?this.props.settings.get("collectionCompactionType"):null,preventCollision:this.props.settings.get("preventCollision"),draggableHandle:".drag-handle"},this.renderCollection(this.props.collections.get("collections").filter((function(e){return!1===e.get("isSinked")})),this.props.layouts,{hoverAlternative:this.hoverAlternative,dehoverAlternative:this.dehoverAlternative,sendMessage:this.sendMessage,loadOptions:this.loadOptions,isMultipleInputs:this.state.isMultipleInputs,cloneAlternativesFromTaggedCollections:this.cloneAlternativesFromTaggedCollections,updateLayoutForCollection:this.updateLayoutForCollection,updateAspectRatio:this.updateAspectRatio.bind(this),updateUnlockAspectRatio:this.updateUnlockAspectRatio.bind(this),updateMultipleNames:this.updateMultipleNames.bind(this),createNewCollection:this.props.createNewCollection,deleteCollections:this.props.deleteCollections,selectCollection:this.props.selectCollection,deselectCollection:this.props.deselectCollection,selectAlternative:this.props.selectAlternative,deselectAlternative:this.props.deselectAlternative,deselectAllAlternatives:this.props.deselectAllAlternatives,hoverAlternativeSpecial:this.props.hoverAlternativeSpecial,cloneAlternatives:this.props.cloneAlternatives,toggleSink:this.props.sinkCollection,toggleViewMode:this.props.toggleViewMode,toggleAltView:this.props.toggleAltView,removeAlternativesFromCollection:this.props.removeAlternativesFromCollection,editNameForCollection:this.props.editNameForCollection,isEditingCollectionsName:this.props.isEditingCollectionsName,nameExists:this.namesExists.bind(this),handleNameExists:this.handleNameExists.bind(this),restoreAlternative:this.props.restoreAlternative,updateCollection:this.props.updateCollection,saveLayoutObject:this.props.saveLayoutObject,setCollectionDestination:this.props.setCollectionDestination,setCollectionMode:this.props.setCollectionMode,updateCollectionTags:this.props.updateCollectionTags,alternatives:this.props.alternatives,layouts:this.props.layouts,selectedAlts:this.selectedAlts,selectedCols:this.selectedCols,changeMultipleName:this.changeMultipleName.bind(this),nameHasTheSameValue:this.nameHasTheSameValue.bind(this),removeFocus:this.props.removeFocus,shouldRemoveFocus:this.props.collections.get("shouldRemoveFocus")})),i.a.createElement(_e.a,{url:x.get("websocketURL")+"?projectId="+sessionStorage.getItem(p.get("PROJECT_ID"))+"&userId="+localStorage.getItem(p.get("USER_ID")),onMessage:this.props.onMessageRecieved,onOpen:this.props.openWebSocketConnection,ref:function(t){return e.refWebSocket=t}}),this.props.settings.get("showSettings")?i.a.createElement(so,{settings:this.props.settings,toggleSettings:this.props.toggleSettings,setCollisionPrevention:this.props.setCollisionPrevention,setAlternativeSize:this.props.setAlternativeSize,setCompactionType:this.props.setCompactionType,projects:this.props.projects.get("projects"),message:"Please select a project: ",selectProject:this.props.selectProject,createProject:this.props.createProject,user:this.props.user.get("user"),selectedProject:this.props.projects.get("selectedProject")}):null,this.props.search.get("showSearch")?i.a.createElement(go,{search:this.props.search,toggleSearch:this.props.toggleSearch,handleSearch:this.handleSearch,searchedCollectionFailed:this.props.searchedCollectionFailed,searchedCollectionSuccess:this.props.searchedCollectionSuccess,emptyMissMatchArray:this.props.emptyMissMatchArray}):null,this.state.shouldWarn?i.a.createElement(rt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null)}}]),n}(o.PureComponent),Ro=function(e,t,n,o){return function(i,a){var r=a().collections.get("collections"),s=C(r,e.collectionViewId);if(Object(l.b)((function(){i(sn(n)),i(ln(o))})),s){var c=_(r,s.get("viewId")),u=s.update("altsid",(function(t){return t.push(e._id)})),p=c.push(u);i(nn(p))}else{var g=a().alternatives.get("alternatives").size>0?a().alternatives.get("alternatives").toJS()[0].params:{},h=a().alternatives.get("alternatives").size>0?a().alternatives.get("alternatives").toJS()[0].outputs:{},f=(t=z(t,Object.keys(g),Object.keys(h))).viewId,m=d.a.fromJS({x:2,y:2,w:3,h:5,i:f,minW:3,minH:5,moved:!1,static:!1});Object(l.b)((function(){i(En(m)),i(dn([e._id],t.collectionName,t.refId,t.tags,t.viewId,!1,!1,!1,t.viewType,a().scales.get("keySets"),t.inputs,t.outputs,[],{}))}))}}},Bo=function(e){return function(t,n){var o=n().alternatives.get("alternatives").toJS()[0].params,i=n().alternatives.get("alternatives").toJS()[0].outputs;e.forEach((function(e){e.alts.map((function(e){t(cn(F(e,o,i)))})),e.alts.map((function(n){Object(l.b)((function(){t(un(e.collectionId,n.viewId)),t(hn(n.viewId))}))}))}))}},Ho=function(e,t){return function(n,o){var i=o().collections.get("collections"),a=o().scales.get("keySets").toJS(),r=o().alternatives.get("alternatives").toJS()[0].params,l=o().alternatives.get("alternatives").toJS()[0].outputs;e.map((function(e){var t,o,s=F(e,r,l),c=y(i,s.collectionName).get("dimOrder").toJS(),u=s.parallelData;a.filter((function(e){return!c.includes(e)})).forEach((function(e){return u=U(u,e)})),s.parallelData=u,n((t=s.viewId,o=s,{type:p.get("UPDATE_ALTERNATIVE"),payload:{viewId:t,alternative:o}})),n(wn(s.viewId,!1))})),n(sn(t))}},Jo=function(e,t){return function(n){Object(l.b)((function(){n(Ho(e)),n(Ro(e,t))}))}},Vo=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),Wo=function(){return function(e){return fetch(x.get("layout_fetch")).then((function(e){return e.json()})).then((function(t){var n=t[0].layout;Object(l.b)((function(){e(on(n)),e(Uo()),e(Xt(wt.b.success("Layouts fetched"),"layouts fetched "+Vo))}))})).catch((function(t){e($t(wt.b.error("Layouts not fetched"),"layouts not fetched "+Vo))}))}},Uo=function(){return function(e){return fetch(x.get("alternatives_fetch")).then((function(e){return e.json()})).then((function(t){var n=t.alternatives.filter((function(e){return null!==e})).map((function(e){return F(e)}));Object(l.b)((function(){var o;e((o=n,{type:p.get("FETCH_ALTERNATIVES"),payload:o})),e(ln(t.keySets)),e(sn(t.valueBands)),e(Go()),e(Xt(wt.b.success("Alternatives fetched"),"alternatives fetched "+Vo))}))})).catch((function(t){console.log(t),e($t(wt.b.error("Alternatives not fetched"),"alternatives not fetched "+Vo))}))}},Go=function(){return function(e,t){return fetch(x.get("collections_fetch")).then((function(e){return e.json()})).then((function(n){for(var o,i=t().alternatives.get("alternatives").size>0?Object.keys(t().alternatives.get("alternatives").toJS()[0].params):{},a=t().alternatives.get("alternatives").size>0?Object.keys(t().alternatives.get("alternatives").toJS()[0].outputs):{},r=t().layouts,s=t().alternatives,c=H(s.get("alternatives")),u=(o=c,n.map((function(e){var t=e.altsid.filter((function(e){return-1!==o.findIndex((function(t){return t===e}))}));return e.altsid=t,e}))),p=function(e,t){return e.map((function(e){var n=e[g.get("ID")];if(!t.get("gridLayout").find((function(e){return e.get("i")===n})))return e}))}(u,r),f=0;f<p.length;f++){var m=p[f];if(m){var v=d.a.fromJS({x:2,y:2,w:3,h:5,i:m.viewId,minW:3,minH:5,moved:!1,static:!1});e(En(v))}}(function(e){var t,n=!1,o=Object(h.a)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;("undefined"===typeof i.collectionNameView||null===i.collectionNameView||i.collectionNameView.length<=0)&&(n=!0)}}catch(a){o.e(a)}finally{o.f()}return n})(u)&&function(e){if(null!==e&&e.length>0){for(var t,n={refId:null},o=0,i=e.sort((function(e,t){var n=e.refId.toLowerCase(),o=t.refId.toLowerCase();return n<o?-1:n>o?1:0})),a=0;a<i.length;a++)if(i[a].refId!=n.refId){if(o=1,(t=(n=i[a]).collectionName).includes("-View(")){var r=i[a].collectionName.indexOf("-View(");t=t.slice(0,r)}i[a].collectionNameView="View(".concat(o,")"),i[a].collectionName=t+"-View(".concat(o,")")}else{if(i[a].collectionName.includes("-View(")){var l=i[a].collectionName.indexOf("-View(");t=t.slice(0,l)}o++,i[a].collectionNameView="View(".concat(o,")"),i[a].collectionName=t+"-View(".concat(o,")")}return i}return e}(u).map((function(t){return e(Co(t))}));var E=u.map((function(e){return z(e,i,a)}));Object(l.b)((function(){e(nn(E)),e(Xt(wt.b.success("Collections fetched"),"collections fetched "+Vo))}))})).catch((function(t){console.log(t),e($t(wt.b.error("Collections not fetched"),"collections not fetched "+Vo))}))}},Fo=n(105),zo=n.n(Fo),Yo=n(447),Qo=n.n(Yo),Ko=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleSelectedProject=function(e){e.preventDefault(),o.props.selectProject(o.props.project.toJS()),o.props.history.push("./project")},o.handleDelete=function(e){e.preventDefault(),e.stopPropagation(),o.props.deleteProject(o.props.project.get("id"))},o.handleEdit=function(e){e.preventDefault(),e.stopPropagation(),o.props.openEditProject(o.props.project)},o.onRightClick=function(e){e.preventDefault(),e.stopPropagation(),o.props.showProjectContextMenu(e.pageX+"px",e.pageY+"px",o.props.project)},o}return Object(ge.a)(n,[{key:"render",value:function(){var e=this.props.userName?this.props.userName:"No Name";return i.a.createElement("div",{className:zo.a.projectContainer,onClick:this.handleSelectedProject,onContextMenu:this.onRightClick},i.a.createElement("div",{className:zo.a.imageContainer},i.a.createElement("img",{src:Qo.a,alt:"image of alternatives",style:{width:390,height:130}})),i.a.createElement("div",{className:zo.a.textContainer},i.a.createElement("div",{className:zo.a.titleContainer},i.a.createElement("h3",{className:zo.a.title},this.props.name)),i.a.createElement("div",{className:zo.a.descriptionContainer},i.a.createElement("p",{className:zo.a.description},this.props.project.get("description")),i.a.createElement("div",{className:zo.a.userContainer},i.a.createElement("div",{className:zo.a.circle},i.a.createElement("p",{className:zo.a.initials},e.charAt(0).toUpperCase()))))))}}]),n}(o.PureComponent),qo=n(56),Xo=n.n(qo),Zo=n(448),$o=n.n(Zo),ei=n(138),ti=n.n(ei),ni=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleOpenProject=function(e){e.preventDefault(),o.props.shouldCloseProjectContextMenu(),o.props.selectProject(o.props.project.toJS()),o.props.history.push("/project")},o.handleEditProject=function(e){e.preventDefault(),o.props.openEditProject(o.props.project)},o.handleDeleteProject=function(e){e.preventDefault(),o.props.handleDeleteProject(o.props.project.get("id"))},o}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:ti.a.contextMenuContainer,style:{top:this.props.yPos,left:this.props.xPos}},i.a.createElement("div",{onClick:this.handleOpenProject,className:ti.a.openContainer},i.a.createElement("p",{className:ti.a.listItemText},"Open")),i.a.createElement("div",{onClick:this.handleEditProject,className:ti.a.editContainer},i.a.createElement("p",{className:ti.a.listItemText},"Edit")),i.a.createElement("div",{onClick:this.handleDeleteProject,className:ti.a.deleteContainer},i.a.createElement("p",{className:ti.a.listItemText},"Delete")))}}]),n}(o.PureComponent),oi=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleCreate=function(){""!==o.newProjectName&&(o.props.createProject(o.newProjectName,o.newProjectDescription),o.props.history.push("/project"))},o.handleCancel=function(){o.props.isCreatingProject()},o.onProjectNameChange=function(e){o.newProjectName=e.target.value},o.onProjectDescriptionChange=function(e){o.newProjectDescription=e.target.value},o.state={open:!0},o.selectedProject={},o.newProjectName="",o.newProjectDescription="",o}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(tt.a,{open:this.props.isCreating,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(at.a,{id:"alert-dialog-title",style:{color:"black"}},"Projects"),i.a.createElement(ot.a,null,i.a.createElement(it.a,{id:"alert-dialog-description",style:{color:"black"}},"Enter a name and description for the new project."),i.a.createElement(po.a,{autoFocus:!0,margin:"dense",id:"project-name",label:"project name",onChange:this.onProjectNameChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),i.a.createElement(po.a,{autoFocus:!0,margin:"dense",id:"project-description",label:"project description",onChange:this.onProjectDescriptionChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),i.a.createElement(nt.a,null,i.a.createElement(et.a,{onClick:this.handleCancel,color:"primary"},"Cancel"),i.a.createElement(et.a,{onClick:this.handleCreate,color:"primary",autoFocus:!0},"create")))))}}]),n}(o.PureComponent),ii=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleUpdate=function(){if(""!==o.state.newProjectName){var e={projectName:o.state.newProjectName,projectDescription:o.state.newProjectDescription,projectId:o.props.project.get("id")};o.props.editProject(e)}},o.handleCancel=function(){o.props.openEditProject(null)},o.onProjectNameChange=function(e){o.setState({newProjectName:e.target.value})},o.onProjectDescriptionChange=function(e){o.setState({newProjectDescription:e.target.value})},o.state={open:!0},o.selectedProject={},o.newProjectName="",o.newProjectDescription="",o}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.setState({newProjectName:this.props.project.get("name"),newProjectDescription:this.props.project.get("description")})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(tt.a,{open:this.props.isCreating,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(at.a,{id:"alert-dialog-title",style:{color:"black"}},"Projects"),i.a.createElement(ot.a,null,i.a.createElement(it.a,{id:"alert-dialog-description",style:{color:"black"}},"Enter a name and description for the new project."),i.a.createElement(po.a,{autoFocus:!0,margin:"dense",id:"project-name",label:"project name",value:this.state.newProjectName,onChange:this.onProjectNameChange,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),i.a.createElement(po.a,{autoFocus:!0,margin:"dense",id:"project-description",label:"project description",onChange:this.onProjectDescriptionChange,value:this.state.newProjectDescription,type:"text",fullWidth:!0,InputLabelProps:{style:{color:"#000"}}}),i.a.createElement(nt.a,null,i.a.createElement(et.a,{onClick:this.handleCancel,color:"primary"},"Cancel"),i.a.createElement(et.a,{onClick:this.handleUpdate,color:"primary",autoFocus:!0},"Update")))))}}]),n}(o.PureComponent),ai=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).componentDidUpdate=function(e,t,n){e.auth.get("userLoggedIn")&&!o.props.auth.get("userLoggedIn")&&o.props.history.push("/")},o.handelLogout=function(){o.props.logout()},o.showProjectContextMenu=function(e,t,n){o.props.showProjectMenu(e,t,n)},o.renderProjects=function(e){return e.map((function(e){return i.a.createElement(Ko,{key:e.get("id"),project:e,name:e.get("name"),selectProject:o.props.selectProject,deleteProject:o.handleDeleteProject.bind(Object(Ke.a)(o)),openEditProject:o.handelOpenEditProject.bind(Object(Ke.a)(o)),history:o.props.history,showProjectContextMenu:o.showProjectContextMenu,userName:o.props.auth.get("user").get("username")})}))},o.handleCreateProject=function(){o.props.isCreatingProject()},o.handleDeleteCancel=function(){o.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})},o.handleClick=function(e){e.preventDefault(),o.props.projects.get("showProjectContextMenu")&&o.props.shouldCloseProjectContextMenu()},o.handleHomeClick=function(e){e.preventDefault(),o.props.history.push("/")},o.handleAboutClick=function(e){e.preventDefault(),window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","docs")},o.state={shouldWarn:!1,confirmAction:null,warningMessage:""},o}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProjects()}},{key:"handelOpenEditProject",value:function(e){this.props.openEditProject(e)}},{key:"deleteProject",value:function(e){this.props.deleteProject(e),this.setState({shouldWarn:!1,warningMessage:"",confirmAction:null})}},{key:"handleDeleteProject",value:function(e){this.props.shouldCloseProjectContextMenu(),this.setState({shouldWarn:!0,warningMessage:"Do you want to delete all selected project views and their underlying alternative?",confirmAction:this.deleteProject.bind(this,e)})}},{key:"render",value:function(){var e=this.props.auth.get("user")&&this.props.auth.get("user").get("username")?this.props.auth.get("user").get("username"):"No Name";return i.a.createElement("div",{className:Xo.a.mainsContainer,onClick:this.handleClick},i.a.createElement(To,null),i.a.createElement("div",{className:Xo.a.controlsContainer},i.a.createElement("div",{className:Xo.a.controlsContent},i.a.createElement("div",{className:Xo.a.userContainer},i.a.createElement("div",{className:Xo.a.circle},i.a.createElement("p",{className:Xo.a.initials},e.charAt(0).toUpperCase())),i.a.createElement("p",{className:Xo.a.userName},e)),i.a.createElement("div",{className:Xo.a.homeContainer,onClick:this.handleHomeClick},i.a.createElement(Ne.k,{style:{width:30,height:30,marginLeft:10}}),i.a.createElement("p",{className:Xo.a.homeText},"Home ")),i.a.createElement("div",{className:Xo.a.homeContainer,onClick:this.handleAboutClick},i.a.createElement(Ne.f,{style:{width:30,height:30,marginLeft:10}}),i.a.createElement("p",{className:Xo.a.homeText},"About Us ")),i.a.createElement("div",{className:Xo.a.addProjectContainer,onClick:this.handleCreateProject},i.a.createElement(Ne.q,{style:{width:30,height:30,marginLeft:10}}),i.a.createElement("p",{className:Xo.a.addProjectText},"Add Project")),i.a.createElement("div",{className:Xo.a.logoutContainer,onClick:this.handelLogout},i.a.createElement($o.a,{style:{width:30,height:30,marginLeft:10}}),i.a.createElement("p",{className:Xo.a.logoutText},"logout")))),i.a.createElement("div",{className:Xo.a.projectsContainer},this.props.projects.get("projectFetched")||this.props.projects.get("projectLoaded")?i.a.createElement("div",{className:Xo.a.projectsRow},this.renderProjects(this.props.projects.get("projects")),this.props.projects.get("isCreating")?i.a.createElement(oi,{isCreatingProject:this.props.isCreatingProject,isCreating:this.props.projects.get("isCreating"),createProject:this.props.createProject,history:this.props.history}):null,this.props.projects.get("showEditBox")?i.a.createElement(ii,{isCreatingProject:this.props.isCreatingProject,isCreating:this.props.projects.get("showEditBox"),project:this.props.projects.get("editProject"),editProject:this.props.editProject,openEditProject:this.props.openEditProject,history:this.props.history}):null,this.props.projects.get("showProjectContextMenu")?i.a.createElement(ni,{xPos:this.props.projects.get("contextMenuPosX"),yPos:this.props.projects.get("contextMenuPosY"),project:this.props.projects.get("contextMenuSelectedProject"),handleDeleteProject:this.handleDeleteProject.bind(this),openEditProject:this.props.openEditProject,history:this.props.history,shouldCloseProjectContextMenu:this.props.shouldCloseProjectContextMenu,selectProject:this.props.selectProject}):null):i.a.createElement("h3",null,"Loading...")),this.state.shouldWarn?i.a.createElement(rt,{handleDeleteCancel:this.handleDeleteCancel,confirmAction:this.state.confirmAction,message:this.state.warningMessage}):null)}}]),n}(o.PureComponent),ri=function(e,t){return e.filter((function(e){return e.get("name")===t})).size>0},li=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),si=function(e){return function(t){t(rn()),fetch(x.get("project_select"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then((function(e){return e.json()})).then((function(n){n.success&&(n.currentProject&&n.currentProject.id&&sessionStorage.setItem(p.get("PROJECT_ID"),n.currentProject.id),Object(l.b)((function(){var n;t((n=e,{type:p.get("SELECT_PROJECT"),payload:n})),t(Wo())})))})).catch((function(e){t($t(wt.b.error("Project not selected"),"project not fetched "+li))}))}},ci=function(e,t){return function(n,o){ri(o().projects.get("projects"),e)?n($t(wt.b.error("Project already exists"),"Project already exists "+li)):(n(rn()),fetch(x.get("project_create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,description:t})}).then((function(e){return e.json()})).then((function(e){e.db_loaded&&(e.currentProject&&e.currentProject.id&&sessionStorage.setItem(p.get("PROJECT_ID"),e.currentProject.id),Object(l.b)((function(){n(In()),n(an(e)),n(Wo()),n(Xt(wt.b.success("Created project successfully"),"Created project successfully "+li))})))})).catch((function(e){n($t(wt.b.error("Could not create project"),"Could not create project "+li))})))}},ui=function(e){return function(t){return fetch(x.get("delete_project"),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){return e.json()})).then((function(n){n&&Object(l.b)((function(){t(function(e){return{type:p.get("DELETE_PROJECT"),payload:e}}(e)),t(Xt(wt.b.success("Deleted project successfully"),"Deleted project successfully "+li))}))})).catch((function(e){t($t(wt.b.error("Could not delete project"),"Could not delete project "+li))}))}},di=function(e){return function(t,n){if(!ri(n().projects.get("projects"),e.projectName))return fetch(x.get("update_project"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then((function(e){return e.json()})).then((function(n){n&&Object(l.b)((function(){t(function(e){return{type:p.get("UPDATE_PROJECT"),payload:e}}(e)),t(Xt(wt.b.success("Updated project successfully"),"Updated project successfully "+li))}))})).catch((function(e){t($t(wt.b.error("Could not update project"),"Could not update project "+li))}));t($t(wt.b.error("Project already exists"),"Project already exists "+li))}},pi=function(e){return function(t){return fetch(x.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({preventCollision:e})}).then((function(){t(function(e){return{type:p.get("SET_COLLISION_PREVENTION"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},gi=function(e){return function(t){return fetch(x.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionCompactionType:e})}).then((function(){t(function(e){return{type:p.get("SET_COMPACTION_TYPE"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},hi=function(e){return function(t){return console.log(e),fetch(x.get("settings_fetch"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({alternativeImageSize:e})}).then((function(){t(function(e){return{type:p.get("SET_ALTERNATIVE_SIZE"),payload:e}}(e))})).catch((function(e){return console.log(e)}))}},fi=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){var e=this.props.projects.get("projectFetched"),t=(this.props.projects.get("projectLoaded"),this.props.layouts.get("layoutsFetched")),n=this.props.alternatives.get("alternativesFetched"),o=this.props.collections.get("collectionsFetched");return W(e&&t&&n&&o,i.a.createElement(Do,this.props))}}]),n}(o.Component),mi=Object(l.c)((function(e){return{alternatives:e.alternatives,collections:e.collections,user:e.auth,layouts:e.layouts,projects:e.projects,settings:e.settings,search:e.search,header:e.header,websocket:e.websocket}}),(function(e){return{openWebSocketConnection:function(){e({type:p.get("OPEN_WEB_SOCKET_CONNECTION")})},onMessageRecieved:function(t){var n;e((n=t,function(e){var t=JSON.parse(n),o=t.type,i=t.data;switch(o){case"NEW":Object(l.b)((function(){e(cn(F(i.alt,i.alt.params,i.alt.outputs))),e(Rn(i.alt.viewId)),e(Ro(i.alt,i.collection,i.valueBands,i.keySets)),e(Bo(i.refResult))}));break;case"EDIT":e(Ho(i.alts,i.valueBands));break;case"NEWALT":e(Jo(i.alt,i.collection))}}))},sendMessage:function(t,n){e(function(e,t){return function(){if(e&&1===e.state.ws.readyState){var n=localStorage.getItem(p.get("USER_ID")),o=sessionStorage.getItem(p.get("PROJECT_ID"));t.projectId=o,t.userId=n;var i=JSON.stringify(t);e.sendMessage(i)}}}(t,n))},selectProject:function(t){e(si(t))},createProject:function(t,n){e(ci(t,n))},updateMaxColumns:function(t){var n;e((n=t,{type:p.get("UPDATE_MAX_COLUMNS"),width:Math.max.apply(Math,Object(Ee.a)(n.map((function(e){return e.x+e.w}))))+9,layout:n}))},cutAlternativesFromCollection:function(t){e(jn(t))},refAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(Pn(t,n))},cloneAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(xn(t,n))},cloneEditAlternatives:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(Mn(t,n))},deleteCollections:function(t){e(yo(t))},selectCollection:function(t){e(function(e){return{type:p.get("SELECT_COLLECTION"),payload:{viewId:e}}}(t))},deselectCollection:function(t){e(pn(t))},clipCollection:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e(gn(t,n,o,i))},selectAlternative:function(t){e(hn(t))},deselectAlternative:function(t){e(vn(t))},hoverAlternative:function(t){e(fn(t))},hoverAlternativeSpecial:function(t){e(Rn(t))},dehoverAlternative:function(t){e(function(e){return{type:p.get("DEHOVER_ALTERNATIVE"),payload:{viewId:e}}}(t))},clipAlternatives:function(t,n,o){e(function(e,t){return{type:p.get("CLIP_ALTERNATIVE"),payload:{viewId:e,refId:t}}}(t,n))},updateCollectionLayout:function(t){e(on(t))},saveLayoutObject:function(t){var n;e((n=t,{type:p.get("SAVE_LAYOUT"),payload:n}))},createNewCollection:function(t,n,o,i,a,r){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"col",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],g=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,h=arguments.length>12?arguments[12]:void 0,f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:[],m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],E=arguments.length>16&&void 0!==arguments[16]?arguments[16]:{},S=arguments.length>17&&void 0!==arguments[17]&&arguments[17],y=arguments.length>18&&void 0!==arguments[18]?arguments[18]:"View(1)";return function(_,b){return fetch(x.get("collections"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(i){r=i[0].viewId,s=i[0].refId,g=i[0].viewType,p=i[0].tags,h=b().scales.get("keySets"),y=i[0].collectionNameView,a=a&&"col"!==a?a+"-"+y:i[0].collectionName+"-"+y;var C=d.a.fromJS({x:e,y:t,w:n,h:o,i:r,minW:3,minH:5,moved:!1,static:!1});return Object(l.b)((function(){_(En(C)),_(dn(i[0].altsid,a,s,p,r,c,u,g,h,f,m,v,E,S,y))})),r})).then((function(e){null!==i&&void 0!==i&&i.length>0&&_(xn(i,[e])),null!==a&&void 0!==a&&a.length>0&&Object(l.b)((function(){var t=a;t=I(t),_(Co(C(b().collections.get("collections"),e).toJS())),_(Sn(e,t))}))})).catch((function(e){_($t(wt.b.error("Collection is not created"),"collection is not created"+So))}))}}(t,n,o,i,a,r))},copyWithRefCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(r,s){var c=wt.b.info("Copying Collection With Ref",{toastId:"CopyWithRef",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,rtl:!0,position:"bottom-center",progress:.8});return fetch(x.get("collectionCopyWithRef"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(u){wt.b.update(c,{progress:.5});for(var p=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].params:{},g=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].outputs:{},h=0;h<u.alternatives.length;h++)r(cn(F(u.alternatives[h],p,g)));for(var f=u.collections.map((function(e){return z(e,Object.keys(p),Object.keys(g))})),m=function(p){var g=f[p],h=g.collectionName,m=g.viewId,v=g.refId,E=g.collectionNameView;i=g.viewType,o=g.tags;var S=g.altsid,y=g.inputs,_=g.outputs,b=C(s().collections.get("collections"),e[p].viewId).get("dimOrder"),w=u.collections[p].layout,N=d.a.fromJS({x:w.x+w.w,y:w.y,w:w.w,h:w.h,i:m,minW:3,minH:5,moved:!1,static:!1});Object(l.b)((function(){wt.b.update(c,{progress:.2}),r(En(N)),r(dn(S,h,v,o,m,t,n,i,b,y,_,[],{},a,E)),r(En(N)),wt.b.isActive(c)&&wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r(Xt(wt.b.success("Collection copied"),"collection copied"+So))}))},v=0;v<f.length;v++)m(v)})).catch((function(e){wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r($t(wt.b.error("collection is not copied"),"collection is not copied"+So))}))}}(t))},cloneAltInNewCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"col",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]&&arguments[9],u=arguments.length>10&&void 0!==arguments[10]&&arguments[10],p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],g=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,h=arguments.length>13?arguments[13]:void 0,f=arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],m=arguments.length>15&&void 0!==arguments[15]?arguments[15]:[],v=arguments.length>16&&void 0!==arguments[16]?arguments[16]:[],E=arguments.length>17&&void 0!==arguments[17]?arguments[17]:{},S=arguments.length>18&&void 0!==arguments[18]&&arguments[18],y=arguments.length>19&&void 0!==arguments[19]?arguments[19]:"View(1)";return function(_,b){if(e.length>0){var w=wt.b.info("Clone Alternative In a New Collection",{toastId:"cloneAltInNewCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,rtl:!0,position:"bottom-center",progress:.8});return fetch(x.get("cloneAltInNewCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({altsid:e})}).then((function(e){return e.json()})).then((function(e){var C=e.collections;r=C[0].viewId,s=C[0].refId,g=C[0].viewType,p=C[0].tags,h=b().scales.get("keySets"),y=C[0].collectionNameView,a=a&&"col"!==a?a+"-"+y:C[0].collectionName+"-"+y;var w=d.a.fromJS({x:t,y:n,w:o,h:i,i:r,minW:3,minH:5,moved:!1,static:!1});return Object(l.b)((function(){_(En(w)),_(dn(C[0].altsid,a,s,p,r,c,u,g,h,f,m,v,E,S,y))})),e})).then((function(e){return wt.b.update(w,{progress:.5}),e.alternatives.forEach((function(e){var t=b().alternatives.get("alternatives").toJS()[0].params,n=b().alternatives.get("alternatives").toJS()[0].outputs,o=z(e.collection,Object.keys(t),Object.keys(n));Object(l.b)((function(){e.alts.map((function(e){_(cn(F(e,t,n)))}))})),e.alts.map((function(t,n){Object(l.b)((function(){_(un(e.collectionId,t.viewId,o.inputs,o.outputs,o.dimOrder))}))}))})),e})).then((function(e){return null!==a&&void 0!==a&&a.length>0&&Object(l.b)((function(){var e=a;e=I(e),_(Co(C(b().collections.get("collections"),r).toJS())),_(Sn(r,e))})),e.refs})).then((function(e){for(var a=b().alternatives.get("alternatives").size>0?b().alternatives.get("alternatives").toJS()[0].params:{},r=b().alternatives.get("alternatives").size>0?b().alternatives.get("alternatives").toJS()[0].outputs:{},s=0;s<e.alternatives.length;s++)_(cn(F(e.alternatives[s],a,r)));var f=e.collections.map((function(e){return z(e,Object.keys(a),Object.keys(r))}));Object(l.b)((function(){for(var a=0;a<f.length;a++){var r=f[a],l=r.collectionName,s=r.viewId,m=r.refId,y=r.collectionNameView;g=r.viewType,p=r.tags;var C=r.altsid,b=r.inputs,N=r.outputs,A=(e.collections[a].layout,d.a.fromJS({x:t,y:n,w:o,h:i,i:s,minW:3,minH:5,moved:!1,static:!1}));_(En(A)),_(dn(C,l,m,p,s,c,u,g,h,b,N,v=[],E={},S,y)),_(En(A))}wt.b.update(w,{progress:0,closeOnClick:!0,autoClose:1}),_(Xt(wt.b.success("Alternative(s) cloned in the new collection"),"alternative(s) cloned in the new collection "+So))}))})).catch((function(e){console.log(e),wt.b.update(w,{progress:0,closeOnClick:!0,autoClose:1}),_($t(wt.b.success("Alternative(s) not cloned in the new collection"),"alternative(s) not cloned in the new collection "+So))}))}_(Zt(wt.b.warning("Please select an alternative"),"please select an alternative"+So))}}(t))},cloneCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(r,s){var c=wt.b.info("Cloning Collection",{toastId:"cloningCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(x.get("collectionClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(u){wt.b.update(c,{progress:.5});for(var p=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].params:{},g=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].outputs:{},h=0;h<u.alternatives.length;h++)r(cn(F(u.alternatives[h],p,g)));wt.b.update(c,{progress:.2});for(var f=u.collections.map((function(e){return z(e,Object.keys(p),Object.keys(g))})),m=function(p){var g=f[p],h=g.collectionName,m=g.collectionNameView,v=g.viewId,E=g.refId;i=g.viewType,o=g.tags;var S=g.altsid,y=g.inputs,_=g.outputs,b=C(s().collections.get("collections"),e[p].viewId).get("dimOrder"),w=u.collections[p].layout,N=d.a.fromJS({x:w.x+w.w,y:w.y,w:w.w,h:w.h,i:v,minW:3,minH:5,moved:!1,static:!1});Object(l.b)((function(){r(En(N)),r(dn(S,h,E,o,v,t,n,i,b,y,_,[],{},a,m)),wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r(Xt(wt.b.success("Collection cloned"),"collection cloned"+So))}))},v=0;v<f.length;v++)m(v)})).catch((function(e){wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r($t(wt.b.error("Collection is not cloned"),"collection is not cloned"+So))}))}}(t))},deepCloneCollection:function(t){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return function(r,s){var c=wt.b.info("Deep Cloning Collection",{toastId:"DeepCloningCollection",autoClose:!1,closeOnClick:!1,pauseOnHover:!1,progress:.8,position:"bottom-center",rtl:!0});return fetch(x.get("collectionDeepClone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(u){wt.b.update(c,{progress:.5});for(var p=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].params:{},g=s().alternatives.get("alternatives").size>0?s().alternatives.get("alternatives").toJS()[0].outputs:{},h=0;h<u.alternatives.length;h++)r(cn(F(u.alternatives[h],p,g)));for(var f=u.collections.map((function(e){return z(e,Object.keys(p),Object.keys(g))})),m=function(p){var g=f[p],h=g.collectionName,m=g.collectionNameView,v=g.viewId,E=g.refId;i=g.viewType,o=g.tags;var S=g.altsid,y=g.inputs,_=g.outputs,b=C(s().collections.get("collections"),e[p].viewId).get("dimOrder"),w=u.collections[p].layout,N=d.a.fromJS({x:w.x+w.w,y:w.y,w:w.w,h:w.h,i:v,minW:3,minH:5,moved:!1,static:!1});Object(l.b)((function(){r(En(N)),r(dn(S,h,E,o,v,t,n,i,b,y,_,[],{},a,m)),wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r(Xt(wt.b.success("Collection cloned"),"collection cloned"+So))}))},v=0;v<f.length;v++)m(v)})).catch((function(e){wt.b.update(c,{progress:0,closeOnClick:!0,autoClose:1}),r($t(wt.b.error("Collection is not cloned"),"collection is not cloned"+So))}))}}(t))},clearAltsClipboard:function(){var t;e({type:p.get("CLEAR_ALTS_CLIPBOARD"),payload:t})},clearColsClipboard:function(){var t;e({type:p.get("CLEAR_COLS_CLIPBOARD"),payload:t})},editNameForCollection:function(t,n){e(Sn(t,n))},isEditingCollectionsName:function(t){e(function(e){return{type:p.get("HANDLE_EDIT_NAME_START"),payload:e}}(t))},removeFocus:function(){e({type:p.get("REMOVE_FOCUS")})},editCollectionName:function(t){e(function(e){return{type:p.get("EDIT_COLLECTION_NAME"),payload:{name:e}}}(t))},showHeader:function(t,n){e(function(e,t){return{type:p.get("SHOW_HEADER"),headerX:e,headerY:t}}(t,n))},hideHeader:function(){e(yn())},sinkCollection:function(t){e(function(e){return function(t){return fetch(x.get("sinkCollection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectionId:e})}).then((function(){Object(l.b)((function(){t(_n(e)),t(Xt(wt.b.success("Collection sinked"),"collection sinked "+So))}))})).catch((function(e){console.log(e),t($t(wt.b.error("Collection not sinked"),"collection not sinked "+So))}))}}(t))},hideSinkList:function(){e(Cn())},deselectAllAlternatives:function(){e({type:p.get("DESELECT_ALL_ALTERNATIVES")})},deselectAllCollections:function(){var t;e({type:p.get("DESELECT_ALL_COLLECTIONS"),payload:t})},toggleViewMode:function(t,n){e(function(e,t){return{type:p.get("TOGGLE_VIEW_MODE"),payload:{collectionId:e,viewType:t}}}(t,n))},toggleAltView:function(t){e(function(e){return{type:p.get("TOGGLE_ALT_VIEW"),payload:e}}(t))},alterAlternative:function(t,n,o){e(bn(t,n,o))},editAlternatives:function(t){e(Dn(t))},restoreAlternative:function(t){e(function(e){return function(){return fetch(x.get("alternativeRestore"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({viewId:e})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(t))},updateCollection:function(t){e(Co(t))},removeAlternativesFromCollection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(Ln(t))},setAlternativeSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e(hi(t))},setCompactionType:function(t){e(gi(t))},setCollisionPrevention:function(t){e(pi(t))},toggleSettings:function(){e(Nn())},toggleSearch:function(){e(An())},searchedCollectionSuccess:function(){e({type:p.get("SEARCHED_COLLECTION")})},searchedCollectionFailed:function(t){e(function(e){return{type:p.get("SEARCH_COLLECTION_FALID"),payload:e}}(t))},emptyMissMatchArray:function(){e({type:p.get("EMPTY_MISS_MATCH_NAME_ARRAY_SEARCH")})},setCollectionDestination:function(t,n){e(function(e,t){return{type:p.get("SET_COLLECTION_DESTINATION"),payload:{collection:e,destinations:t}}}(t,n))},setCollectionMode:function(t,n){e(function(e,t){return{type:p.get("SET_COLLECTION_MODE"),payload:{collection:e,mode:t}}}(t,n))},updateCollectionTags:function(t,n){e(function(e,t){return{type:p.get("UPDATE_COLLECTION_TAGS"),payload:{collectionId:e,tags:t}}}(t,n))},updateLayoutForCollection:function(t){var n;e((n=t,{type:p.get("UPDATE_LAYOUTS"),payload:n}))},successMessage:function(t,n){e(Xt(t,n))},warningMessage:function(t,n){e(Zt(t,n))},errorMessage:function(t,n){e($t(t,n))}}}))(fi),vi=(n(634),n(635),function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(p.get("USER_ID")),t=sessionStorage.getItem(p.get("PROJECT_ID")),n=this.props.projects.get("projectFetched");e&&t&&!n&&this.props.fetchProject()}},{key:"render",value:function(){return i.a.createElement("div",{className:ve.a.App},i.a.createElement("div",{className:ve.a.canvas},i.a.createElement("div",{className:ve.a.container},i.a.createElement(mi,null))))}}]),n}(o.PureComponent)),Ei=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement(vi,Object.assign({},this.props,{styles:null}))}}]),n}(o.Component),Si=Object(l.c)((function(e){return e}),(function(e){return{fetchAlternatives:function(){e(Uo())},fetchCollections:function(){e(Go())},fetchLayout:function(){e(Wo())},fetchProject:function(){e((function(e){fetch(x.get("project_fetch")).then((function(e){return e.json()})).then((function(t){t.db_loaded?Object(l.b)((function(){e(an(t)),e(Wo())})):e(an(t))})).catch((function(t){e($t(wt.b.error("Projects not fetched"),"Projects not fetched "+Vo))}))}))}}}))(Ei),yi=n(44),Ci=n(268),_i=(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),bi=function(){return function(e){localStorage.removeItem(p.get("USER_ID")),sessionStorage.removeItem(p.get("PROJECT_ID")),e({type:p.get("LOGOUT_USER")})}},wi=function(){return function(e){fetch(x.get("user_fetch")).then((function(e){return e.json()})).then((function(t){t.success?t.user&&t.user.id&&(localStorage.setItem(p.get("USER_ID"),t.user.id),Object(l.b)((function(){e(On(t.user))}))):Object(l.b)((function(){e(kn()),e($t(wt.b.error("Login failed"),t.message+" "+_i))}))})).catch((function(t){Object(l.b)((function(){e(kn()),e($t(wt.b.error("Login failed"),"Login was not successfull "+_i))}))}))}},Ni=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ai,this.props))}}]),n}(o.Component),Ai=Object(l.c)((function(e){return{projects:e.projects,auth:e.auth}}),(function(e){return{selectProject:function(t){e(si(t))},createProject:function(t,n){e(ci(t,n))},isCreatingProject:function(){e(In())},logout:function(){e(bi())},getUserProjects:function(){e((function(e){fetch(x.get("project_fetch")).then((function(e){return e.json()})).then((function(t){t.db_loaded?Object(l.b)((function(){e(an(t))})):e(an(t))})).catch((function(t){e($t(wt.b.error("Layouts not fetched"),"layouts not fetched "+Vo))}))}))},fetchUser:function(){e(wi())},deleteProject:function(t){e(ui(t))},openEditProject:function(t){e(function(e){return{type:p.get("PROJECT_EDIT_BOX"),payload:e}}(t))},editProject:function(t){e(di(t))},showProjectMenu:function(t,n,o){e(function(e,t,n){return{type:p.get("SHOW_PROJECT_CONTEXT_MENU"),payload:{xPos:e,yPos:t,project:n}}}(t,n,o))},shouldCloseProjectContextMenu:function(){e({type:p.get("HIDE_PROJECT_CONTEXT_MENU")})}}}))(Ni),Ii=n(6),Oi=n(407),ki=n(170),Ti=n.n(ki),ji=n(320),Li=n.n(ji),Pi=n(321),xi=n.n(Pi),Mi=function(e){return i.a.createElement("li",{className:xi.a.navigationItem},i.a.createElement(Ci.b,{to:e.link,exact:e.exact,activeClassName:xi.a.active},e.children))},Di=function(e){return i.a.createElement("ul",{className:Li.a.navigationItems},i.a.createElement(Mi,{link:"/",exact:!0},"Home"),e.isLoggedIn?i.a.createElement(Mi,{link:"/projects"},"Projects"):null,e.isLoggedIn?null:i.a.createElement(Mi,{link:"/signup"},"Join Us"),e.isLoggedIn?null:i.a.createElement(Mi,{link:"/login"},"Login"),e.user?i.a.createElement("li",{className:Li.a.name},e.user):null)},Ri=n(449),Bi=n.n(Ri),Hi=function(e){return i.a.createElement("header",{className:Ti.a.navigation},i.a.createElement("div",{className:Ti.a.logo,onClick:e.clicked},i.a.createElement("div",{className:Ti.a.logoContainer},i.a.createElement("img",{src:Bi.a,alt:"DStar logo",className:Ti.a.logoStyle}))),i.a.createElement("nav",{className:Ti.a.nav},i.a.createElement(Di,{isLoggedIn:e.isLoggedIn,user:e.user})))},Ji=n(106),Vi=n.n(Ji),Wi=n(450),Ui=n.n(Wi),Gi=Object(Ii.a)((function(e){return{root:{backgroundColor:"#176287",width:208,height:89,color:"#fff",fontFamily:"Poppins",fontSize:20,"&:hover":{backgroundColor:"#0c3c46"}}}}))(et.a),Fi=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).handleJoinButtonClick=function(){o.state.isLoggedIn?o.props.history.push("/projects"):o.props.history.push("/signup")},o.handleLoginClick=function(){o.state.isLoggedIn?window.open("https://dstar-design-gallery.github.io/dstar-docs/","_blank","docs"):o.props.history.push("/login")},o.handleLogoClicked=function(){o.props.history.push("/")},o.state={isLoggedIn:!1},o}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(p.get("USER_ID"));e&&null!=e&&this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e;window.innerWidth>=1400?e={width:208,height:89}:window.innerWidth<1400&&(e={width:180,height:89});return i.a.createElement("div",{className:Vi.a.mainContainer},i.a.createElement(Hi,{isLoggedIn:this.state.isLoggedIn,clicked:this.handleLogoClicked,user:this.props.user.get("user").get("username")}),i.a.createElement("main",{className:Vi.a.content},i.a.createElement("div",{className:Vi.a.imageContainer},i.a.createElement("div",{className:Vi.a.image},i.a.createElement("img",{src:Ui.a,alt:"collections image",className:Vi.a.image}))),i.a.createElement("div",{className:Vi.a.titlesContainer},i.a.createElement("div",{className:Vi.a.titles},i.a.createElement("h2",{className:Vi.a.mainTitle},"Explore Your Design Ideas"),i.a.createElement("p",{className:Vi.a.subTitle},"Generate & Review Unlimited Alternatives")),i.a.createElement("div",{className:Vi.a.buttonsContainer},i.a.createElement(Oi.a,{title:"Join",interactive:!0},i.a.createElement(Gi,{variant:"contained",size:"large",onClick:this.handleJoinButtonClick,style:e},this.state.isLoggedIn?"Projects":"join Now")),i.a.createElement(Gi,{onClick:this.handleLoginClick,style:e,size:"large"},this.state.isLoggedIn?"About":"login")))))}}]),n}(o.PureComponent),zi=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return i.a.createElement(Fi,this.props)}}]),n}(o.Component),Yi=Object(l.c)((function(e){return{user:e.auth}}),(function(e){return{fetchUser:function(){e(wi())}}}))(zi),Qi=n(51),Ki=n.n(Qi),qi=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).onUsernameChange=function(e){o.setState({username:e.target.value})},o.onPasswordChange=function(e){o.setState({password:e.target.value})},o.onPasswordConfirmationChange=function(e){o.setState({passwordConfirmation:e.target.value})},o.handleRegister=function(e){e.preventDefault(),""!==o.state.username&&""!==o.state.password&&""!==o.state.passwordConfirmation&&o.state.password===o.state.passwordConfirmation?o.props.register(o.state.username,o.state.password,o.state.passwordConfirmation):null===o.state.username||""===o.state.username?o.props.errorMessage(wt.b.error("Name can't be empty")," Name can't be empty 0"):null===o.state.password||""===o.state.password||null===o.state.passwordConfirmation||""===o.state.passwordConfirmation?o.props.errorMessage(wt.b.error("Password can't be empty")," Password can't be empty 0"):o.state.password!==o.state.passwordConfirmation&&o.props.errorMessage(wt.b.error("Password does not match Password Confirmation"),"Password does not match Password Confirmation 0")},o.handleLogoClicked=function(){o.props.history.push("/")},o.state={username:"",password:"",passwordConfirmation:""},o}return Object(ge.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){!e.auth.get("userFetched")&&this.props.auth.get("userFetched")&&this.props.history.push("/projects")}},{key:"render",value:function(){return i.a.createElement("div",{className:Ki.a.mainContainer},i.a.createElement(Hi,{clicked:this.handleLogoClicked}),i.a.createElement("main",{className:Ki.a.content},i.a.createElement(To,null),i.a.createElement("div",{className:Ki.a.titleContainer},i.a.createElement("div",{className:Ki.a.titleBox},i.a.createElement("p",{className:Ki.a.title},"Join Now."))),i.a.createElement("div",{className:Ki.a.authContainer},i.a.createElement("div",{className:Ki.a.signupBox},i.a.createElement("form",{onSubmit:this.handleRegister},i.a.createElement("div",{className:Ki.a.inputContainer},i.a.createElement("p",{className:Ki.a.inputStyle},"Name:"),i.a.createElement("input",{type:"text",name:"name",onChange:this.onUsernameChange,value:this.state.username,className:Ki.a.textInput,autoComplete:"name"})),i.a.createElement("div",{className:Ki.a.inputContainer},i.a.createElement("p",{className:Ki.a.inputStyle},"Password:"),i.a.createElement("input",{type:"password",name:"password",onChange:this.onPasswordChange,value:this.state.password,className:Ki.a.textInput,autoComplete:"new-password"})),i.a.createElement("div",{className:Ki.a.inputContainer},i.a.createElement("p",{className:Ki.a.inputStyle},"Password Confirmation:"),i.a.createElement("input",{type:"password",name:"password-confirmation",onChange:this.onPasswordConfirmationChange,className:Ki.a.textInput,autoComplete:"new-password"})),i.a.createElement("div",{className:Ki.a.buttonContainer},i.a.createElement("input",{type:"submit",value:"Join Now",className:Ki.a.submitInput})))))))}}]),n}(o.PureComponent),Xi=n(72),Zi=n.n(Xi),$i=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).onUsernameChange=function(e){o.setState({username:e.target.value})},o.onPasswordChange=function(e){o.setState({password:e.target.value})},o.handelLogin=function(e){e.preventDefault(),""!==o.state.username&&""!==o.state.password?o.props.login(o.state.username,o.state.password,o.props.history):null===o.state.username||""===o.state.username?o.props.errorMessage(wt.b.error("Name can't be empty")," Name can't be empty 0"):null!==o.state.password&&""!==o.state.password||o.props.errorMessage(wt.b.error("Password can't be empty")," Password can't be empty 0")},o.handleLogoClicked=function(){o.props.history.push("/")},o.state={username:"",password:""},o}return Object(ge.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){}},{key:"render",value:function(){return i.a.createElement("div",{className:Zi.a.mainContainer},i.a.createElement(Hi,{clicked:this.handleLogoClicked}),i.a.createElement("main",{className:Zi.a.content},i.a.createElement(To,null),i.a.createElement("div",{className:Zi.a.titleContainer},i.a.createElement("div",{className:Zi.a.titleBox},i.a.createElement("p",{className:Zi.a.title},"Login."))),i.a.createElement("div",{className:Zi.a.authContainer},i.a.createElement("div",{className:Zi.a.signupBox},i.a.createElement("form",{onSubmit:this.handelLogin},i.a.createElement("div",{className:Zi.a.inputContainer},i.a.createElement("p",{className:Zi.a.inputStyle},"Name:"),i.a.createElement("input",{type:"text",name:"name",onChange:this.onUsernameChange,value:this.state.username,className:Zi.a.textInput,autoComplete:"name"})),i.a.createElement("div",{className:Zi.a.inputContainer},i.a.createElement("p",{className:Zi.a.inputStyle},"Password:"),i.a.createElement("input",{type:"password",name:"password",onChange:this.onPasswordChange,value:this.state.password,className:Zi.a.textInput,autoComplete:"new-password"})),i.a.createElement("div",{className:Zi.a.buttonContainer},i.a.createElement("input",{type:"submit",value:"Login",className:Zi.a.submitInput})))))))}}]),n}(o.PureComponent),ea=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(ge.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,"/login"===this.props.location.pathname?i.a.createElement($i,this.props):i.a.createElement(qi,this.props))}}]),n}(o.Component),ta=Object(l.c)((function(e){return{auth:e.auth}}),(function(e){return{register:function(t,n,o){e(function(e,t,n){return function(n){fetch(x.get("user_register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.success?e.user&&e.user.id&&(localStorage.setItem(p.get("USER_ID"),e.user.id),Object(l.b)((function(){n(On(e.user))}))):Object(l.b)((function(){n(kn()),n($t(wt.b.error("Register failed"),e.message+" "+_i))}))})).catch((function(e){Object(l.b)((function(){n(kn()),n($t(wt.b.error("Login failed"),"Login was not successful "+_i))}))}))}}(t,n))},logout:function(){e(bi())},login:function(t,n,o){e(function(e,t,n){return function(o){fetch(x.get("user_login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){e.success?e.user&&e.user.id&&(localStorage.setItem(p.get("USER_ID"),e.user.id),Object(l.b)((function(){o(On(e.user)),n.push("/projects")}))):Object(l.b)((function(){o(kn()),o($t(wt.b.error("Login failed"),e.message+" "+_i))}))})).catch((function(e){Object(l.b)((function(){o(kn()),o($t(wt.b.error("Login failed"),"Login was not successfull "+_i))}))}))}}(t,n,o))},errorMessage:function(t,n){e($t(t,n))},fetchUser:function(){e(wi())}}}))(ea),na=function(e){Object(he.a)(n,e);var t=Object(fe.a)(n);function n(e){var o;return Object(pe.a)(this,n),(o=t.call(this,e)).state={isLoggedIn:!1},o}return Object(ge.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(p.get("USER_ID"));e&&null!==e&&this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e=i.a.createElement(yi.c,null,i.a.createElement(yi.a,{path:"/projects",component:Ai}),i.a.createElement(yi.a,{path:"/project",component:Si}),i.a.createElement(yi.a,{path:"/signup",component:ta}),i.a.createElement(yi.a,{path:"/login",component:ta}),i.a.createElement(yi.a,{exact:!0,path:"/",component:Yi}));return this.props.auth.get("userFetched")&&(e=i.a.createElement(yi.c,null,i.a.createElement(yi.a,{path:"/projects",component:Ai}),i.a.createElement(yi.a,{path:"/project",component:Si}),i.a.createElement(yi.a,{exact:!0,path:"/",component:Yi}))),i.a.createElement(Ci.a,null,e)}}]),n}(i.a.PureComponent),oa=Object(l.c)((function(e){return e}),null)(na);n(637);!function(e,t,n){n=n||window;var o=!1;n.addEventListener(e,(function(){o||(o=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent(t)),o=!1})))}))}("resize","optimizedResize");var ia=fetch;fetch=function(e,t){var n=localStorage.getItem(p.get("USER_ID")),o=sessionStorage.getItem(p.get("PROJECT_ID"));return t||(t={method:"GET",headers:{"Content-Type":"application/json"}}),t.headers.userid=n,t.headers.projectid=o,ia(e,t)},r.a.render(i.a.createElement(l.a,{store:Object(s.e)(ue,de(Object(s.a)(c.a)))},i.a.createElement(oa,null)),document.getElementById("root"))},72:function(e,t,n){e.exports={mainContainer:"login_mainContainer__2ftiI",content:"login_content__3M0Jt",authContainer:"login_authContainer__4MJkX",titleContainer:"login_titleContainer__2jWjK",signupBox:"login_signupBox__1PVdU",inputContainer:"login_inputContainer__G2f8_",buttonContainer:"login_buttonContainer__34ri8",inputStyle:"login_inputStyle__3lT9w",textInput:"login_textInput__U9FHG",submitInput:"login_submitInput__2lG_8",titleBox:"login_titleBox__1e0sH",title:"login_title__1sS8r"}},84:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorScrollBarTrack:"#ccc",colorScrollBarThumb:"#777",colorBoxShadow:"rgba(0,0,0,0.2)",colorGreyScale1:"#ccc",colorUnselected:"rgba(145,145,145,0.4)",colorHovered:"#cb1010",colorSelected:"#57b25a",colorSelectedRelated:"#cad100",colorHoveredRelated:"#ff808e",colorHoveredSelectedRelated:"red",colorHoveredSelected:"red",colorSketch:"red",colorSketchPath:"red",colorBrush:"#0796e4",colorBrushed:"rgba(22,243,30,0.6)",colorBrushSelected:"#91ee91",colorQuerySelected:"rgba(240,36,121,0.3)",colorQueryNotSelected:"rgba(0,179,255,0.3)",colorSelectedCoordinate:"#fceef2",colorCurrentCommand:"orange",colorNotificationBorder:"rgba(153,0,0,0.7)",colorNotificationSuccessBackground:"#bcfda0",colorNotificationSuccessGradient1:"#5bff14",colorNotificationSuccessGradient2:"#00b812",colorNotificationWarningBackground:"#faefa8",colorNotificationWarningGradient1:"#fd0",colorNotificationWarningGradient2:"#ffd500",colorNotificationErrorBackground:"#ff8a8a",colorNotificationErrorGradient1:"#db0000",colorNotificationErrorGradient2:"#900",opacity0:"0",opacityMid1:".33",opacityMid2:".67",opacity1:"1","history-pane":"notBar_history-pane___J1JY","success-pane":"notBar_success-pane__3Ex3j","warning-pane":"notBar_warning-pane__3W2_p","error-pane":"notBar_error-pane__1MhU7","title-bar":"notBar_title-bar__2a5j2",closeIcon:"notBar_closeIcon__1Nb9e","hr-history-pane":"notBar_hr-history-pane__2__r1","each-toast":"notBar_each-toast__39f8p"}}},[[503,1,2]]]);
//# sourceMappingURL=main.0cf06205.chunk.js.map